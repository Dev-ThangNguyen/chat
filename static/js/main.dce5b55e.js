/*! For license information please see main.dce5b55e.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,E=60108,S=60114,T=60109,C=60110,A=60112,N=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),_=V("react.portal"),I=V("react.fragment"),E=V("react.strict_mode"),S=V("react.profiler"),T=V("react.provider"),C=V("react.context"),A=V("react.forward_ref"),N=V("react.suspense"),R=V("react.suspense_list"),O=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,Ue=!1;function Ve(){null===Ce&&null===Ae||(Le(),Oe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,Qe={onError:function(e){We=!0,Ke=e}};function $e(e,t,n,r,i,a,o,u,s){We=!1,Ke=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},St={};function Tt(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ve()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Vn=f&&"TextEvent"in window&&!Un,jn=f&&(!Fn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Se(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Pt.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},Vi=null,ji=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Ei(e,t)}function Gi(e,t,n){return e=Ki(e),Si(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Vi){zi=!0;var e=0;try{var t=Vi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Oi,Qi),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ta=Ea(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,ja=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Va=e);Ba(Va,n)}Va=e,ja=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Va=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ha(e){if(e!==Va)return!1;if(!za)return Ka(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=ja;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Va=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Pu||0===(134217727&zu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,Vu=null,ju=0,zu=0,Bu=0,qu=0,Wu=null,Ku=0,Hu=1/0;function Gu(){Hu=qi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(Bu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],ji=Si(Oi,$i)):Vi.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ss();for(Pu===e&&Lu===r||(Gu(),Is(e,r));;)try{As();break}catch(s){Es(e,s)}if(na(),Nu.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=Uu),0!==(ju&Bu))Is(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ts(e,n))),1===r)throw t=Vu,Is(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Kr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(ju&Bu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ts(e,t))),1===n)throw n=Vu,Is(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,qi()),null}function bs(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function ws(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,ju|=t}function _s(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Pu=e,Du=Hs(e.current,null),Lu=Mu=ju=t,Uu=0,Vu=null,qu=Bu=zu=0}function Es(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Uu=1,Vu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Oo,null===e?Oo:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Ss();for(Pu===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(na(),Ou=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Os(e){var t=Wi();return Hi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,zr=$t,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Su($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Su($u.alternate,$u);break;case 4:Su($u.alternate,$u);break;case 8:Eu(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,Br=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&yu(k,$u.alternate,$u),128&_){b=void 0;var I=$u.ref;if(null!==I){var E=$u.stateNode;$u.tag,b=E,"function"===typeof I?I(b):I.current=b}}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);$u=null,Ui(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Ou)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Ku?Is(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=ju),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case S:return(e=Ws(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return $s(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),jo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,A=null,N=3,R=!1,O=!1,P=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(P=!1,D(e),!O)if(null!==_(S))O=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=N;try{for(D(n),A=_(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(S)&&I(S),D(n)}else I(S);A=_(S)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".11535cbc.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="chat_realtime:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/chat/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkchat_realtime=self.webpackChunkchat_realtime||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xa},SDK_VERSION:function(){return xo},_DEFAULT_ENTRY_NAME:function(){return so},_addComponent:function(){return ho},_addOrOverwriteComponent:function(){return po},_apps:function(){return lo},_clearComponents:function(){return go},_components:function(){return fo},_getProvider:function(){return mo},_registerComponent:function(){return vo},_removeServiceInstance:function(){return yo},deleteApp:function(){return So},getApp:function(){return Io},getApps:function(){return Eo},initializeApp:function(){return _o},onLog:function(){return Ao},registerVersion:function(){return Co},setLogLevel:function(){return No}});var t=n(791),r=n.t(t,2),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}function v(e,t){var n=h({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}function m(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function y(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function k(e){if(e.type)return e;if("#"===e.charAt(0))return k(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(y(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(y(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function b(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function w(e){var t="hsl"===(e=k(e)).type?k(function(e){var t=(e=k(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),b({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function x(e,t){return e=k(e),t=g(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,b(e)}function _(e,t){if(e=k(e),t=g(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return b(e)}function I(e,t){if(e=k(e),t=g(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return b(e)}function E(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e){return function(e){if(Array.isArray(e))return o(e)}(e)||E(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},C=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A=T((function(e){return C.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var N=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),R=Math.abs,O=String.fromCharCode,P=Object.assign;function D(e){return e.trim()}function L(e,t,n){return e.replace(t,n)}function M(e,t){return e.indexOf(t)}function F(e,t){return 0|e.charCodeAt(t)}function U(e,t,n){return e.slice(t,n)}function V(e){return e.length}function j(e){return e.length}function z(e,t){return t.push(e),e}var B=1,q=1,W=0,K=0,H=0,G="";function Q(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:B,column:q,length:o,return:""}}function $(e,t){return P(Q("",null,null,"",null,null,0),e,{length:-e.length},t)}function Y(){return H=K>0?F(G,--K):0,q--,10===H&&(q=1,B--),H}function X(){return H=K<W?F(G,K++):0,q++,10===H&&(q=1,B++),H}function J(){return F(G,K)}function Z(){return K}function ee(e,t){return U(G,e,t)}function te(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ne(e){return B=q=1,W=V(G=e),K=0,[]}function re(e){return G="",e}function ie(e){return D(ee(K-1,ue(91===e?e+2:40===e?e+1:e)))}function ae(e){for(;(H=J())&&H<33;)X();return te(e)>2||te(H)>3?"":" "}function oe(e,t){for(;--t&&X()&&!(H<48||H>102||H>57&&H<65||H>70&&H<97););return ee(e,Z()+(t<6&&32==J()&&32==X()))}function ue(e){for(;X();)switch(H){case e:return K;case 34:case 39:34!==e&&39!==e&&ue(H);break;case 40:41===e&&ue(e);break;case 92:X()}return K}function se(e,t){for(;X()&&e+H!==57&&(e+H!==84||47!==J()););return"/*"+ee(t,K-1)+"*"+O(47===e?e:X())}function ce(e){for(;!te(J());)X();return ee(e,K)}var le="-ms-",fe="-moz-",he="-webkit-",de="comm",pe="rule",ve="decl",me="@keyframes";function ye(e,t){for(var n="",r=j(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ge(e,t,n,r){switch(e.type){case"@import":case ve:return e.return=e.return||e.value;case de:return"";case me:return e.return=e.value+"{"+ye(e.children,r)+"}";case pe:e.value=e.props.join(",")}return V(n=ye(e.children,r))?e.return=e.value+"{"+n+"}":""}function ke(e,t){switch(function(e,t){return(((t<<2^F(e,0))<<2^F(e,1))<<2^F(e,2))<<2^F(e,3)}(e,t)){case 5103:return he+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return he+e+fe+e+le+e+e;case 6828:case 4268:return he+e+le+e+e;case 6165:return he+e+le+"flex-"+e+e;case 5187:return he+e+L(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return he+e+le+"flex-item-"+L(e,/flex-|-self/,"")+e;case 4675:return he+e+le+"flex-line-pack"+L(e,/align-content|flex-|-self/,"")+e;case 5548:return he+e+le+L(e,"shrink","negative")+e;case 5292:return he+e+le+L(e,"basis","preferred-size")+e;case 6060:return he+"box-"+L(e,"-grow","")+he+e+le+L(e,"grow","positive")+e;case 4554:return he+L(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return L(L(L(e,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),e,"")+e;case 5495:case 3959:return L(e,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return L(L(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+e+e;case 4095:case 3583:case 4068:case 2532:return L(e,/(.+)-inline(.+)/,he+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(V(e)-1-t>6)switch(F(e,t+1)){case 109:if(45!==F(e,t+4))break;case 102:return L(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+fe+(108==F(e,t+3)?"$3":"$2-$3"))+e;case 115:return~M(e,"stretch")?ke(L(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==F(e,t+1))break;case 6444:switch(F(e,V(e)-3-(~M(e,"!important")&&10))){case 107:return L(e,":",":"+he)+e;case 101:return L(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+he+(45===F(e,14)?"inline-":"")+"box$3$1"+he+"$2$3$1"+le+"$2box$3")+e}break;case 5936:switch(F(e,t+11)){case 114:return he+e+le+L(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return he+e+le+L(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return he+e+le+L(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return he+e+le+e+e}return e}function be(e){return re(we("",null,null,null,[""],e=ne(e),0,[0],e))}function we(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=X()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=M(_+=L(ie(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=ie(g);break;case 9:case 10:case 13:case 32:_+=ae(p);break;case 92:_+=oe(Z()-1,7);continue;case 47:switch(J()){case 42:case 47:z(_e(se(X(),Z()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=V(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&V(_)-f&&z(d>32?Ie(_+";",r,n,f-1):Ie(L(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(z(x=xe(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)we(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:we(e,x,x,r&&z(xe(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:we(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+V(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Y())continue;switch(_+=O(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(V(_)-1)*y,y=1;break;case 64:45===J()&&(_+=ie(X())),h=J(),l=f=V(k=_+=ce(Z())),g++;break;case 45:45===p&&2==V(_)&&(v=0)}}return a}function xe(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=j(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=U(e,f+1,f=R(v=o[p])),k=e;y<d;++y)(k=D(v>0?h[y]+" "+g:L(g,/&\f/g,h[y])))&&(s[m++]=k);return Q(e,t,n,0===i?pe:u,s,c,l)}function _e(e,t,n){return Q(e,t,n,de,O(H),U(e,2,-2),0)}function Ie(e,t,n,r){return Q(e,t,n,ve,U(e,0,r),U(e,r+1,-1),r)}var Ee=function(e,t,n){for(var r=0,i=0;r=i,i=J(),38===r&&12===i&&(t[n]=1),!te(i);)X();return ee(e,K)},Se=function(e,t){return re(function(e,t){var n=-1,r=44;do{switch(te(r)){case 0:38===r&&12===J()&&(t[n]=1),e[n]+=Ee(K-1,t,n);break;case 2:e[n]+=ie(r);break;case 4:if(44===r){e[++n]=58===J()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=O(r)}}while(r=X());return e}(ne(e),t))},Te=new WeakMap,Ce=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Te.get(n))&&!r){Te.set(e,!0);for(var i=[],a=Se(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Ae=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Ne=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ve:e.return=ke(e.value,e.length);break;case me:return ye([$(e,{value:L(e.value,"@","@"+he)})],r);case pe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ye([$(e,{props:[L(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ye([$(e,{props:[L(t,/:(plac\w+)/,":-webkit-input-$1")]}),$(e,{props:[L(t,/:(plac\w+)/,":-moz-$1")]}),$(e,{props:[L(t,/:(plac\w+)/,le+"input-$1")]})],r)}return""}))}}],Re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ne;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[ge,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=j(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Ce,Ae].concat(r,l));a=function(e,t,n,r){s=n,function(e){ye(be(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new N({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Oe=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Pe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},De=/[A-Z]|^ms/g,Le=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Me=function(e){return 45===e.charCodeAt(1)},Fe=function(e){return null!=e&&"boolean"!==typeof e},Ue=T((function(e){return Me(e)?e:e.replace(De,"-$&").toLowerCase()})),Ve=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Le,(function(e,t,n){return ze={name:t,styles:n,next:ze},t}))}return 1===Pe[e]||Me(e)||"number"!==typeof t||0===t?t:t+"px"};function je(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ze={name:n.name,styles:n.styles,next:ze},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ze={name:r.name,styles:r.styles,next:ze},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=je(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Fe(o)&&(r+=Ue(a)+":"+Ve(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=je(e,t,o);switch(a){case"animation":case"animationName":r+=Ue(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Fe(o[s])&&(r+=Ue(a)+":"+Ve(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ze,a=n(e);return ze=i,je(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var ze,Be=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var qe=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ze=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=je(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=je(n,t,e[o]),r&&(i+=a[o]);Be.lastIndex=0;for(var u,s="";null!==(u=Be.exec(i));)s+="-"+u[1];return{name:Oe(i)+s,styles:i,next:ze}},We=(0,t.createContext)("undefined"!==typeof HTMLElement?Re({key:"css"}):null);We.Provider;var Ke=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(We);return e(n,i,r)}))},He=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Ge(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Qe=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},$e=function(e,t,n){Qe(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Ye=A,Xe=function(e){return"theme"!==e},Je=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ye:Xe},Ze=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},et=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var tt=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Qe(t,n,r);et((function(){return $e(t,n,r)}));return null},nt=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Ze(n,r,o),c=s||Je(u),l=!c("as");return function(){var f=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var p=f.length,v=1;v<p;v++)d.push(f[v],f[0][v])}var m=Ke((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(He)}"string"===typeof e.className?o=Ge(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=qe(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Je(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(tt,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,h({},r,n,{shouldForwardProp:Ze(m,n,!0)})).apply(void 0,d)},m}},rt=nt.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){rt[e]=rt(e)}));var it=rt;function at(e,t){return it(e,t)}function ot(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function ut(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?h({},e):e;return ot(e)&&ot(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(ot(t[i])&&i in e&&ot(e[i])?r[i]=ut(e[i],t[i],n):r[i]=t[i])})),r}var st=["values","unit","step"];function ct(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,st),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return h({},e,l({},t.key,t.val))}),{})}(n),c=Object.keys(s);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function v(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return h({keys:c,values:s,up:d,down:p,between:v,only:function(e){return c.indexOf(e)+1<c.length?v(e,c[c.indexOf(e)+1]):d(e)},not:function(e){var t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?p(c[t]):v(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var lt={borderRadius:4},ft={xs:0,sm:600,md:900,lg:1200,xl:1536},ht={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ft[e],"px)")}};function dt(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||ht;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||ht;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||ft).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function pt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function vt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function mt(e){if("string"!==typeof e)throw new Error(y(7));return e.charAt(0).toUpperCase()+e.slice(1)}function yt(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function gt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:yt(e,n)||i,t&&(r=t(r)),r}var kt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=yt(e.theme,i)||{};return dt(e,n,(function(e){var n=gt(o,a,e);return e===n&&"string"===typeof e&&(n=gt(o,a,"".concat(t).concat("default"===e?"":mt(e)),e)),!1===r?n:l({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var bt=function(e,t){return t?ut(e,t,{clone:!1}):e};var wt={m:"margin",p:"padding"},xt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_t={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},It=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!_t[e])return[e];e=_t[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=wt[n],a=xt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Et=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],St=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Tt=[].concat(Et,St);function Ct(e,t,n,r){var i=yt(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function At(e){return Ct(e,"spacing",8)}function Nt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Rt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=Nt(t,n),e}),{})}}(It(n),r);return dt(e,e[n],i)}function Ot(e,t){var n=At(e.theme);return Object.keys(e).map((function(r){return Rt(e,t,r,n)})).reduce(bt,{})}function Pt(e){return Ot(e,Et)}function Dt(e){return Ot(e,St)}function Lt(e){return Ot(e,Tt)}Pt.propTypes={},Pt.filterProps=Et,Dt.propTypes={},Dt.filterProps=St,Lt.propTypes={},Lt.filterProps=Tt;var Mt=Lt;function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=At({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Ut=["breakpoints","palette","spacing","shape"];var Vt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=f(e,Ut),c=ct(n),l=Ft(a),d=ut({breakpoints:c,direction:"ltr",components:{},palette:h({mode:"light"},i),spacing:l,shape:h({},lt,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return ut(e,t)}),d)},jt=["variant"];function zt(e){return 0===e.length}function Bt(e){var t=e.variant,n=f(e,jt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?zt(r)?e[t]:mt(e[t]):"".concat(zt(r)?t:mt(t)).concat(mt(e[t].toString()))})),r}var qt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?bt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Wt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Kt=kt({prop:"border",themeKey:"borders",transform:Wt}),Ht=kt({prop:"borderTop",themeKey:"borders",transform:Wt}),Gt=kt({prop:"borderRight",themeKey:"borders",transform:Wt}),Qt=kt({prop:"borderBottom",themeKey:"borders",transform:Wt}),$t=kt({prop:"borderLeft",themeKey:"borders",transform:Wt}),Yt=kt({prop:"borderColor",themeKey:"palette"}),Xt=kt({prop:"borderTopColor",themeKey:"palette"}),Jt=kt({prop:"borderRightColor",themeKey:"palette"}),Zt=kt({prop:"borderBottomColor",themeKey:"palette"}),en=kt({prop:"borderLeftColor",themeKey:"palette"}),tn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Ct(e.theme,"shape.borderRadius",4);return dt(e,e.borderRadius,(function(e){return{borderRadius:Nt(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["borderRadius"];var nn=qt(Kt,Ht,Gt,Qt,$t,Yt,Xt,Jt,Zt,en,tn),rn=qt(kt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),kt({prop:"display"}),kt({prop:"overflow"}),kt({prop:"textOverflow"}),kt({prop:"visibility"}),kt({prop:"whiteSpace"})),an=qt(kt({prop:"flexBasis"}),kt({prop:"flexDirection"}),kt({prop:"flexWrap"}),kt({prop:"justifyContent"}),kt({prop:"alignItems"}),kt({prop:"alignContent"}),kt({prop:"order"}),kt({prop:"flex"}),kt({prop:"flexGrow"}),kt({prop:"flexShrink"}),kt({prop:"alignSelf"}),kt({prop:"justifyItems"}),kt({prop:"justifySelf"})),on=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Ct(e.theme,"spacing",8);return dt(e,e.gap,(function(e){return{gap:Nt(t,e)}}))}return null};on.propTypes={},on.filterProps=["gap"];var un=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Ct(e.theme,"spacing",8);return dt(e,e.columnGap,(function(e){return{columnGap:Nt(t,e)}}))}return null};un.propTypes={},un.filterProps=["columnGap"];var sn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Ct(e.theme,"spacing",8);return dt(e,e.rowGap,(function(e){return{rowGap:Nt(t,e)}}))}return null};sn.propTypes={},sn.filterProps=["rowGap"];var cn=qt(on,un,sn,kt({prop:"gridColumn"}),kt({prop:"gridRow"}),kt({prop:"gridAutoFlow"}),kt({prop:"gridAutoColumns"}),kt({prop:"gridAutoRows"}),kt({prop:"gridTemplateColumns"}),kt({prop:"gridTemplateRows"}),kt({prop:"gridTemplateAreas"}),kt({prop:"gridArea"})),ln=qt(kt({prop:"position"}),kt({prop:"zIndex",themeKey:"zIndex"}),kt({prop:"top"}),kt({prop:"right"}),kt({prop:"bottom"}),kt({prop:"left"})),fn=qt(kt({prop:"color",themeKey:"palette"}),kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),kt({prop:"backgroundColor",themeKey:"palette"})),hn=kt({prop:"boxShadow",themeKey:"shadows"});function dn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var pn=kt({prop:"width",transform:dn}),vn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return dt(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||ft[t]||dn(t)}}))}return null};vn.filterProps=["maxWidth"];var mn=kt({prop:"minWidth",transform:dn}),yn=kt({prop:"height",transform:dn}),gn=kt({prop:"maxHeight",transform:dn}),kn=kt({prop:"minHeight",transform:dn}),bn=(kt({prop:"size",cssProperty:"width",transform:dn}),kt({prop:"size",cssProperty:"height",transform:dn}),qt(pn,vn,mn,yn,gn,kn,kt({prop:"boxSizing"}))),wn=kt({prop:"fontFamily",themeKey:"typography"}),xn=kt({prop:"fontSize",themeKey:"typography"}),_n=kt({prop:"fontStyle",themeKey:"typography"}),In=kt({prop:"fontWeight",themeKey:"typography"}),En=kt({prop:"letterSpacing"}),Sn=kt({prop:"textTransform"}),Tn=kt({prop:"lineHeight"}),Cn=kt({prop:"textAlign"}),An=qt(kt({prop:"typography",cssProperty:!1,themeKey:"typography"}),wn,xn,_n,In,En,Tn,Cn,Sn),Nn={borders:nn.filterProps,display:rn.filterProps,flexbox:an.filterProps,grid:cn.filterProps,positions:ln.filterProps,palette:fn.filterProps,shadows:hn.filterProps,sizing:bn.filterProps,spacing:Mt.filterProps,typography:An.filterProps},Rn={borders:nn,display:rn,flexbox:an,grid:cn,positions:ln,palette:fn,shadows:hn,sizing:bn,spacing:Mt,typography:An};Object.keys(Nn).reduce((function(e,t){return Nn[t].forEach((function(n){e[n]=Rn[t]})),e}),{});function On(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Pn(e,t){return"function"===typeof e?e(t):e}var Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(l(i={},e,n),l(i,"theme",r),i),o=t[e];return o?o(a):l({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=pt(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=Pn(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=bt(s,n(e,a,u));else{var o=dt({theme:u},a,(function(t){return l({},e,t)}));On(o,a)?s[e]=r({sx:a,theme:u}):s=bt(s,o)}else s=bt(s,n(e,a,u))})),vt(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Dn.filterProps=["sx"];var Ln=Dn,Mn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Fn=["theme"],Un=["theme"];function Vn(e){return 0===Object.keys(e).length}var jn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},zn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Bt(e.props);r[t]=e.style})),r},Bn=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Bt(n.props)])})),s};function qn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Wn=Vt();function Kn(e,t,n){var r;return h({toolbar:(r={minHeight:56},l(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),l(r,e.up("sm"),{minHeight:64}),r)},n)}var Hn={black:"#000",white:"#fff"},Gn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Qn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},$n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Zn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},er=["mode","contrastThreshold","tonalOffset"],tr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hn.white,default:Hn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nr={text:{primary:Hn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=I(e.main,i):"dark"===t&&(e.dark=_(e.main,a)))}function ir(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=f(e,er),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[200],light:Xn[50],dark:Xn[400]}:{main:Xn[700],light:Xn[400],dark:Xn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[200],light:Qn[50],dark:Qn[400]}:{main:Qn[500],light:Qn[300],dark:Qn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$n[500],light:$n[300],dark:$n[700]}:{main:$n[700],light:$n[400],dark:$n[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:Jn[700],light:Jn[500],dark:Jn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[400],light:Zn[300],dark:Zn[700]}:{main:Zn[800],light:Zn[500],dark:Zn[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[400],light:Yn[300],dark:Yn[700]}:{main:"#ed6c02",light:Yn[500],dark:Yn[900]}}(n);function m(e){var t=function(e,t){var n=w(e),r=w(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,nr.text.primary)>=i?nr.text.primary:tr.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=h({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(y(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(y(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return rr(t,"light",u,o),rr(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},k={dark:nr,light:tr};return ut(h({common:Hn,mode:n,primary:g({color:s,name:"primary"}),secondary:g({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:l,name:"error"}),warning:g({color:v,name:"warning"}),info:g({color:d,name:"info"}),success:g({color:p,name:"success"}),grey:Gn,contrastThreshold:i,getContrastText:m,augmentColor:g,tonalOffset:o},k[n]),u)}var ar=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var or={textTransform:"uppercase"},ur='"Roboto", "Helvetica", "Arial", sans-serif';function sr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ur:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=f(n,ar);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},I=function(e,t,n,r,a){return h({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===ur?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},E={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(l,48,1.167,0),h4:I(l,34,1.235,.25),h5:I(l,24,1.334,0),h6:I(p,20,1.6,.15),subtitle1:I(l,16,1.75,.15),subtitle2:I(p,14,1.57,.1),body1:I(l,16,1.5,.15),body2:I(l,14,1.43,.15),button:I(p,14,1.75,.4,or),caption:I(l,12,1.66,.4),overline:I(l,12,2.66,1,or)};return ut(h({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function cr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var lr=["none",cr(0,2,1,-1,0,1,1,0,0,1,3,0),cr(0,3,1,-2,0,2,2,0,0,1,5,0),cr(0,3,3,-2,0,3,4,0,0,1,8,0),cr(0,2,4,-1,0,4,5,0,0,1,10,0),cr(0,3,5,-1,0,5,8,0,0,1,14,0),cr(0,3,5,-1,0,6,10,0,0,1,18,0),cr(0,4,5,-2,0,7,10,1,0,2,16,1),cr(0,5,5,-3,0,8,10,1,0,3,14,2),cr(0,5,6,-3,0,9,12,1,0,3,16,2),cr(0,6,6,-3,0,10,14,1,0,4,18,3),cr(0,6,7,-4,0,11,15,1,0,4,20,3),cr(0,7,8,-4,0,12,17,2,0,5,22,4),cr(0,7,8,-4,0,13,19,2,0,5,24,4),cr(0,7,9,-4,0,14,21,2,0,5,26,4),cr(0,8,9,-5,0,15,22,2,0,6,28,5),cr(0,8,10,-5,0,16,24,2,0,6,30,5),cr(0,8,11,-5,0,17,26,2,0,6,32,5),cr(0,9,11,-5,0,18,28,2,0,7,34,6),cr(0,9,12,-6,0,19,29,2,0,7,36,6),cr(0,10,13,-6,0,20,31,3,0,8,38,7),cr(0,10,13,-6,0,21,33,3,0,8,40,7),cr(0,10,14,-6,0,22,35,3,0,8,42,7),cr(0,11,14,-7,0,23,36,3,0,9,44,8),cr(0,11,15,-7,0,24,38,3,0,9,46,8)],fr=["duration","easing","delay"],hr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pr(e){return"".concat(Math.round(e),"ms")}function vr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function mr(e){var t=h({},hr,e.easing),n=h({},dr,e.duration);return h({getAutoHeightDuration:vr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;f(r,fr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:pr(a)," ").concat(u," ").concat("string"===typeof c?c:pr(c))})).join(",")}},e,{easing:t,duration:n})}var yr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=f(e,gr),l=ir(i),d=Vt(e),p=ut(d,{mixins:Kn(d.breakpoints,d.spacing,n),palette:l,shadows:lr.slice(),typography:sr(l,s),transitions:mr(o),zIndex:h({},yr)});p=ut(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return ut(e,t)}),p)}var br=kr(),wr=function(e){return qn(e)&&"classes"!==e},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Wn:t,r=e.rootShouldForwardProp,i=void 0===r?qn:r,a=e.slotShouldForwardProp,o=void 0===a?qn:a,u=e.styleFunctionSx,s=void 0===u?Ln:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,d=r.skipSx,p=r.overridesResolver,v=f(r,Mn),m=void 0!==l?l:u&&"Root"!==u||!1,y=d||!1;var g=qn;"Root"===u?g=i:u&&(g=o);var k=at(e,h({shouldForwardProp:g,label:t},v)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=f(t,Fn);return e(h({theme:Vn(r)?n:r},i))}:e})):[],u=e;a&&p&&o.push((function(e){var t=Vn(e.theme)?n:e.theme,r=jn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),p(e,i)}return null})),a&&!m&&o.push((function(e){var t=Vn(e.theme)?n:e.theme;return Bn(e,zn(a,t),t,a)})),y||o.push((function(e){var t=Vn(e.theme)?n:e.theme;return s(h({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var d=new Array(l).fill("");(u=[].concat(S(e),S(d))).raw=[].concat(S(e.raw),S(d))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=f(t,Un);return e(h({theme:Vn(r)?n:r},i))});var v=k.apply(void 0,[u].concat(S(o)));return v};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:br,rootShouldForwardProp:wr}),_r=xr;var Ir=t.createContext(null);function Er(){return t.useContext(Ir)}function Sr(e){return 0===Object.keys(e).length}var Tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Er();return!t||Sr(t)?e:t},Cr=Vt();var Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return Tr(e)};function Nr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}({theme:Ar(r),name:n,props:t});return i}function Rr(e){return Nr({props:e.props,name:e.name,defaultTheme:br})}function Or(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Pr(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){Or(e,t),Or(n,t)}}),[e,n])}var Dr=Pr,Lr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var Mr,Fr=function(e){var n=t.useRef(e);return Lr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},Ur=!0,Vr=!1,jr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zr(e){e.metaKey||e.altKey||e.ctrlKey||(Ur=!0)}function Br(){Ur=!1}function qr(){"hidden"===this.visibilityState&&Vr&&(Ur=!0)}function Wr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Ur||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!jr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Kr=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",zr,!0),t.addEventListener("mousedown",Br,!0),t.addEventListener("pointerdown",Br,!0),t.addEventListener("touchstart",Br,!0),t.addEventListener("visibilitychange",qr,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Wr(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(Vr=!0,window.clearTimeout(Mr),Mr=window.setTimeout((function(){Vr=!1}),100),n.current=!1,!0)},ref:e}};function Hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e,t){return Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qr(e,t)}var $r=t.createContext(null);function Yr(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Xr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Jr(e,n,r){var i=Yr(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Xr(u,"exit",e),enter:Xr(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Xr(u,"exit",e),enter:Xr(u,"enter",e)})}})),a}var Zr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ei=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Gr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Qr(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Yr(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Xr(e,"appear",r),enter:Xr(e,"enter",r),exit:Xr(e,"exit",r)})}))):Jr(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=Yr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=h({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=f(e,["component","childFactory"]),a=this.state.contextValue,o=Zr(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement($r.Provider,{value:a},o):t.createElement($r.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);ei.propTypes={},ei.defaultProps={component:"div",childFactory:function(e){return e}};var ti=ei,ni=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),ri=Ke((function(e,n){var r=e.styles,i=qe([r],void 0,(0,t.useContext)(He)),a=(0,t.useRef)();return ni((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),ni((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&$e(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function ii(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qe(t)}var ai=function(){var e=ii.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var oi=n(184);var ui=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=c(t.useState(!1),2),v=d[0],m=d[1],y=p(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=p(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,oi.jsx)("span",{className:y,style:g,children:(0,oi.jsx)("span",{className:k})})},si=function(e){return e},ci=function(){var e=si;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=si}}}(),li={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function fi(e,t){return li[t]||"".concat(ci.generate(e),"-").concat(t)}function hi(e,t){var n={};return t.forEach((function(t){n[t]=fi(e,t)})),n}var di,pi,vi,mi,yi,gi,ki,bi,wi=hi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xi=["center","classes","className"],_i=ai(yi||(yi=di||(di=Hr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ii=ai(gi||(gi=pi||(pi=Hr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ei=ai(ki||(ki=vi||(vi=Hr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Si=_r("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ti=_r(ui,{name:"MuiTouchRipple",slot:"Ripple"})(bi||(bi=mi||(mi=Hr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),wi.rippleVisible,_i,550,(function(e){return e.theme.transitions.easing.easeInOut}),wi.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),wi.child,wi.childLeaving,Ii,550,(function(e){return e.theme.transitions.easing.easeInOut}),wi.childPulsate,Ei,(function(e){return e.theme.transitions.easing.easeInOut})),Ci=t.forwardRef((function(e,n){var r=Rr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,l=f(r,xi),d=c(t.useState([]),2),v=d[0],m=d[1],y=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[v]);var k=t.useRef(!1),b=t.useRef(null),w=t.useRef(null),x=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var _=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;m((function(e){return[].concat(S(e),[(0,oi.jsx)(Ti,{classes:{ripple:p(u.ripple,wi.ripple),rippleVisible:p(u.rippleVisible,wi.rippleVisible),ripplePulsate:p(u.ripplePulsate,wi.ripplePulsate),child:p(u.child,wi.child),childLeaving:p(u.childLeaving,wi.childLeaving),childPulsate:p(u.childPulsate,wi.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,g.current=a}),[u]),I=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&k.current)k.current=!1;else{"touchstart"===e.type&&(k.current=!0);var l,f,h,d=c?null:x.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(I,2))}e.touches?null===w.current&&(w.current=function(){_({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},b.current=setTimeout((function(){w.current&&(w.current(),w.current=null)}),80)):_({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,_]),E=t.useCallback((function(){I({},{pulsate:!0})}),[I]),T=t.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===e.type&&w.current)return w.current(),w.current=null,void(b.current=setTimeout((function(){T(e,t)})));w.current=null,m((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:I,stop:T}}),[E,I,T]),(0,oi.jsx)(Si,h({className:p(u.root,wi.root,s),ref:x},l,{children:(0,oi.jsx)(ti,{component:null,exit:!0,children:v})}))})),Ai=Ci;function Ni(e){return fi("MuiButtonBase",e)}var Ri,Oi=hi("MuiButtonBase",["root","disabled","focusVisible"]),Pi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Di=_r("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((l(Ri={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Oi.disabled),{pointerEvents:"none",cursor:"default"}),l(Ri,"@media print",{colorAdjust:"exact"}),Ri)),Li=t.forwardRef((function(e,n){var r=Rr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,l=r.component,d=void 0===l?"button":l,v=r.disabled,y=void 0!==v&&v,g=r.disableRipple,k=void 0!==g&&g,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,I=r.LinkComponent,E=void 0===I?"a":I,S=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,O=r.onKeyDown,P=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,U=r.onTouchMove,V=r.onTouchStart,j=r.tabIndex,z=void 0===j?0:j,B=r.TouchRippleProps,q=r.touchRippleRef,W=r.type,K=f(r,Pi),H=t.useRef(null),G=t.useRef(null),Q=Dr(G,q),$=Kr(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return Fr((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}y&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),H.current.focus()}}}),[]),t.useEffect((function(){te&&_&&!k&&G.current.pulsate()}),[k,_,te]);var ie=re("start",D),ae=re("stop",C),oe=re("stop",A),ue=re("stop",M),se=re("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),ce=re("start",V),le=re("stop",F),fe=re("stop",U),he=re("stop",(function(e){J(e),!1===Y.current&&ne(!1),S&&S(e)}),!1),de=Fr((function(e){H.current||(H.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),R&&R(e)),N&&N(e)})),pe=function(){var e=H.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ve=t.useRef(!1),me=Fr((function(e){_&&!ve.current&&te&&G.current&&" "===e.key&&(ve.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),O&&O(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),ye=Fr((function(e){_&&" "===e.key&&G.current&&te&&!e.defaultPrevented&&(ve.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),P&&P(e),T&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&T(e)})),ge=d;"button"===ge&&(K.href||K.to)&&(ge=E);var ke={};"button"===ge?(ke.type=void 0===W?"button":W,ke.disabled=y):(K.href||K.to||(ke.role="button"),y&&(ke["aria-disabled"]=y));var be=Dr(Z,H),we=Dr(n,be),xe=c(t.useState(!1),2),_e=xe[0],Ie=xe[1];t.useEffect((function(){Ie(!0)}),[]);var Ee=_e&&!k&&!y;var Se=h({},r,{centerRipple:o,component:d,disabled:y,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:z,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=m({root:["root",t&&"disabled",n&&"focusVisible"]},Ni,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,oi.jsxs)(Di,h({as:ge,className:p(Te.root,s),ownerState:Se,onBlur:he,onClick:T,onContextMenu:ae,onFocus:de,onKeyDown:me,onKeyUp:ye,onMouseDown:ie,onMouseLeave:se,onMouseUp:ue,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:we,tabIndex:y?-1:z,type:W},ke,K,{children:[u,Ee?(0,oi.jsx)(Ai,h({ref:Q,center:o},B)):null]}))})),Mi=Li,Fi=mt;function Ui(e){return fi("MuiButton",e)}var Vi=hi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ji=t.createContext({}),zi=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Bi=function(e){return h({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},qi=_r(Mi,{shouldForwardProp:function(e){return wr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Fi(n.color))],t["size".concat(Fi(n.size))],t["".concat(n.variant,"Size").concat(Fi(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return h({},n.typography.button,(l(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":h({textDecoration:"none",backgroundColor:x(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:x(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:x(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":h({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(Vi.focusVisible),h({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),l(t,"&.".concat(Vi.disabled),h({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(x(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(l(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Vi.focusVisible),{boxShadow:"none"}),l(t,"&:active",{boxShadow:"none"}),l(t,"&.".concat(Vi.disabled),{boxShadow:"none"}),t)})),Wi=_r("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Fi(n.size))]]}})((function(e){var t=e.ownerState;return h({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Bi(t))})),Ki=_r("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Fi(n.size))]]}})((function(e){var t=e.ownerState;return h({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Bi(t))})),Hi=t.forwardRef((function(e,n){var r=t.useContext(ji),i=Rr({props:v(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,d=i.disabled,y=void 0!==d&&d,g=i.disableElevation,k=void 0!==g&&g,b=i.disableFocusRipple,w=void 0!==b&&b,x=i.endIcon,_=i.focusVisibleClassName,I=i.fullWidth,E=void 0!==I&&I,S=i.size,T=void 0===S?"medium":S,C=i.startIcon,A=i.type,N=i.variant,R=void 0===N?"text":N,O=f(i,zi),P=h({},i,{color:u,component:c,disabled:y,disableElevation:k,disableFocusRipple:w,fullWidth:E,size:T,type:A,variant:R}),D=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return h({},o,m({root:["root",a,"".concat(a).concat(Fi(t)),"size".concat(Fi(i)),"".concat(a,"Size").concat(Fi(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Fi(i))],endIcon:["endIcon","iconSize".concat(Fi(i))]},Ui,o))}(P),L=C&&(0,oi.jsx)(Wi,{className:D.startIcon,ownerState:P,children:C}),M=x&&(0,oi.jsx)(Ki,{className:D.endIcon,ownerState:P,children:x});return(0,oi.jsxs)(qi,h({ownerState:P,className:p(l,r.className),component:c,disabled:y,focusRipple:!w,focusVisibleClassName:p(D.focusVisible,_),ref:n,type:A},O,{classes:D,children:[L,a,M]}))})),Gi=Hi;function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yi(e,t,n){return t&&$i(e.prototype,t),n&&$i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ji(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(e)}function ea(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function na(e,t){if(t&&("object"===ta(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gr(e)}function ra(e){var t=ea();return function(){var n,r=Zi(e);if(t){var i=Zi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return na(this,n)}}function ia(e,t,n){return ia=ea()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qr(i,n.prototype),i},ia.apply(null,arguments)}function aa(e){var t="function"===typeof Map?new Map:void 0;return aa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ia(e,arguments,Zi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qr(n,e)},aa(e)}var oa=n(757),ua=n.n(oa),sa=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ca={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sa(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},la=function(e){return function(e){var t=sa(e);return ca.encodeByteArray(t,!0)}(e).replace(/\./g,"")},fa=function(e){try{return ca.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ha(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ha(e[n],t[n]));return e}var da=function(){function e(){var t=this;Qi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Yi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[la(JSON.stringify({alg:"none",type:"JWT"})),la(JSON.stringify(a)),""].join(".")}function va(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ma(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(va())}function ya(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ga(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ka(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ba(){var e=va();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wa(){return"object"===typeof indexedDB}var xa=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Gr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Gr(a),_a.prototype.create),a}return Yi(n)}(aa(Error)),_a=function(){function e(t,n,r){Qi(this,e),this.service=t,this.serviceName=n,this.errors=r}return Yi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ia(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xa(n,a,t);return o}}]),e}();function Ia(e,t){return e.replace(Ea,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ea=/\{\$([^}]+)}/g;function Sa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ta(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ca(u)&&Ca(s)){if(!Ta(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ca(e){return null!==e&&"object"===typeof e}function Aa(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Na(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ra(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Oa(e,t){var n=new Pa(e,t);return n.subscribe.bind(n)}var Pa=function(){function e(t,n){var r=this;Qi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Yi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Xi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Da),void 0===r.error&&(r.error=Da),void 0===r.complete&&(r.complete=Da);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Da(){}function La(e){return e&&e._delegate?e._delegate:e}function Ma(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Fa=function(){function e(t){Qi(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Yi(e,[{key:"transaction",value:function(e,t){return new Ua(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Va(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Ua=function(){function e(t){var n=this;Qi(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Yi(e,[{key:"objectStore",value:function(e){return new Va(this._transaction.objectStore(e))}}]),e}(),Va=function(){function e(t){Qi(this,e),this._store=t}return Yi(e,[{key:"index",value:function(e){return new ja(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ja(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Ma(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Ma(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Ma(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Ma(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ja=function(){function e(t){Qi(this,e),this._index=t}return Yi(e,[{key:"get",value:function(e){return Ma(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function za(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){za(a,r,i,o,u,"next",e)}function u(e){za(a,r,i,o,u,"throw",e)}o(void 0)}))}}var qa=function(){function e(t,n,r){Qi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Yi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Wa="[DEFAULT]",Ka=function(){function e(t,n){Qi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Yi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new da;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch(s){}var t,n=Xi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ba(oa.mark((function e(){var t;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(S(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),S(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Xi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Xi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ak){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ha(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(ak){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa;return this.component?this.component.multipleInstances?e:Wa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Ha(e){return e===Wa?void 0:e}var Ga,Qa,$a=function(){function e(t){Qi(this,e),this.name=t,this.providers=new Map}return Yi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ka(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ya=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qa||(Qa={}));var Xa,Ja,Za={debug:Qa.DEBUG,verbose:Qa.VERBOSE,info:Qa.INFO,warn:Qa.WARN,error:Qa.ERROR,silent:Qa.SILENT},eo=Qa.INFO,to=(l(Ga={},Qa.DEBUG,"log"),l(Ga,Qa.VERBOSE,"log"),l(Ga,Qa.INFO,"info"),l(Ga,Qa.WARN,"warn"),l(Ga,Qa.ERROR,"error"),Ga),no=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=to[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ro=function(){function e(t){Qi(this,e),this.name=t,this._logLevel=eo,this._logHandler=no,this._userLogHandler=null,Ya.push(this)}return Yi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Qa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Za[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qa.DEBUG].concat(t)),this._logHandler.apply(this,[this,Qa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Qa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qa.INFO].concat(t)),this._logHandler.apply(this,[this,Qa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qa.WARN].concat(t)),this._logHandler.apply(this,[this,Qa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Qa.ERROR].concat(t)),this._logHandler.apply(this,[this,Qa.ERROR].concat(t))}}]),e}();var io=function(){function e(t){Qi(this,e),this.container=t}return Yi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ao="@firebase/app",oo="0.7.19",uo=new ro("@firebase/app"),so="[DEFAULT]",co=(l(Xa={},ao,"fire-core"),l(Xa,"@firebase/app-compat","fire-core-compat"),l(Xa,"@firebase/analytics","fire-analytics"),l(Xa,"@firebase/analytics-compat","fire-analytics-compat"),l(Xa,"@firebase/app-check","fire-app-check"),l(Xa,"@firebase/app-check-compat","fire-app-check-compat"),l(Xa,"@firebase/auth","fire-auth"),l(Xa,"@firebase/auth-compat","fire-auth-compat"),l(Xa,"@firebase/database","fire-rtdb"),l(Xa,"@firebase/database-compat","fire-rtdb-compat"),l(Xa,"@firebase/functions","fire-fn"),l(Xa,"@firebase/functions-compat","fire-fn-compat"),l(Xa,"@firebase/installations","fire-iid"),l(Xa,"@firebase/installations-compat","fire-iid-compat"),l(Xa,"@firebase/messaging","fire-fcm"),l(Xa,"@firebase/messaging-compat","fire-fcm-compat"),l(Xa,"@firebase/performance","fire-perf"),l(Xa,"@firebase/performance-compat","fire-perf-compat"),l(Xa,"@firebase/remote-config","fire-rc"),l(Xa,"@firebase/remote-config-compat","fire-rc-compat"),l(Xa,"@firebase/storage","fire-gcs"),l(Xa,"@firebase/storage-compat","fire-gcs-compat"),l(Xa,"@firebase/firestore","fire-fst"),l(Xa,"@firebase/firestore-compat","fire-fst-compat"),l(Xa,"fire-js","fire-js"),l(Xa,"firebase","fire-js-all"),Xa),lo=new Map,fo=new Map;function ho(e,t){try{e.container.addComponent(t)}catch(n){uo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function po(e,t){e.container.addOrOverwriteComponent(t)}function vo(e){var t=e.name;if(fo.has(t))return uo.debug("There were multiple attempts to register component ".concat(t,".")),!1;fo.set(t,e);var n,r=Xi(lo.values());try{for(r.s();!(n=r.n()).done;){ho(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:so;mo(e,t).clearInstance(n)}function go(){fo.clear()}var ko=(l(Ja={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(Ja,"bad-app-name","Illegal App name: '{$appName}"),l(Ja,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),l(Ja,"app-deleted","Firebase App named '{$appName}' already deleted"),l(Ja,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),l(Ja,"invalid-log-argument","First argument to `onLog` must be null or a function."),l(Ja,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),l(Ja,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),l(Ja,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),l(Ja,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ja),bo=new _a("app","Firebase",ko),wo=function(){function e(t,n,r){var i=this;Qi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qa("app",(function(){return i}),"PUBLIC"))}return Yi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}]),e}(),xo="9.6.9";function _o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:so,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bo.create("bad-app-name",{appName:String(i)});var a=lo.get(i);if(a){if(Ta(e,a.options)&&Ta(r,a.config))return a;throw bo.create("duplicate-app",{appName:i})}var o,u=new $a(i),s=Xi(fo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new wo(e,r,u);return lo.set(i,l),l}function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=lo.get(e);if(!t)throw bo.create("no-app",{appName:e});return t}function Eo(){return Array.from(lo.values())}function So(e){return To.apply(this,arguments)}function To(){return(To=Ba(oa.mark((function e(t){var n;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!lo.has(n)){e.next=6;break}return lo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t,n){var r,i=null!==(r=co[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void uo.warn(u.join(" "))}vo(new qa("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ao(e,t){if(null!==e&&"function"!==typeof e)throw bo.create("invalid-log-argument");!function(e,t){var n,r=Xi(Ya);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Za[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Qa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function No(e){var t;t=e,Ya.forEach((function(e){e.setLogLevel(t)}))}var Ro="firebase-heartbeat-store",Oo=null;function Po(){var e,t,n;return Oo||(Oo=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ro)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Fa(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Fa(a.result),e.oldVersion,e.newVersion,new Ua(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw bo.create("storage-open",{originalErrorMessage:e.message})}))),Oo}function Do(e){return Lo.apply(this,arguments)}function Lo(){return Lo=Ba(oa.mark((function e(t){var n;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ro).objectStore(Ro).get(Uo(t)));case 7:throw e.prev=7,e.t0=e.catch(0),bo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Lo.apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=Ba(oa.mark((function e(t,n){var r,i,a;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Po();case 3:return r=e.sent,i=r.transaction(Ro,"readwrite"),a=i.objectStore(Ro),e.next=8,a.put(n,Uo(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),bo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Fo.apply(this,arguments)}function Uo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Vo=function(){function e(t){var n=this;Qi(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Yi(e,[{key:"triggerHeartbeat",value:function(){var e=Ba(oa.mark((function e(){var t,n,r;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ba(oa.mark((function e(){var t,n,r,i,a;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jo(),n=zo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=la(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jo(){return(new Date).toISOString().substring(0,10)}function zo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Xi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ko(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ko(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bo,qo,Wo=function(){function e(t){Qi(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Yi(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ba(oa.mark((function e(){return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ba(oa.mark((function e(){var t;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Do(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ba(oa.mark((function e(t){var n,r;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ba(oa.mark((function e(t){var n,r;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(S(r.heartbeats),S(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ko(e){return la(JSON.stringify({version:2,heartbeats:e})).length}Bo="",vo(new qa("platform-logger",(function(e){return new io(e)}),"PRIVATE")),vo(new qa("heartbeat",(function(e){return new Vo(e)}),"PRIVATE")),Co(ao,oo,Bo),Co(ao,oo,"esm2017"),Co("fire-js","");var Ho=function(){function e(t,n){var r=this;Qi(this,e),this._delegate=t,this.firebase=n,ho(t,new qa("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Yi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),So(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:so;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:so;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ho(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){po(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Go=(l(qo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(qo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qo),Qo=new _a("app-compat","Firebase",Go);var $o=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Sa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Co,setLogLevel:No,onLog:Ao,apps:null,SDK_VERSION:xo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(vo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Qo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ha(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Sa(n,e=e||so))throw Qo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ho);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ha(n,e)},createSubscribe:Oa,ErrorFactory:_a,deepExtend:ha}),n}(),Yo=new ro("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Yo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xo=self.firebase.SDK_VERSION;Xo&&Xo.indexOf("LITE")>=0&&Yo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Jo=$o;!function(e){Co("@firebase/app-compat","0.1.20",e)}();function Zo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zi(e)););return e}function eu(){return eu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},eu.apply(this,arguments)}Jo.registerVersion("firebase","9.6.9","app-compat");var tu,nu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ru={},iu=iu||{},au=nu||self;function ou(){}function uu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function su(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cu="closure_uid_"+(1e9*Math.random()>>>0),lu=0;function fu(e,t,n){return e.call.apply(e.bind,arguments)}function hu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function du(e,t,n){return(du=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fu:hu).apply(null,arguments)}function pu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vu(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function mu(){this.s=this.s,this.o=this.o}var yu={};mu.prototype.s=!1,mu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,cu)&&e[cu]||(e[cu]=++lu)}(this);delete yu[e]}},mu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ku=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function bu(e){return Array.prototype.concat.apply([],arguments)}function wu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xu(e){return/^[\s\xa0]*$/.test(e)}var _u,Iu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Eu(e,t){return-1!=e.indexOf(t)}function Su(e,t){return e<t?-1:e>t?1:0}e:{var Tu=au.navigator;if(Tu){var Cu=Tu.userAgent;if(Cu){_u=Cu;break e}}_u=""}function Au(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Nu(e){var t={};for(var n in e)t[n]=e[n];return t}var Ru="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ou(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ru.length;a++)n=Ru[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Pu(e){return Pu[" "](e),e}Pu[" "]=ou;var Du,Lu=Eu(_u,"Opera"),Mu=Eu(_u,"Trident")||Eu(_u,"MSIE"),Fu=Eu(_u,"Edge"),Uu=Fu||Mu,Vu=Eu(_u,"Gecko")&&!(Eu(_u.toLowerCase(),"webkit")&&!Eu(_u,"Edge"))&&!(Eu(_u,"Trident")||Eu(_u,"MSIE"))&&!Eu(_u,"Edge"),ju=Eu(_u.toLowerCase(),"webkit")&&!Eu(_u,"Edge");function zu(){var e=au.document;return e?e.documentMode:void 0}e:{var Bu="",qu=function(){var e=_u;return Vu?/rv:([^\);]+)(\)|;)/.exec(e):Fu?/Edge\/([\d\.]+)/.exec(e):Mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ju?/WebKit\/(\S+)/.exec(e):Lu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qu&&(Bu=qu?qu[1]:""),Mu){var Wu=zu();if(null!=Wu&&Wu>parseFloat(Bu)){Du=String(Wu);break e}}Du=Bu}var Ku,Hu={};function Gu(){return function(e){var t=Hu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Iu(String(Du)).split("."),n=Iu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Su(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Su(0==a[2].length,0==o[2].length)||Su(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(au.document&&Mu){var Qu=zu();Ku=Qu||(parseInt(Du,10)||void 0)}else Ku=void 0;var $u=Ku,Yu=function(){if(!au.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{au.addEventListener("test",ou,t),au.removeEventListener("test",ou,t)}catch(n){}return e}();function Xu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ju(e,t){if(Xu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vu){e:{try{Pu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ju.Z.h.call(this)}}Xu.prototype.h=function(){this.defaultPrevented=!0},vu(Ju,Xu);var Zu={2:"touch",3:"pen",4:"mouse"};Ju.prototype.h=function(){Ju.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var es="closure_listenable_"+(1e6*Math.random()|0),ts=0;function ns(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ts,this.ca=this.fa=!1}function rs(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function is(e){this.src=e,this.g={},this.h=0}function as(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(rs(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function os(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}is.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=os(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ns(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var us="closure_lm_"+(1e6*Math.random()|0),ss={};function cs(e,t,n,r,i){if(r&&r.once)return fs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)cs(e,t[a],n,r,i);return null}return n=gs(n),e&&e[es]?e.N(t,n,su(r)?!!r.capture:!!r,i):ls(e,t,n,!1,r,i)}function ls(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=su(i)?!!i.capture:!!i,u=ms(e);if(u||(e[us]=u=new is(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ps(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fs(e,t[a],n,r,i);return null}return n=gs(n),e&&e[es]?e.O(t,n,su(r)?!!r.capture:!!r,i):ls(e,t,n,!0,r,i)}function hs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)hs(e,t[a],n,r,i);else r=su(r)?!!r.capture:!!r,n=gs(n),e&&e[es]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=os(a=e.g[t],n,r,i))&&(rs(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ms(e))&&(t=e.g[t.toString()],e=-1,t&&(e=os(t,n,r,i)),(n=-1<e?t[e]:null)&&ds(n))}function ds(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[es])as(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ps(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ms(t))?(as(n,e),0==n.h&&(n.src=null,t[us]=null)):rs(e)}}}function ps(e){return e in ss?ss[e]:ss[e]="on"+e}function vs(e,t){if(e.ca)e=!0;else{t=new Ju(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ds(e),e=n.call(r,t)}return e}function ms(e){return(e=e[us])instanceof is?e:null}var ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(e){return"function"===typeof e?e:(e[ys]||(e[ys]=function(t){return e.handleEvent(t)}),e[ys])}function ks(){mu.call(this),this.i=new is(this),this.P=this,this.I=null}function bs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Xu(t,e);else if(t instanceof Xu)t.target=t.target||e;else{var i=t;Ou(t=new Xu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ws(o,r,!0,t)&&i}if(i=ws(o=t.g=e,r,!0,t)&&i,i=ws(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ws(o=t.g=n[a],r,!1,t)&&i}function ws(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&as(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}vu(ks,mu),ks.prototype[es]=!0,ks.prototype.removeEventListener=function(e,t,n,r){hs(this,e,t,n,r)},ks.prototype.M=function(){if(ks.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rs(n[r]);delete t.g[e],t.h--}}this.I=null},ks.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ks.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xs=au.JSON.stringify;function _s(){var e=Rs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Is,Es=function(){function e(){Qi(this,e),this.h=this.g=null}return Yi(e,[{key:"add",value:function(e,t){var n=Ss.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ss=new(function(){function e(t,n){Qi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Yi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ts}),(function(e){return e.reset()})),Ts=function(){function e(){Qi(this,e),this.next=this.g=this.h=null}return Yi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Cs(e){au.setTimeout((function(){throw e}),0)}function As(e,t){Is||function(){var e=au.Promise.resolve(void 0);Is=function(){e.then(Os)}}(),Ns||(Is(),Ns=!0),Rs.add(e,t)}var Ns=!1,Rs=new Es;function Os(){for(var e;e=_s();){try{e.h.call(e.g)}catch(n){Cs(n)}var t=Ss;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ns=!1}function Ps(e,t){ks.call(this),this.h=e||1,this.g=t||au,this.j=du(this.kb,this),this.l=Date.now()}function Ds(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ls(e,t,n){if("function"===typeof e)n&&(e=du(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=du(e.handleEvent,e)}return 2147483647<Number(t)?-1:au.setTimeout(e,t||0)}function Ms(e){e.g=Ls((function(){e.g=null,e.i&&(e.i=!1,Ms(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}vu(Ps,ks),(tu=Ps.prototype).da=!1,tu.S=null,tu.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bs(this,"tick"),this.da&&(Ds(this),this.start()))}},tu.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tu.M=function(){Ps.Z.M.call(this),Ds(this),delete this.g};var Fs=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Yi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ms(this)}},{key:"M",value:function(){eu(Zi(n.prototype),"M",this).call(this),this.g&&(au.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(mu);function Us(e){mu.call(this),this.h=e,this.g={}}vu(Us,mu);var Vs=[];function js(e,t,n,r){Array.isArray(n)||(n&&(Vs[0]=n.toString()),n=Vs);for(var i=0;i<n.length;i++){var a=cs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zs(e){Au(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ds(e)}),e),e.g={}}function Bs(){this.g=!0}function qs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xs(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Us.prototype.M=function(){Us.Z.M.call(this),zs(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bs.prototype.Aa=function(){this.g=!1},Bs.prototype.info=function(){};var Ws={},Ks=null;function Hs(){return Ks=Ks||new ks}function Gs(e){Xu.call(this,Ws.Ma,e)}function Qs(e){var t=Hs();bs(t,new Gs(t,e))}function $s(e,t){Xu.call(this,Ws.STAT_EVENT,e),this.stat=t}function Ys(e){var t=Hs();bs(t,new $s(t,e))}function Xs(e,t){Xu.call(this,Ws.Na,e),this.size=t}function Js(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return au.setTimeout((function(){e()}),t)}Ws.Ma="serverreachability",vu(Gs,Xu),Ws.STAT_EVENT="statevent",vu($s,Xu),Ws.Na="timingevent",vu(Xs,Xu);var Zs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ec={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tc(){}function nc(e){return e.h||(e.h=e.i())}function rc(){}tc.prototype.h=null;var ic,ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oc(){Xu.call(this,"d")}function uc(){Xu.call(this,"c")}function sc(){}function cc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Us(this),this.P=fc,e=Uu?125:void 0,this.W=new Ps(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lc}function lc(){this.i=null,this.g="",this.h=!1}vu(oc,Xu),vu(uc,Xu),vu(sc,tc),sc.prototype.g=function(){return new XMLHttpRequest},sc.prototype.i=function(){return{}},ic=new sc;var fc=45e3,hc={},dc={};function pc(e,t,n){e.K=1,e.v=Fc(Rc(t)),e.s=n,e.U=!0,vc(e,null)}function vc(e,t){e.F=Date.now(),kc(e),e.A=Rc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new lc,e.g=Jl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fs(du(e.Ia,e,e.g),e.O)),js(e.V,e.g,"readystatechange",e.gb),t=e.H?Nu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qs(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function mc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function yc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=gc(e,n))==dc){4==t&&(e.o=4,Ys(14),i=!1),qs(e.j,e.m,null,"[Incomplete Response]");break}if(r==hc){e.o=4,Ys(15),qs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qs(e.j,e.m,r,null),Ic(e,r)}mc(e)&&r!=dc&&r!=hc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ys(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wl(t),t.L=!0,Ys(11))):(qs(e.j,e.m,n,"[Invalid Chunked Response]"),_c(e),xc(e))}function gc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dc:(n=Number(t.substring(n,r)),isNaN(n)?hc:(r+=1)+n>t.length?dc:(t=t.substr(r,n),e.C=r+n,t))}function kc(e){e.Y=Date.now()+e.P,bc(e,e.P)}function bc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Js(du(e.eb,e),t)}function wc(e){e.B&&(au.clearTimeout(e.B),e.B=null)}function xc(e){0==e.l.G||e.I||Gl(e.l,e)}function _c(e){wc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ds(e.W),zs(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ic(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||il(n.i,e)))if(n.I=e.N,!e.J&&il(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Hl(n),Ll(n)}ql(n),Ys(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Js(du(n.ab,n),6e3));if(1>=rl(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else $l(n,11)}else if((e.J||n.g==e)&&Hl(n),!xu(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Eu(l,"spdy")||Eu(l,"quic")||Eu(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(al(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Mc(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Xl(r,r.H?r.la:null,r.W),d.J){ol(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(wc(p),kc(p)),r.g=d}else Bl(r);0<n.l.length&&Ul(n)}else"stop"!=a[0]&&"close"!=a[0]||$l(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?$l(n,7):Dl(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Qs(4)}catch(a){}}function Ec(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(uu(e)||"string"===typeof e)ku(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(uu(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(uu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Sc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Sc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tc(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Cc(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Cc(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Cc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(tu=cc.prototype).setTimeout=function(e){this.P=e},tu.gb=function(e){e=e.target;var t=this.L;t&&3==Al(e)?t.l():this.Ia(e)},tu.Ia=function(e){try{if(e==this.g)e:{var t=Al(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Uu||this.g&&(this.h.h||this.g.ga()||Nl(this.g)))){this.I||4!=t||7==n||Qs(8==n||0>=r?3:2),wc(this);var i=this.g.ba();this.N=i;t:if(mc(this)){var a=Nl(this.g);e="";var o=a.length,u=4==Al(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_c(this),xc(this);var s="";break t}this.h.i=new au.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xu(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ys(12),_c(this),xc(this);break e}qs(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ic(this,i)}this.U?(yc(this,t,s),Uu&&this.i&&3==t&&(js(this.V,this.W,"tick",this.fb),this.W.start())):(qs(this.j,this.m,s,null),Ic(this,s)),4==t&&_c(this),this.i&&!this.I&&(4==t?Gl(this.l,this):(this.i=!1,kc(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ys(12)):(this.o=0,Ys(13)),_c(this),xc(this)}}}catch(t){}},tu.fb=function(){if(this.g){var e=Al(this.g),t=this.g.ga();this.C<t.length&&(wc(this),yc(this,e,t),this.i&&4!=e&&kc(this))}},tu.cancel=function(){this.I=!0,_c(this)},tu.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qs(3),Ys(17)),_c(this),this.o=2,xc(this)):bc(this,this.Y-e)},(tu=Sc.prototype).R=function(){Tc(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},tu.T=function(){return Tc(this),this.g.concat()},tu.get=function(e,t){return Cc(this.h,e)?this.h[e]:t},tu.set=function(e,t){Cc(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},tu.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ac=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Nc){this.g=void 0!==t?t:e.g,Oc(this,e.j),this.s=e.s,Pc(this,e.i),Dc(this,e.m),this.l=e.l,t=e.h;var n=new Hc;n.i=t.i,t.g&&(n.g=new Sc(t.g),n.h=t.h),Lc(this,n),this.o=e.o}else e&&(n=String(e).match(Ac))?(this.g=!!t,Oc(this,n[1]||"",!0),this.s=Uc(n[2]||""),Pc(this,n[3]||"",!0),Dc(this,n[4]),this.l=Uc(n[5]||"",!0),Lc(this,n[6]||"",!0),this.o=Uc(n[7]||"")):(this.g=!!t,this.h=new Hc(null,this.g))}function Rc(e){return new Nc(e)}function Oc(e,t,n){e.j=n?Uc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Pc(e,t,n){e.i=n?Uc(t,!0):t}function Dc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lc(e,t,n){t instanceof Hc?(e.h=t,function(e,t){t&&!e.j&&(Gc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qc(this,t),Yc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Vc(t,Wc)),e.h=new Hc(t,e.g))}function Mc(e,t,n){e.h.set(t,n)}function Fc(e){return Mc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Uc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vc(t,zc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vc(t,zc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vc(n,"/"==n.charAt(0)?qc:Bc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vc(n,Kc)),e.join("")};var zc=/[#\/\?@]/g,Bc=/[#\?:]/g,qc=/[#\?]/g,Wc=/[#\?@]/g,Kc=/#/g;function Hc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gc(e){e.g||(e.g=new Sc,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qc(e,t){Gc(e),t=Xc(e,t),Cc(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Cc((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Tc(e)))}function $c(e,t){return Gc(e),t=Xc(e,t),Cc(e.g.h,t)}function Yc(e,t,n){Qc(e,t),0<n.length&&(e.i=null,e.g.set(Xc(e,t),wu(n)),e.h+=n.length)}function Xc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(tu=Hc.prototype).add=function(e,t){Gc(this),this.i=null,e=Xc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},tu.forEach=function(e,t){Gc(this),this.g.forEach((function(n,r){ku(n,(function(n){e.call(t,n,r,this)}),this)}),this)},tu.T=function(){Gc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},tu.R=function(e){Gc(this);var t=[];if("string"===typeof e)$c(this,e)&&(t=bu(t,this.g.get(Xc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=bu(t,e[n])}return t},tu.set=function(e,t){return Gc(this),this.i=null,$c(this,e=Xc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tu.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},tu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Jc=Yi((function e(t,n){Qi(this,e),this.h=t,this.g=n}));function Zc(e){this.l=e||tl,au.PerformanceNavigationTiming?e=0<(e=au.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(au.g&&au.g.Ea&&au.g.Ea()&&au.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var el,tl=10;function nl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rl(e){return e.h?1:e.g?e.g.size:0}function il(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function al(e,t){e.g?e.g.add(t):e.h=t}function ol(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ul(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Xi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return wu(e.i)}function sl(){}function cl(){this.g=new sl}function ll(e,t,n){var r=n||"";try{Ec(e,(function(e,n){var i=e;su(e)&&(i=xs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function hl(e){this.l=e.$b||null,this.j=e.ib||!1}function dl(e,t){ks.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=pl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zc.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Xi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},sl.prototype.stringify=function(e){return au.JSON.stringify(e,void 0)},sl.prototype.parse=function(e){return au.JSON.parse(e,void 0)},vu(hl,tc),hl.prototype.g=function(){return new dl(this.l,this.j)},hl.prototype.i=(el={},function(){return el}),vu(dl,ks);var pl=0;function vl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ml(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yl(e)}function yl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tu=dl.prototype).open=function(e,t){if(this.readyState!=pl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yl(this)},tu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||au).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},tu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ml(this)),this.readyState=pl},tu.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yl(this)),this.g&&(this.readyState=3,yl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof au.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},tu.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ml(this):yl(this),3==this.readyState&&vl(this)}},tu.Ua=function(e){this.g&&(this.response=this.responseText=e,ml(this))},tu.Ta=function(e){this.g&&(this.response=e,ml(this))},tu.ha=function(){this.g&&ml(this)},tu.setRequestHeader=function(e,t){this.v.append(e,t)},tu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gl=au.JSON.parse;function kl(e){ks.call(this),this.headers=new Sc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bl,this.K=this.L=!1}vu(kl,ks);var bl="",wl=/^https?$/i,xl=["POST","PUT"];function _l(e){return"content-type"==e.toLowerCase()}function Il(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,El(e),Tl(e)}function El(e){e.D||(e.D=!0,bs(e,"complete"),bs(e,"error"))}function Sl(e){if(e.h&&"undefined"!=typeof iu&&(!e.C[1]||4!=Al(e)||2!=e.ba()))if(e.v&&4==Al(e))Ls(e.Fa,0,e);else if(bs(e,"readystatechange"),4==Al(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ac)[1]||null;if(!a&&au.self&&au.self.location){var o=au.self.location.protocol;a=o.substr(0,o.length-1)}i=!wl.test(a?a.toLowerCase():"")}t=i}if(t)bs(e,"complete"),bs(e,"success");else{e.m=6;try{var u=2<Al(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",El(e)}}finally{Tl(e)}}}function Tl(e,t){if(e.g){Cl(e);var n=e.g,r=e.C[0]?ou:null;e.g=null,e.C=null,t||bs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Cl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(au.clearTimeout(e.A),e.A=null)}function Al(e){return e.g?e.g.readyState:0}function Nl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Rl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Au(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mc(e,t,n))}function Ol(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pl(e){this.za=0,this.l=[],this.h=new Bs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ol("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ol("baseRetryDelayMs",5e3,e),this.$a=Ol("retryDelaySeedMs",1e4,e),this.Ya=Ol("forwardChannelMaxRetries",2,e),this.ra=Ol("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Zc(e&&e.concurrentRequestLimit),this.Ca=new cl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Dl(e){if(Ml(e),3==e.G){var t=e.V++,n=Rc(e.F);Mc(n,"SID",e.J),Mc(n,"RID",t),Mc(n,"TYPE","terminate"),jl(e,n),(t=new cc(e,e.h,t,void 0)).K=2,t.v=Fc(Rc(n)),n=!1,au.navigator&&au.navigator.sendBeacon&&(n=au.navigator.sendBeacon(t.v.toString(),"")),!n&&au.Image&&((new Image).src=t.v,n=!0),n||(t.g=Jl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),kc(t)}Yl(e)}function Ll(e){e.g&&(Wl(e),e.g.cancel(),e.g=null)}function Ml(e){Ll(e),e.u&&(au.clearTimeout(e.u),e.u=null),Hl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&au.clearTimeout(e.m),e.m=null)}function Fl(e,t){e.l.push(new Jc(e.Za++,t)),3==e.G&&Ul(e)}function Ul(e){nl(e.i)||e.m||(e.m=!0,As(e.Ha,e),e.C=0)}function Vl(e,t){var n;n=t?t.m:e.V++;var r=Rc(e.F);Mc(r,"SID",e.J),Mc(r,"RID",n),Mc(r,"AID",e.U),jl(e,r),e.o&&e.s&&Rl(r,e.o,e.s),n=new cc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),al(e.i,n),pc(n,r,t)}function jl(e,t){e.j&&Ec({},(function(e,n){Mc(t,n,e)}))}function zl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?du(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ll(l,o,"req"+c+"_")}catch(Tf){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Bl(e){e.g||e.u||(e.Y=1,As(e.Ga,e),e.A=0)}function ql(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Js(du(e.Ga,e),Ql(e,e.A)),e.A++,!0)}function Wl(e){null!=e.B&&(au.clearTimeout(e.B),e.B=null)}function Kl(e){e.g=new cc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Rc(e.oa);Mc(t,"RID","rpc"),Mc(t,"SID",e.J),Mc(t,"CI",e.N?"0":"1"),Mc(t,"AID",e.U),jl(e,t),Mc(t,"TYPE","xmlhttp"),e.o&&e.s&&Rl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Fc(Rc(t)),n.s=null,n.U=!0,vc(n,e)}function Hl(e){null!=e.v&&(au.clearTimeout(e.v),e.v=null)}function Gl(e,t){var n=null;if(e.g==t){Hl(e),Wl(e),e.g=null;var r=2}else{if(!il(e.i,t))return;n=t.D,ol(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;bs(r=Hs(),new Xs(r,n,t,i)),Ul(e)}else Bl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(rl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Js(du(e.Ha,e,t),Ql(e,e.C)),e.C++,!0))}(e,t)||2==r&&ql(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$l(e,5);break;case 4:$l(e,10);break;case 3:$l(e,6);break;default:$l(e,2)}}function Ql(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $l(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=du(e.jb,e);n||(n=new Nc("//www.google.com/images/cleardot.gif"),au.location&&"http"==au.location.protocol||Oc(n,"https"),Fc(n)),function(e,t){var n=new Bs;if(au.Image){var r=new Image;r.onload=pu(fl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pu(fl,n,r,"TestLoadImage: error",!1,t),r.onabort=pu(fl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pu(fl,n,r,"TestLoadImage: timeout",!1,t),au.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ys(2);e.G=0,e.j&&e.j.va(t),Yl(e),Ml(e)}function Yl(e){e.G=0,e.I=-1,e.j&&(0==ul(e.i).length&&0==e.l.length||(e.i.i.length=0,wu(e.l),e.l.length=0),e.j.ua())}function Xl(e,t,n){var r=function(e){return e instanceof Nc?Rc(e):new Nc(e,void 0)}(n);if(""!=r.i)t&&Pc(r,t+"."+r.i),Dc(r,r.m);else{var i=au.location;r=function(e,t,n,r){var i=new Nc(null,void 0);return e&&Oc(i,e),t&&Pc(i,t),n&&Dc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Au(e.aa,(function(e,t){Mc(r,t,e)})),t=e.D,n=e.sa,t&&n&&Mc(r,t,n),Mc(r,"VER",e.ma),jl(e,r),r}function Jl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new kl(new hl({ib:!0})):new kl(e.qa)).L=e.H,t}function Zl(){}function ef(){if(Mu&&!(10<=Number($u)))throw Error("Environmental error: no available transport.")}function tf(e,t){ks.call(this),this.g=new Pl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!xu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new af(this)}function nf(e){oc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rf(){uc.call(this),this.status=1}function af(e){this.g=e}(tu=kl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ic.g(),this.C=this.u?nc(this.u):nc(ic),this.g.onreadystatechange=du(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Il(this,a)}e=n||"";var i=new Sc(this.headers);r&&Ec(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=_l,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=au.FormData&&e instanceof au.FormData,!(0<=gu(xl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cl(this),0<this.B&&((this.K=function(e){return Mu&&Gu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=du(this.pa,this)):this.A=Ls(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Il(this,a)}},tu.pa=function(){"undefined"!=typeof iu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))},tu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bs(this,"complete"),bs(this,"abort"),Tl(this))},tu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tl(this,!0)),kl.Z.M.call(this)},tu.Fa=function(){this.s||(this.F||this.v||this.l?Sl(this):this.cb())},tu.cb=function(){Sl(this)},tu.ba=function(){try{return 2<Al(this)?this.g.status:-1}catch(el){return-1}},tu.ga=function(){try{return this.g?this.g.responseText:""}catch(el){return""}},tu.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gl(t)}},tu.Da=function(){return this.m},tu.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(tu=Pl.prototype).ma=8,tu.G=1,tu.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},tu.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new cc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ou(n=Nu(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zl(this,t,r),Mc(i=Rc(this.F),"RID",e),Mc(i,"CVER",22),this.D&&Mc(i,"X-HTTP-Session-Id",this.D),jl(this,i),this.o&&n&&Rl(i,this.o,n),al(this.i,t),this.Ra&&Mc(i,"TYPE","init"),this.ja?(Mc(i,"$req",r),Mc(i,"SID","null"),t.$=!0,pc(t,i,null)):pc(t,i,r),this.G=2}}else 3==this.G&&(e?Vl(this,e):0==this.l.length||nl(this.i)||Vl(this))},tu.Ga=function(){if(this.u=null,Kl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Js(du(this.bb,this),e)}},tu.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ys(10),Ll(this),Kl(this))},tu.ab=function(){null!=this.v&&(this.v=null,Ll(this),ql(this),Ys(19))},tu.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ys(2)):(this.h.info("Failed to ping google.com"),Ys(1))},(tu=Zl.prototype).xa=function(){},tu.wa=function(){},tu.va=function(){},tu.ua=function(){},tu.Oa=function(){},ef.prototype.g=function(e,t){return new tf(e,t)},vu(tf,ks),tf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),As(du(e.hb,e,t))),Ys(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Xl(e,null,e.W),Ul(e)},tf.prototype.close=function(){Dl(this.g)},tf.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Fl(this.g,t)}else this.v?((t={}).__data__=xs(e),Fl(this.g,t)):Fl(this.g,e)},tf.prototype.M=function(){this.g.j=null,delete this.j,Dl(this.g),delete this.g,tf.Z.M.call(this)},vu(nf,oc),vu(rf,uc),vu(af,Zl),af.prototype.xa=function(){bs(this.g,"a")},af.prototype.wa=function(e){bs(this.g,new nf(e))},af.prototype.va=function(e){bs(this.g,new rf(e))},af.prototype.ua=function(){bs(this.g,"b")},ef.prototype.createWebChannel=ef.prototype.g,tf.prototype.send=tf.prototype.u,tf.prototype.open=tf.prototype.m,tf.prototype.close=tf.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,ec.COMPLETE="complete",rc.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",ks.prototype.listen=ks.prototype.N,kl.prototype.listenOnce=kl.prototype.O,kl.prototype.getLastError=kl.prototype.La,kl.prototype.getLastErrorCode=kl.prototype.Da,kl.prototype.getStatus=kl.prototype.ba,kl.prototype.getResponseJson=kl.prototype.Qa,kl.prototype.getResponseText=kl.prototype.ga,kl.prototype.send=kl.prototype.ea;var of=ru.createWebChannelTransport=function(){return new ef},uf=ru.getStatEventTarget=function(){return Hs()},sf=ru.ErrorCode=Zs,cf=ru.EventType=ec,lf=ru.Event=Ws,ff=ru.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hf=ru.FetchXmlHttpFactory=hl,df=ru.WebChannel=rc,pf=ru.XhrIo=kl,vf="@firebase/firestore",mf=function(){function e(t){Qi(this,e),this.uid=t}return Yi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();mf.UNAUTHENTICATED=new mf(null),mf.GOOGLE_CREDENTIALS=new mf("google-credentials-uid"),mf.FIRST_PARTY=new mf("first-party-uid"),mf.MOCK_USER=new mf("mock-user");var yf="9.6.9",gf=new ro("@firebase/firestore");function kf(){return gf.logLevel}function bf(e){if(gf.logLevel<=Qa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_f);gf.debug.apply(gf,["Firestore (".concat(yf,"): ").concat(e)].concat(S(i)))}}function wf(e){if(gf.logLevel<=Qa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_f);gf.error.apply(gf,["Firestore (".concat(yf,"): ").concat(e)].concat(S(i)))}}function xf(e){if(gf.logLevel<=Qa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(_f);gf.warn.apply(gf,["Firestore (".concat(yf,"): ").concat(e)].concat(S(i)))}}function _f(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(yf,") INTERNAL ASSERTION FAILED: ")+e;throw wf(t),new Error(t)}function Ef(e,t){e||If()}function Sf(e,t){return e}var Tf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cf=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Yi(n)}(xa),Af=Yi((function e(){var t=this;Qi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Nf=Yi((function e(t,n){Qi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rf=function(){function e(){Qi(this,e)}return Yi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Of=function(){function e(t){Qi(this,e),this.token=t,this.changeListener=null}return Yi(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Pf=function(){function e(t){Qi(this,e),this.t=t,this.currentUser=mf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Yi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Af;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Af,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){bf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(bf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Af)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(bf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ef("string"==typeof n.accessToken),new Nf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ef(null===e||"string"==typeof e),new mf(e)}}]),e}(),Df=Yi((function e(t,n,r){Qi(this,e),this.type="FirstParty",this.user=mf.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Lf=function(){function e(t,n,r){Qi(this,e),this.h=t,this.l=n,this.m=r}return Yi(e,[{key:"getToken",value:function(){return Promise.resolve(new Df(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(mf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Mf=Yi((function e(t){Qi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ff=function(){function e(t){Qi(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Yi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&bf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,bf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){bf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):bf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ef("string"==typeof t.token),e.p=t.token,new Mf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Uf=function(){function e(t,n){var r=this;Qi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Yi(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Vf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Uf.A=-1;var jf=function(){function e(){Qi(this,e)}return Yi(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zf(e,t){return e<t?-1:e>t?1:0}function Bf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qf(e){return e+"\0"}var Wf=function(){function e(t,n){if(Qi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Cf(Tf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Cf(Tf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Cf(Tf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cf(Tf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Yi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zf(this.nanoseconds,e.nanoseconds):zf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Kf=function(){function e(t){Qi(this,e),this.timestamp=t}return Yi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Wf(0,0))}}]),e}();function Hf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var $f=function(){function e(t,n,r){Qi(this,e),void 0===n?n=0:n>t.length&&If(),void 0===r?r=t.length-n:r>t.length-n&&If(),this.segments=t,this.offset=n,this.len=r}return Yi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Yf=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,S(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($f),Xf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jf=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Xf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Cf(Tf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Cf(Tf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Cf(Tf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}($f),Zf=function(){function e(t){Qi(this,e),this.fields=t,t.sort(Jf.comparator)}return Yi(e,[{key:"covers",value:function(e){var t,n=Xi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Bf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var eh=function(e){function t(e){Qi(this,t),this.binaryString=e}return Yi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();eh.EMPTY_BYTE_STRING=new eh("");var th=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(e){if(Ef(!!e),"string"==typeof e){var t=0,n=th.exec(e);if(Ef(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rh(e.seconds),nanos:rh(e.nanos)}}function rh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ih(e){return"string"==typeof e?eh.fromBase64String(e):eh.fromUint8Array(e)}function ah(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oh(e){var t=e.mapValue.fields.__previous_value__;return ah(t)?oh(t):t}function uh(e){var t=nh(e.mapValue.fields.__local_write_time__.timestampValue);return new Wf(t.seconds,t.nanos)}var sh=Yi((function e(t,n,r,i,a,o,u,s){Qi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ch=function(){function e(t,n){Qi(this,e),this.projectId=t,this.database=n||"(default)"}return Yi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function lh(e){return null==e}function fh(e){return 0===e&&1/e==-1/0}function hh(e){return"number"==typeof e&&Number.isInteger(e)&&!fh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var dh=function(){function e(t){Qi(this,e),this.path=t}return Yi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Yf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Yf.fromString(t))}},{key:"fromName",value:function(t){return new e(Yf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Yf.emptyPath())}},{key:"comparator",value:function(e,t){return Yf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Yf(t.slice()))}}]),e}(),ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vh={nullValue:"NULL_VALUE"};function mh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ah(e)?4:Nh(e)?9:10:If()}function yh(e,t){if(e===t)return!0;var n=mh(e);if(n!==mh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uh(e).isEqual(uh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=nh(e.timestampValue),r=nh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ih(e.bytesValue).isEqual(ih(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rh(e.geoPointValue.latitude)===rh(t.geoPointValue.latitude)&&rh(e.geoPointValue.longitude)===rh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rh(e.integerValue)===rh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=rh(e.doubleValue),r=rh(t.doubleValue);return n===r?fh(n)===fh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bf(e.arrayValue.values||[],t.arrayValue.values||[],yh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hf(n)!==Hf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yh(n[i],r[i])))return!1;return!0}(e,t);default:return If()}}function gh(e,t){return void 0!==(e.values||[]).find((function(e){return yh(e,t)}))}function kh(e,t){if(e===t)return 0;var n=mh(e),r=mh(t);if(n!==r)return zf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=rh(e.integerValue||e.doubleValue),r=rh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bh(e.timestampValue,t.timestampValue);case 4:return bh(uh(e),uh(t));case 5:return zf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ih(e),r=ih(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zf(n[i],r[i]);if(0!==a)return a}return zf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zf(rh(e.latitude),rh(t.latitude));return 0!==n?n:zf(rh(e.longitude),rh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=kh(n[i],r[i]);if(a)return a}return zf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=zf(r[o],a[o]);if(0!==u)return u;var s=kh(n[r[o]],i[a[o]]);if(0!==s)return s}return zf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw If()}}function bh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zf(e,t);var n=nh(e),r=nh(t),i=zf(n.seconds,r.seconds);return 0!==i?i:zf(n.nanos,r.nanos)}function wh(e){return xh(e)}function xh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=nh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ih(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Xi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=xh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Xi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(xh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):If();var t,n}function _h(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ih(e){return!!e&&"integerValue"in e}function Eh(e){return!!e&&"arrayValue"in e}function Sh(e){return!!e&&"nullValue"in e}function Th(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ch(e){return!!e&&"mapValue"in e}function Ah(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ah(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ah(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Nh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rh(e,t){return void 0===e?t:void 0===t||kh(e,t)>0?e:t}function Oh(e,t){return void 0===e?t:void 0===t||kh(e,t)<0?e:t}var Ph=function(){function e(t){Qi(this,e),this.value=t}return Yi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ch(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}},{key:"setAll",value:function(e){var t=this,n=Jf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ah(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return yh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ch(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Gf(t,(function(t,n){return e[t]=n}));var r,i=Xi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ah(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Dh(e){var t=[];return Gf(e.fields,(function(e,n){var r=new Jf([e]);if(Ch(n)){var i=Dh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Xi(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Zf(t)}var Lh=function(){function e(t,n,r,i,a,o){Qi(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Yi(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ph.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ph.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kf.min(),Kf.min(),Ph.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Kf.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Kf.min(),Ph.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Kf.min(),Ph.empty(),2)}}]),e}(),Mh=Yi((function e(t,n,r,i){Qi(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Fh(e){return e.fields.find((function(e){return 2===e.kind}))}function Uh(e){return e.fields.filter((function(e){return 2!==e.kind}))}Mh.UNKNOWN_ID=-1;var Vh=Yi((function e(t,n){Qi(this,e),this.fieldPath=t,this.kind=n})),jh=function(){function e(t,n){Qi(this,e),this.sequenceNumber=t,this.offset=n}return Yi(e,null,[{key:"empty",value:function(){return new e(0,zh.min())}}]),e}(),zh=function(){function e(t,n,r){Qi(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Yi(e,null,[{key:"min",value:function(){return new e(Kf.min(),dh.empty(),-1)}}]),e}(),Bh=Yi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Qi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function qh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bh(e,t,n,r,i,a,o)}function Wh(e){var t=Sf(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+wh(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),lh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return wh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return wh(e)})).join(",")),t.P=n}return t.P}function Kh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ad(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!yh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ud(e.startAt,t.startAt)&&ud(e.endAt,t.endAt)}function Hh(e){return dh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gh(e,t){return e.filters.filter((function(e){return e instanceof Qh&&e.field.isEqual(t)}))}var Qh=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Yi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(kh(t,this.value)):null!==t&&mh(this.value)===mh(t)&&this.v(kh(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return If()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new $h(e,t,r):"array-contains"===t?new Zh(e,r):"in"===t?new ed(e,r):"not-in"===t?new td(e,r):"array-contains-any"===t?new nd(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Yh(e,n):new Xh(e,n)}}]),n}(function(){return Yi((function e(){Qi(this,e)}))}()),$h=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,e,r,i)).key=dh.fromName(i.referenceValue),a}return Yi(n,[{key:"matches",value:function(e){var t=dh.comparator(e.key,this.key);return this.v(t)}}]),n}(Qh),Yh=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,"in",r)).keys=Jh("in",r),i}return Yi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qh),Xh=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,"not-in",r)).keys=Jh("not-in",r),i}return Yi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qh);function Jh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dh.fromName(e.referenceValue)}))}var Zh=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"array-contains",r)}return Yi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Eh(t)&&gh(t.arrayValue,this.value)}}]),n}(Qh),ed=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"in",r)}return Yi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gh(this.value.arrayValue,t)}}]),n}(Qh),td=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"not-in",r)}return Yi(n,[{key:"matches",value:function(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gh(this.value.arrayValue,t)}}]),n}(Qh),nd=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"array-contains-any",r)}return Yi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gh(t.value.arrayValue,e)}))}}]),n}(Qh),rd=Yi((function e(t,n){Qi(this,e),this.position=t,this.inclusive=n})),id=Yi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Qi(this,e),this.field=t,this.dir=n}));function ad(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function od(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dh.comparator(dh.fromName(o.referenceValue),n.key):kh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ud(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yh(e.position[n],t.position[n]))return!1;return!0}var sd=Yi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Qi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function cd(e,t,n,r,i,a,o,u){return new sd(e,t,n,r,i,a,o,u)}function ld(e){return new sd(e)}function fd(e){return!lh(e.limit)&&"F"===e.limitType}function hd(e){return!lh(e.limit)&&"L"===e.limitType}function dd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pd(e){var t,n=Xi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function vd(e){return null!==e.collectionGroup}function md(e){var t=Sf(e);if(null===t.D){t.D=[];var n=pd(t),r=dd(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new id(n)),t.D.push(new id(Jf.keyField(),"asc"));else{var i,a=!1,o=Xi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new id(Jf.keyField(),s))}}}return t.D}function yd(e){var t=Sf(e);if(!t.C)if("F"===t.limitType)t.C=qh(t.path,t.collectionGroup,md(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Xi(md(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new id(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new rd(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new rd(t.startAt.position,!t.startAt.inclusive):null;t.C=qh(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function gd(e,t,n){return new sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kd(e,t){return Kh(yd(e),yd(t))&&e.limitType===t.limitType}function bd(e){return"".concat(Wh(yd(e)),"|lt:").concat(e.limitType)}function wd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(wh(t.value));var t})).join(", "),"]")),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return wh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return wh(e)})).join(",")),"Target(".concat(t,")")}(yd(e)),"; limitType=").concat(e.limitType,")")}function xd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Xi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Xi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=od(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,md(e),t))&&!(e.endAt&&!function(e,t,n){var r=od(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,md(e),t))}(e,t)}function _d(e){return function(t,n){var r,i=!1,a=Xi(md(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Id(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Id(e,t,n){var r=e.field.isKeyField()?dh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kh(r,i):If()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return If()}}function Ed(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(t)?"-0":t}}function Sd(e){return{integerValue:""+e}}function Td(e,t){return hh(t)?Sd(t):Ed(e,t)}var Cd=Yi((function e(){Qi(this,e),this._=void 0}));function Ad(e,t,n){return e instanceof Od?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Pd?Dd(e,t):e instanceof Ld?Md(e,t):function(e,t){var n=Rd(e,t),r=Ud(n)+Ud(e.k);return Ih(n)&&Ih(e.k)?Sd(r):Ed(e.M,r)}(e,t)}function Nd(e,t,n){return e instanceof Pd?Dd(e,t):e instanceof Ld?Md(e,t):n}function Rd(e,t){return e instanceof Fd?Ih(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Od=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n)}(Cd),Pd=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).elements=e,r}return Yi(n)}(Cd);function Dd(e,t){var n,r=Vd(t),i=Xi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return yh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ld=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).elements=e,r}return Yi(n)}(Cd);function Md(e,t){var n,r=Vd(t),i=Xi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!yh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Fd=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).M=e,i.k=r,i}return Yi(n)}(Cd);function Ud(e){return rh(e.integerValue||e.doubleValue)}function Vd(e){return Eh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jd=Yi((function e(t,n){Qi(this,e),this.field=t,this.transform=n}));var zd=Yi((function e(t,n){Qi(this,e),this.version=t,this.transformResults=n})),Bd=function(){function e(t,n){Qi(this,e),this.updateTime=t,this.exists=n}return Yi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Wd=Yi((function e(){Qi(this,e)}));function Kd(e,t,n){e instanceof Yd?function(e,t,n){var r=e.value.clone(),i=Zd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xd?function(e,t,n){if(qd(e.precondition,t)){var r=Zd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hd(e,t,n){e instanceof Yd?function(e,t,n){if(qd(e.precondition,t)){var r=e.value.clone(),i=ep(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($d(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Xd?function(e,t,n){if(qd(e.precondition,t)){var r=ep(e.fieldTransforms,n,t),i=t.data;i.setAll(Jd(e)),i.setAll(r),t.convertToFoundDocument($d(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){qd(e.precondition,t)&&t.convertToNoDocument(Kf.min())}(e,t)}function Gd(e,t){var n,r=null,i=Xi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Rd(a.transform,o||null);null!=u&&(null==r&&(r=Ph.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Qd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Pd&&t instanceof Pd||e instanceof Ld&&t instanceof Ld?Bf(e.elements,t.elements,yh):e instanceof Fd&&t instanceof Fd?yh(e.k,t.k):e instanceof Od&&t instanceof Od}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $d(e){return e.isFoundDocument()?e.version:Kf.min()}var Yd=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Qi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Yi(n)}(Wd),Xd=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Qi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Yi(n)}(Wd);function Jd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zd(e,t,n){var r=new Map;Ef(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Nd(o,u,n[i]))}return r}function ep(e,t,n){var r,i=new Map,a=Xi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ad(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var tp,np,rp=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Yi(n)}(Wd),ip=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Yi(n)}(Wd),ap=Yi((function e(t){Qi(this,e),this.count=t}));function op(e){switch(e){default:return If();case Tf.CANCELLED:case Tf.UNKNOWN:case Tf.DEADLINE_EXCEEDED:case Tf.RESOURCE_EXHAUSTED:case Tf.INTERNAL:case Tf.UNAVAILABLE:case Tf.UNAUTHENTICATED:return!1;case Tf.INVALID_ARGUMENT:case Tf.NOT_FOUND:case Tf.ALREADY_EXISTS:case Tf.PERMISSION_DENIED:case Tf.FAILED_PRECONDITION:case Tf.ABORTED:case Tf.OUT_OF_RANGE:case Tf.UNIMPLEMENTED:case Tf.DATA_LOSS:return!0}}function up(e){if(void 0===e)return wf("GRPC error has no .code"),Tf.UNKNOWN;switch(e){case tp.OK:return Tf.OK;case tp.CANCELLED:return Tf.CANCELLED;case tp.UNKNOWN:return Tf.UNKNOWN;case tp.DEADLINE_EXCEEDED:return Tf.DEADLINE_EXCEEDED;case tp.RESOURCE_EXHAUSTED:return Tf.RESOURCE_EXHAUSTED;case tp.INTERNAL:return Tf.INTERNAL;case tp.UNAVAILABLE:return Tf.UNAVAILABLE;case tp.UNAUTHENTICATED:return Tf.UNAUTHENTICATED;case tp.INVALID_ARGUMENT:return Tf.INVALID_ARGUMENT;case tp.NOT_FOUND:return Tf.NOT_FOUND;case tp.ALREADY_EXISTS:return Tf.ALREADY_EXISTS;case tp.PERMISSION_DENIED:return Tf.PERMISSION_DENIED;case tp.FAILED_PRECONDITION:return Tf.FAILED_PRECONDITION;case tp.ABORTED:return Tf.ABORTED;case tp.OUT_OF_RANGE:return Tf.OUT_OF_RANGE;case tp.UNIMPLEMENTED:return Tf.UNIMPLEMENTED;case tp.DATA_LOSS:return Tf.DATA_LOSS;default:return If()}}(np=tp||(tp={}))[np.OK=0]="OK",np[np.CANCELLED=1]="CANCELLED",np[np.UNKNOWN=2]="UNKNOWN",np[np.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",np[np.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",np[np.NOT_FOUND=5]="NOT_FOUND",np[np.ALREADY_EXISTS=6]="ALREADY_EXISTS",np[np.PERMISSION_DENIED=7]="PERMISSION_DENIED",np[np.UNAUTHENTICATED=16]="UNAUTHENTICATED",np[np.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",np[np.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",np[np.ABORTED=10]="ABORTED",np[np.OUT_OF_RANGE=11]="OUT_OF_RANGE",np[np.UNIMPLEMENTED=12]="UNIMPLEMENTED",np[np.INTERNAL=13]="INTERNAL",np[np.UNAVAILABLE=14]="UNAVAILABLE",np[np.DATA_LOSS=15]="DATA_LOSS";var sp=function(){function e(t,n){Qi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Yi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Xi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Gf(this.inner,(function(t,n){var r,i=Xi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Qf(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),cp=function(){function e(t,n){Qi(this,e),this.comparator=t,this.root=n||fp.EMPTY}return Yi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lp(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lp(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lp(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lp(this.root,e,this.comparator,!0)}}]),e}(),lp=function(){function e(t,n,r,i){Qi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Yi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fp=function(){function e(t,n,r,i,a){Qi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Yi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw If();if(this.right.isRed())throw If();var e=this.left.check();if(e!==this.right.check())throw If();return e+(this.isRed()?0:1)}}]),e}();fp.EMPTY=null,fp.RED=!0,fp.BLACK=!1,fp.EMPTY=new(function(){function e(){Qi(this,e),this.size=0}return Yi(e,[{key:"key",get:function(){throw If()}},{key:"value",get:function(){throw If()}},{key:"color",get:function(){throw If()}},{key:"left",get:function(){throw If()}},{key:"right",get:function(){throw If()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hp=function(){function e(t){Qi(this,e),this.comparator=t,this.data=new cp(this.comparator)}return Yi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dp=function(){function e(t){Qi(this,e),this.iter=t}return Yi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function pp(e){return e.hasNext()?e.getNext():void 0}var vp=new cp(dh.comparator);function mp(){return vp}var yp=new cp(dh.comparator);function gp(){return yp}function kp(){return new sp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var bp=new cp(dh.comparator),wp=new hp(dh.comparator);function xp(){for(var e=wp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var _p=new hp(zf);function Ip(){return _p}var Ep=function(){function e(t,n,r,i,a){Qi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Yi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Kf.min(),r,Ip(),mp(),xp())}}]),e}(),Sp=function(){function e(t,n,r,i,a){Qi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Yi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(eh.EMPTY_BYTE_STRING,n,xp(),xp(),xp())}}]),e}(),Tp=Yi((function e(t,n,r,i){Qi(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),Cp=Yi((function e(t,n){Qi(this,e),this.targetId=t,this.F=n})),Ap=Yi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Qi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Np=function(){function e(){Qi(this,e),this.B=0,this.L=Pp(),this.q=eh.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return Yi(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=xp(),t=xp(),n=xp();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:If()}})),new Sp(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Pp()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),Rp=function(){function e(t){Qi(this,e),this.nt=t,this.st=new Map,this.it=mp(),this.rt=Op(),this.ot=new hp(zf)}return Yi(e,[{key:"at",value:function(e){var t,n=Xi(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=Xi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:If()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Hh(i))if(0===n){var a=new dh(i.path);this.ct(t,a,Lh.newNoDocument(a,Kf.min()))}else Ef(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Hh(a.target)){var o=new dh(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Lh.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=xp();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ep(e,n,this.ot,this.it,r);return this.it=mp(),this.rt=Op(),this.ot=new hp(zf),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Np,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new hp(zf),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||bf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Np),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Op(){return new cp(dh.comparator)}function Pp(){return new cp(dh.comparator)}var Dp={asc:"ASCENDING",desc:"DESCENDING"},Lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mp=Yi((function e(t,n){Qi(this,e),this.databaseId=t,this.N=n}));function Fp(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Up(e,t){return e.N?t.toBase64():t.toUint8Array()}function Vp(e,t){return Fp(e,t.toTimestamp())}function jp(e){return Ef(!!e),Kf.fromTimestamp(function(e){var t=nh(e);return new Wf(t.seconds,t.nanos)}(e))}function zp(e,t){return function(e){return new Yf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bp(e){var t=Yf.fromString(e);return Ef(fv(t)),t}function qp(e,t){return zp(e.databaseId,t.path)}function Wp(e,t){var n=Bp(t);if(n.get(1)!==e.databaseId.projectId)throw new Cf(Tf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Cf(Tf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dh(Qp(n))}function Kp(e,t){return zp(e.databaseId,t)}function Hp(e){var t=Bp(e);return 4===t.length?Yf.emptyPath():Qp(t)}function Gp(e){return new Yf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qp(e){return Ef(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $p(e,t,n){return{name:qp(e,t),fields:n.value.mapValue.fields}}function Yp(e,t,n){var r=Wp(e,t.name),i=jp(t.updateTime),a=new Ph({mapValue:{fields:t.fields}}),o=Lh.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Xp(e,t){return"found"in t?function(e,t){Ef(!!t.found),t.found.name,t.found.updateTime;var n=Wp(e,t.found.name),r=jp(t.found.updateTime),i=new Ph({mapValue:{fields:t.found.fields}});return Lh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ef(!!t.missing),Ef(!!t.readTime);var n=Wp(e,t.missing),r=jp(t.readTime);return Lh.newNoDocument(n,r)}(e,t):If()}function Jp(e,t){var n;if(t instanceof Yd)n={update:$p(e,t.key,t.value)};else if(t instanceof rp)n={delete:qp(e,t.key)};else if(t instanceof Xd)n={update:$p(e,t.key,t.data),updateMask:lv(t.fieldMask)};else{if(!(t instanceof ip))return If();n={verify:qp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Od)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ld)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fd)return{fieldPath:t.field.canonicalString(),increment:n.k};throw If()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:If()}(e,t.precondition)),n}function Zp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bd.updateTime(jp(e.updateTime)):void 0!==e.exists?Bd.exists(e.exists):Bd.none()}(t.currentDocument):Bd.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ef("REQUEST_TIME"===t.setToServerValue),n=new Od;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Pd(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ld(i)}else"increment"in t?n=new Fd(e,t.increment):If();var a=Jf.fromServerFormat(t.fieldPath);return new jd(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Wp(e,t.update.name),a=new Ph({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Zf(t.map((function(e){return Jf.fromServerFormat(e)})))}(t.updateMask);return new Xd(i,a,o,n,r)}return new Yd(i,a,n,r)}if(t.delete){var u=Wp(e,t.delete);return new rp(u,n)}if(t.verify){var s=Wp(e,t.verify);return new ip(s,n)}return If()}function ev(e,t){return{documents:[Kp(e,t.path)]}}function tv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Th(e.value))return{unaryFilter:{field:ov(e.field),op:"IS_NAN"}};if(Sh(e.value))return{unaryFilter:{field:ov(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Th(e.value))return{unaryFilter:{field:ov(e.field),op:"IS_NOT_NAN"}};if(Sh(e.value))return{unaryFilter:{field:ov(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ov(e.field),op:av(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ov(e.field),direction:iv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||lh(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nv(e){var t=Hp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ef(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=rv(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new id(uv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return lh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new rd(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new rd(n,t)}(n.endAt)),cd(t,i,u,o,s,"F",c,l)}function rv(e){return e?void 0!==e.unaryFilter?[cv(e)]:void 0!==e.fieldFilter?[sv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return rv(e)})).reduce((function(e,t){return e.concat(t)})):If():[]}function iv(e){return Dp[e]}function av(e){return Lp[e]}function ov(e){return{fieldPath:e.canonicalString()}}function uv(e){return Jf.fromServerFormat(e.fieldPath)}function sv(e){return Qh.create(uv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return If()}}(e.fieldFilter.op),e.fieldFilter.value)}function cv(e){switch(e.unaryFilter.op){case"IS_NAN":var t=uv(e.unaryFilter.field);return Qh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=uv(e.unaryFilter.field);return Qh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=uv(e.unaryFilter.field);return Qh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=uv(e.unaryFilter.field);return Qh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return If()}}function lv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function fv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function hv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=pv(t)),t=dv(e.get(n),t);return pv(t)}function dv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function pv(e){return e+"\x01\x01"}function vv(e){var t=e.length;if(Ef(t>=2),2===t)return Ef("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Yf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&If(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:If()}a=o+2}return new Yf(r)}var mv=["userId","batchId"];function yv(e,t){return[e,hv(t)]}function gv(e,t,n){return[e,hv(t),n]}var kv={},bv=["parentPath","readTime"],wv=["canonicalId","targetId"],xv=["targetId","path"],_v=["path","targetId"],Iv=["collectionId","parent"],Ev=["indexId","uid"],Sv=["uid","sequenceNumber"],Tv=["indexId","uid","arrayValue","directionalValue","documentKey"],Cv=["indexId","uid","documentKey"],Av=["userId","collectionPath","documentId"],Nv=["userId","collectionPath","largestBatchId"],Rv=["userId","collectionGroup","largestBatchId"],Ov=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Pv=[].concat(S(Ov),["documentOverlays"]),Dv=[].concat(S(Pv),["indexConfiguration","indexState","indexEntries"]),Lv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mv=function(){function e(){Qi(this,e),this.onCommittedListeners=[]}return Yi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Fv=function(){function e(t){var n=this;Qi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Yi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&If(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Xi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Uv=function(){function e(t,n){var r=this;Qi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Af,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new zv(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Hv(e.target.error);r.At.reject(new zv(t,n))}}return Yi(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(bf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zv(n,t)}}}]),e}(),Vv=function(){function e(t,n,r){Qi(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(va())&&wf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Yi(e,[{key:"Nt",value:function(){var e=Ba(ua().mark((function e(t){var n=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return bf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new zv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Cf(Tf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Cf(Tf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new zv(t,n))},i.onupgradeneeded=function(e){bf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){bf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ba(ua().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ua().mark((function e(){var n,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Uv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Fv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,bf("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return bf("SimpleDb","Removing database:",e),Wv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!wa())return!1;if(e.St())return!0;var t=va(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jv=function(){function e(t){Qi(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return Yi(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Wv(this.$t.delete())}}]),e}(),zv=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,Tf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Yi(n)}(Cf);function Bv(e){return"IndexedDbTransactionError"===e.name}var qv=function(){function e(t){Qi(this,e),this.store=t}return Yi(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(bf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wv(n)}},{key:"add",value:function(e){return bf("SimpleDb","ADD",this.store.name,e,e),Wv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Wv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),bf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return bf("SimpleDb","DELETE",this.store.name,e),Wv(this.store.delete(e))}},{key:"count",value:function(){return bf("SimpleDb","COUNT",this.store.name),Wv(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Fv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Fv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){bf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Fv((function(n,r){t.onerror=function(e){var t=Hv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Fv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Fv){var u=o.catch((function(e){return a.done(),Fv.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Fv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Wv(e){return new Fv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Hv(e.target.error);n(t)}}))}var Kv=!1;function Hv(e){var t=Vv.Vt(va());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Cf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Kv||(Kv=!0,setTimeout((function(){throw r}),0)),r}}return e}var Gv=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Yi(n)}(Mv);function Qv(e,t){var n=Sf(e);return Vv.xt(n.Ht,t)}var $v=function(){function e(t,n,r,i){Qi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Yi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Kd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Xi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Hd(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Xi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Hd(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Kf.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Bf(this.mutations,e.mutations,(function(e,t){return Qd(e,t)}))&&Bf(this.baseMutations,e.baseMutations,(function(e,t){return Qd(e,t)}))}}]),e}(),Yv=function(){function e(t,n,r,i){Qi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Yi(e,null,[{key:"from",value:function(t,n,r){Ef(t.mutations.length===r.length);for(var i=bp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Xv=function(){function e(t,n){Qi(this,e),this.largestBatchId=t,this.mutation=n}return Yi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Jv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:eh.EMPTY_BYTE_STRING;Qi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Yi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Zv=Yi((function e(t){Qi(this,e),this.Jt=t}));function em(e,t){var n;if(t.document)n=Yp(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=dh.fromSegments(t.noDocument.path),i=am(t.noDocument.readTime);n=Lh.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return If();var a=dh.fromSegments(t.unknownDocument.path),o=am(t.unknownDocument.version);n=Lh.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(rm(t.readTime)),n}function tm(e,t){var n=t.key.path.popLast().toArray(),r=nm(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:qp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fp(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:im(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:im(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:If()}function nm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rm(e){var t=new Wf(e[0],e[1]);return Kf.fromTimestamp(t)}function im(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function am(e){var t=new Wf(e.seconds,e.nanoseconds);return Kf.fromTimestamp(t)}function om(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Zp(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Zp(e.Jt,t)})),u=Wf.fromMillis(t.localWriteTimeMs);return new $v(t.batchId,u,n,o)}function um(e){var t,n,r=am(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?am(e.lastLimboFreeSnapshotVersion):Kf.min();return void 0!==e.query.documents?(Ef(1===(n=e.query).documents.length),t=yd(ld(Hp(n.documents[0])))):t=function(e){return yd(nv(e))}(e.query),new Jv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,eh.fromBase64String(e.resumeToken))}function sm(e,t){var n,r=im(t.snapshotVersion),i=im(t.lastLimboFreeSnapshotVersion);n=Hh(t.target)?ev(e.Jt,t.target):tv(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Wh(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function cm(e){var t=nv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gd(t,t.limit,"L"):t}function lm(e,t){return new Xv(t.largestBatchId,Zp(e.Jt,t.overlayMutation))}function fm(e,t){var n=t.path.lastSegment();return[e,hv(t.path.popLast()),n]}var hm=function(){function e(){Qi(this,e)}return Yi(e,[{key:"getBundleMetadata",value:function(e,t){return dm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:am(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return dm(e).put({bundleId:(n=t).id,createTime:im(jp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return pm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:cm(t.bundledQuery),readTime:am(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return pm(e).put(function(e){return{name:e.name,readTime:im(jp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function dm(e){return Qv(e,"bundles")}function pm(e){return Qv(e,"namedQueries")}var vm=function(){function e(t,n){Qi(this,e),this.M=t,this.userId=n}return Yi(e,[{key:"getOverlay",value:function(e,t){var n=this;return mm(e).get(fm(this.userId,t)).next((function(e){return e?lm(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Xv(t,a);i.push(r.Xt(e,o))})),Fv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(hv(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(mm(e).Qt("collectionPathOverlayIndex",i))})),Fv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=kp(),a=hv(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mm(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=Xi(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=lm(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=kp(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mm(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=lm(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return mm(e).put(function(e,t,n){var r=c(fm(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Jp(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function mm(e){return Qv(e,"documentOverlays")}var ym=function(){function e(){Qi(this,e)}return Yi(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(rh(e.integerValue));else if("doubleValue"in e){var n=rh(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),fh(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(ih(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Nh(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):If()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Xi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),dh.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function gm(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function km(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ym.fe=new ym;var bm=function(){function e(){Qi(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Yi(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Xi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Xi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=km(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=km(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),wm=function(){function e(t){Qi(this,e),this.De=t}return Yi(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),xm=function(){function e(t){Qi(this,e),this.De=t}return Yi(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),_m=function(){function e(){Qi(this,e),this.De=new bm,this.Ce=new wm(this.De),this.xe=new xm(this.De)}return Yi(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Im=function(){function e(t,n,r,i){Qi(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Yi(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Em(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Sm(e.arrayValue,t.arrayValue))?n:0!==(n=Sm(e.directionalValue,t.directionalValue))?n:dh.comparator(e.documentKey,t.documentKey)}function Sm(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Tm=function(){function e(t){Qi(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Xi(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Yi(e,[{key:"Fe",value:function(e){var t=Fh(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Uh(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Xi(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Cm=function(){function e(){Qi(this,e),this.Ue=new Am}return Yi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),Fv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Fv.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Fv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Fv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Fv.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Fv.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Fv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Fv.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Fv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Fv.resolve()}}]),e}(),Am=function(){function e(){Qi(this,e),this.index={}}return Yi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hp(Yf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hp(Yf.comparator)).toArray()}}]),e}(),Nm=new Uint8Array(0),Rm=function(){function e(t){Qi(this,e),this.user=t,this.Ke=new Am,this.Ge=new sp((function(e){return Wh(e)}),(function(e,t){return Kh(e,t)})),this.uid=t.uid||""}return Yi(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:hv(i)};return Om(e).put(a)}return Fv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qf(t),""],!1,!0);return Om(e).Ut(r).next((function(e){var r,i=Xi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(vv(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Dm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Dm(e),r=Lm(e),i=Pm(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Pm(e),i=!0,a=new Map;return Fv.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=xp();return Fv.forEach(a,(function(i,a){var o;bf("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Wh(t)));var u=function(e,t){var n=Fh(t);if(void 0===n)return null;var r,i=Xi(Gh(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Xi(Uh(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Xi(Gh(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Xi(Uh(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Xi(Gh(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?vh:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?_h(ch.empty(),dh.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:If();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=vh}Rh(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Rh(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new rd(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Xi(Uh(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Xi(Gh(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?_h(ch.empty(),dh.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ph:If(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=ph}Oh(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Oh(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new rd(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return Fv.forEach(p,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new dh(vv(t.documentKey)))}))}))}))})).next((function(){return e}))}return Fv.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Nm,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,S(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Im(e,dh.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Im(e,dh.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Im(e,dh.empty(),Nm,Nm)}},{key:"getFieldIndex",value:function(e,t){var n=new Tm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new _m,i=Xi(Uh(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);ym.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new _m;return ym.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new _m);var i,a=0,o=Xi(Uh(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Xi(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Eh(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);ym.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=S(e),a=[],o=Xi(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Xi(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new _m;f.seed(l.Se()),ym.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Qh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Dm(e),i=Lm(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return Fv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new jh(t.sequenceNumber,new zh(am(t.readTime),new dh(vv(t.documentKey)),t.largestBatchId)):jh.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Vh(Jf.fromServerFormat(n),r)}));return new Mh(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Dm(e),a=Lm(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Fv.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:im(r.readTime),documentKey:hv(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Fv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Fv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Fv.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?Fv.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return Pm(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:hv(t.key.path)})}},{key:"cn",value:function(e,t,n){return Pm(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,hv(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=Pm(e),i=new hp(Em);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,hv(t.path)])},(function(e,r){i=i.add(new Im(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new hp(Em),r=this.Ze(t,e);if(null==r)return n;var i=Fh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Eh(a)){var o,u=Xi(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Im(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Im(t.indexId,e.key,Nm,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;bf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=pp(a),s=pp(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=pp(o)):l?(i(u),u=pp(a)):(u=pp(a),s=pp(o))}}(n,r,Em,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),Fv.waitFor(a)}},{key:"sn",value:function(e){var t=1;return Lm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Em(e,t)})).filter((function(e,t,n){return!t||0!==Em(e,n[t-1])}));var r=[];r.push(e);var i,a=Xi(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Em(o,e),s=Em(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Om(e){return Qv(e,"collectionParents")}function Pm(e){return Qv(e,"indexEntries")}function Dm(e){return Qv(e,"indexConfiguration")}function Lm(e){return Qv(e,"indexState")}var Mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fm=function(){function e(t,n,r){Qi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Yi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Um(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ef(1===u)})));var c,l=[],f=Xi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=gv(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Fv.waitFor(a).next((function(){return l}))}function Vm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw If();t=e.noDocument}return JSON.stringify(t).length}Fm.DEFAULT_COLLECTION_PERCENTILE=10,Fm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fm.DEFAULT=new Fm(41943040,Fm.DEFAULT_COLLECTION_PERCENTILE,Fm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fm.DISABLED=new Fm(-1,0,0);var jm=function(){function e(t,n,r,i){Qi(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return Yi(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bm(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qm(e),o=Bm(e);return o.add({}).next((function(u){Ef("number"==typeof u);var s,c=new $v(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Jp(e.Jt,t)})),i=n.mutations.map((function(t){return Jp(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new hp((function(e,t){return zf(e.canonicalString(),t.canonicalString())})),d=Xi(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=gv(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,kv))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),Fv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Bm(e).get(t).next((function(e){return e?(Ef(e.userId===n.userId),om(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?Fv.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Bm(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ef(t.batchId>=r),a=om(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bm(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bm(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return om(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=yv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qm(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=vv(l);if(s===n.userId&&t.path.isEqual(h))return Bm(e).get(f).next((function(e){if(!e)throw If();Ef(e.userId===n.userId),a.push(om(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hp(zf),i=[];return t.forEach((function(t){var a=yv(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=qm(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=vv(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Fv.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=yv(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new hp(zf);return qm(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=vv(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Bm(e).get(t).next((function(e){if(null===e)throw If();Ef(e.userId===n.userId),r.push(om(n.M,e))})))})),Fv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Um(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),Fv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Fv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return qm(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=vv(e[1]);i.push(a)}else r.done()})).next((function(){Ef(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return zm(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return Wm(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Ef(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function zm(e,t,n){var r=yv(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return qm(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Bm(e){return Qv(e,"mutations")}function qm(e){return Qv(e,"documentMutations")}function Wm(e){return Qv(e,"mutationQueues")}var Km=function(){function e(t){Qi(this,e),this.wn=t}return Yi(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Hm=function(){function e(t,n){Qi(this,e),this.referenceDelegate=t,this.M=n}return Yi(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Km(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Kf.fromTimestamp(new Wf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Gm(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Ef(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Gm(e).Wt((function(o,u){var s=um(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Fv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Gm(e).Wt((function(e,n){var r=um(n);t(r)}))}},{key:"yn",value:function(e){return Qm(e).get("targetGlobalKey").next((function(e){return Ef(null!==e),e}))}},{key:"pn",value:function(e,t){return Qm(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Gm(e).put(sm(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Wh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gm(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=um(n);Kh(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$m(e);return t.forEach((function(t){var o=hv(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Fv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$m(e);return Fv.forEach(t,(function(t){var a=hv(t.path);return Fv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$m(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$m(e),i=xp();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=vv(e[1]),a=new dh(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=hv(t.path),r=IDBKeyRange.bound([n],[qf(n)],!1,!0),i=0;return $m(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Gm(e).get(t).next((function(e){return e?um(e):null}))}}]),e}();function Gm(e){return Qv(e,"targets")}function Qm(e){return Qv(e,"targetGlobal")}function $m(e){return Qv(e,"targetDocuments")}function Ym(e){return Xm.apply(this,arguments)}function Xm(){return Xm=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Tf.FAILED_PRECONDITION&&t.message===Lv){e.next=2;break}throw t;case 2:bf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=zf(r,o);return 0===s?zf(i,u):s}var Zm=function(){function e(t){Qi(this,e),this.En=t,this.buffer=new hp(Jm),this.An=0}return Yi(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jm(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ey=function(){function e(t,n){Qi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return Yi(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;bf("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ba(ua().mark((function n(){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Bv(n.t0)){n.next=12;break}bf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ym(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ty=function(){function e(t,n){Qi(this,e),this.Sn=t,this.params=n}return Yi(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Fv.resolve(Uf.A);var r=new Zm(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bf("LruGarbageCollector","Garbage collection skipped; disabled"),Fv.resolve(Mm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(bf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Mm):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(bf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),kf()<=Qa.DEBUG&&bf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Fv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ny=function(){function e(t,n){Qi(this,e),this.db=t,this.garbageCollector=function(e,t){return new ty(e,t)}(this,n)}return Yi(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ry(e,n)}},{key:"removeReference",value:function(e,t,n){return ry(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ry(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return Wm(e).zt((function(r){return zm(e,r,t).next((function(e){return e&&(n=!0),Fv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Kf.min()),$m(e).delete([0,hv(o.path)])}))}));i.push(s)}})).next((function(){return Fv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ry(e,t)}},{key:"kn",value:function(e,t){var n,r=$m(e),i=Uf.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Uf.A&&t(new dh(vv(n)),i),i=s,n=u):i=Uf.A})).next((function(){i!==Uf.A&&t(new dh(vv(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ry(e,t){return $m(e).put(function(e,t){return{targetId:0,path:hv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var iy=function(){function e(){Qi(this,e),this.changes=new sp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Yi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Lh.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Fv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ay=function(){function e(t){Qi(this,e),this.M=t}return Yi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return sy(e).put(cy(t),n)}},{key:"removeEntry",value:function(e,t){var n=sy(e),r=cy(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return sy(e).get(cy(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return sy(e).get(cy(t)).next((function(e){return{document:n.$n(t,e),size:Vm(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=mp();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=mp(),i=new cp(dh.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,Vm(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return Fv.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return sy(e).Wt({range:r},(function(e,t,r){for(var o=dh.fromSegments(e);a&&dh.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=mp(),a=t.length+1,o={};if(n.isEqual(Kf.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=nm(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return sy(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(dh.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new oy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return uy(e).get("remoteDocumentGlobalKey").next((function(e){return Ef(!!e),e}))}},{key:"On",value:function(e,t){return uy(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=em(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Kf.min()))return n}return Lh.newInvalidDocument(e)}}]),e}(),oy=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new sp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Yi(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new hp((function(e,t){return zf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=tm(t.Un.M,o);i=i.add(a.path.popLast());var c=Vm(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=tm(t.Un.M,o.convertToNoDocument(Kf.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),Fv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(iy);function uy(e){return Qv(e,"remoteDocumentGlobal")}function sy(e){return Qv(e,"remoteDocuments")}function cy(e){return e.path.toArray()}var ly=function(){function e(t){Qi(this,e),this.M=t}return Yi(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Uv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mv,{unique:!0}),e.createObjectStore("documentMutations")}(e),fy(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Fv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),fy(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mv,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Fv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",bv,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Av});t.createIndex("collectionPathOverlayIndex",Nv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Rv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ev}).createIndex("sequenceNumberIndex",Sv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Tv}).createIndex("documentKeyIndex",Cv,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Vm(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return Fv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return Fv.forEach(r,(function(r){Ef(r.userId===n.userId);var i=om(t.M,r);return Um(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Yf(n),o=function(e){return[0,hv(e)]}(a);r.push(t.get(o).next((function(n){return n?Fv.resolve():function(n){return t.put({targetId:0,path:hv(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Fv.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Iv});var n=t.store("collectionParents"),r=new Am,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:hv(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Yf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],vv(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=um(r),a=sm(t.M,i);return n.put(a)}))}}]),e}();function fy(e){e.createObjectStore("targetDocuments",{keyPath:xv}).createIndex("documentTargetsIndex",_v,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wv,{unique:!0}),e.createObjectStore("targetGlobal")}var hy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dy=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(Qi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=c,this.Yn=l,this.Xn=f,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new Cf(Tf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ny(this,i),this.us=n+"main",this.M=new Zv(s),this.cs=new Vv(this.us,this.Xn,new ly(this.M)),this.hs=new Hm(this.referenceDelegate,this.M),this.ls=function(e){return new ay(e)}(this.M),this.fs=new hm,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===l&&wf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Yi(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Cf(Tf.FAILED_PRECONDITION,hy);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new Uf(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=Ba(ua().mark((function n(r){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=Ba(ua().mark((function t(n){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vy(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(Bv(t))return bf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return bf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return py(e).get("owner").next((function(e){return Fv.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return vy(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=Ba(ua().mark((function e(){var t,n,r,i,a=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Qv(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Fv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=Xi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?Fv.resolve(!0):py(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new Cf(Tf.FAILED_PRECONDITION,hy);return!1}}return!(!t.networkEnabled||!t.inForeground)||vy(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&bf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ba(ua().mark((function e(){var t=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Gv(e,Uf.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vy(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return jm.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new Rm(e)}},{key:"getDocumentOverlayCache",value:function(e){return vm.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;bf("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?Dv:12===i?Pv:11===i?Ov:void If();return this.cs.runTransaction(e,o,u,(function(i){return a=new Gv(i,r.Zn?r.Zn.next():Uf.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw wf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new Cf(Tf.FAILED_PRECONDITION,Lv);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return py(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Cf(Tf.FAILED_PRECONDITION,hy)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return py(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=py(e);return n.get("owner").next((function(e){return t.Rs(e)?(bf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Fv.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(wf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!ya()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return bf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return wf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(vu){wf("Failed to set zombie client id.",vu)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(vu){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Vv.vt()}}]),e}();function py(e){return Qv(e,"owner")}function vy(e){return Qv(e,"clientMetadata")}function my(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yy=Yi((function e(t,n){Qi(this,e),this.progress=t,this.$s=n})),gy=function(){function e(t,n,r){Qi(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return Yi(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=Xi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Xi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return dh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):vd(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new dh(t)).next((function(e){var t=gp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gp();return this.indexManager.getCollectionParents(e,i).next((function(o){return Fv.forEach(o,(function(o){var u=function(e,t){return new sd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Xi(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Xi(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Lh.newInvalidDocument(s),r=r.insert(s,c)),Hd(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){xd(t,n)||(r=r.remove(e))})),r}))}}]),e}(),ky=function(){function e(t,n,r,i){Qi(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return Yi(e,null,[{key:"Js",value:function(t,n){var r,i=xp(),a=xp(),o=Xi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),by=function(){function e(){Qi(this,e)}return Yi(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Kf.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(fd(t)||hd(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(kf()<=Qa.DEBUG&&bf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wd(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new hp(_d(e));return t.forEach((function(t,r){xd(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return kf()<=Qa.DEBUG&&bf("QueryEngine","Using full collection scan to execute query:",wd(t)),this.Xs.Gs(e,t,Kf.min())}}]),e}(),wy=function(){function e(t,n,r,i){Qi(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new cp(zf),this.ii=new sp((function(e){return Wh(e)}),Kh),this.ri=Kf.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return Yi(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new gy(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function xy(e,t,n,r){return new wy(e,t,n,r)}function _y(e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=xp(),s=Xi(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Xi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Xi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Xi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Ey(e,t){var n=Sf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Fv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ef(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function Sy(e){var t=Sf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function Ty(e,t){var n=Sf(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(eh.EMPTY_BYTE_STRING,Kf.min()).withLastLimboFreeSnapshotVersion(Kf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=mp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cy(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Kf.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Fv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function Cy(e,t,n){var r=xp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=mp();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Kf.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):bf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Ay(e,t){var n=Sf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function Ny(e,t){var n=Sf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,Fv.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new Jv(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Ry(e,t,n){return Oy.apply(this,arguments)}function Oy(){return Oy=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sf(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bv(e.t1)){e.next=12;break}throw e.t1;case 12:bf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Oy.apply(this,arguments)}function Py(e,t,n){var r=Sf(e),i=Kf.min(),a=xp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sf(e),i=r.ii.get(n);return void 0!==i?Fv.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,yd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:Kf.min(),n?a:xp())})).next((function(e){return{documents:e,hi:a}}))}))}function Dy(e,t){var n=Sf(e),r=Sf(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ly(e){var t=Sf(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Sf(e),i=mp(),a=nm(n),o=sy(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=em(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:rm(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function My(e){return Fy.apply(this,arguments)}function Fy(){return Fy=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sf(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=sy(e),n=Kf.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=rm(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function Uy(e,t,n,r){return Vy.apply(this,arguments)}function Vy(){return Vy=Ba(ua().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Sf(t),o=xp(),u=mp(),s=Xi(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Ny(a,function(e){return yd(ld(Yf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Cy(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.hs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function jy(e,t){return zy.apply(this,arguments)}function zy(){return zy=Ba(ua().mark((function e(t,n){var r,i,a,o=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:xp(),e.next=3,Ny(t,yd(cm(n.bundledQuery)));case 3:return i=e.sent,a=Sf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=jp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(eh.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}var By=function(){function e(t){Qi(this,e),this.M=t,this._i=new Map,this.wi=new Map}return Yi(e,[{key:"getBundleMetadata",value:function(e,t){return Fv.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:jp(n.createTime)}),Fv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Fv.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:cm(e.bundledQuery),readTime:jp(e.readTime)}}(t)),Fv.resolve()}}]),e}(),qy=function(){function e(){Qi(this,e),this.overlays=new cp(dh.comparator),this.mi=new Map}return Yi(e,[{key:"getOverlay",value:function(e,t){return Fv.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Fv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),Fv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=kp(),i=t.length+1,a=new dh(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Fv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new cp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=kp(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=kp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Fv.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Xv(t,n));var a=this.mi.get(t);void 0===a&&(a=xp(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Wy=function(){function e(){Qi(this,e),this.gi=new hp(Ky.yi),this.pi=new hp(Ky.Ii)}return Yi(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ky(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Ky(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new dh(new Yf([])),r=new Ky(n,e),i=new Ky(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new dh(new Yf([])),n=new Ky(t,e),r=new Ky(t,e+1),i=xp();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ky(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ky=function(){function e(t,n){Qi(this,e),this.key=t,this.Vi=n}return Yi(e,null,[{key:"yi",value:function(e,t){return dh.comparator(e.key,t.key)||zf(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return zf(e.Vi,t.Vi)||dh.comparator(e.key,t.key)}}]),e}(),Hy=function(){function e(t,n){Qi(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new hp(Ky.yi)}return Yi(e,[{key:"checkEmpty",value:function(e){return Fv.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new $v(i,t,n,r);this.Fs.push(a);var o,u=Xi(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new Ky(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Fv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Fv.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return Fv.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Fv.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return Fv.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ky(t,0),i=new Ky(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),Fv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hp(zf);return t.forEach((function(e){var t=new Ky(e,0),i=new Ky(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),Fv.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dh.isDocumentKey(i)||(i=i.child(""));var a=new Ky(new dh(i),0),o=new hp(zf);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),Fv.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ef(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return Fv.forEach(t.mutations,(function(i){var a=new Ky(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ky(t,0),r=this.Si.firstAfterOrEqual(n);return Fv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,Fv.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),Gy=function(){function e(t){Qi(this,e),this.ki=t,this.docs=new cp(dh.comparator),this.size=0}return Yi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Fv.resolve(n?n.document.mutableCopy():Lh.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Lh.newInvalidDocument(e))})),Fv.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=mp(),i=new dh(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Fv.resolve(r)}},{key:"Mi",value:function(e,t){return Fv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qy(this)}},{key:"getSize",value:function(e){return Fv.resolve(this.size)}}]),e}(),Qy=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).Un=e,r}return Yi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),Fv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(iy),$y=function(){function e(t){Qi(this,e),this.persistence=t,this.Oi=new sp((function(e){return Wh(e)}),Kh),this.lastRemoteSnapshotVersion=Kf.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Wy,this.targetCount=0,this.Bi=Km.mn()}return Yi(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),Fv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Fv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Fv.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),Fv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),Fv.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Km(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,Fv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),Fv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,Fv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Fv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Fv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return Fv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),Fv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Fv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),Fv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return Fv.resolve(n)}},{key:"containsKey",value:function(e,t){return Fv.resolve(this.Fi.containsKey(t))}}]),e}(),Yy=function(){function e(t,n){var r=this;Qi(this,e),this.Li={},this.overlays={},this.Zn=new Uf(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new $y(this),this.indexManager=new Cm,this.ls=new Gy((function(e){return r.referenceDelegate.qi(e)})),this.M=new Zv(n),this.fs=new By(this.M)}return Yi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Hy(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;bf("MemoryPersistence","Starting transaction:",e);var i=new Xy(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return Fv.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Xy=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Yi(n)}(Mv),Jy=function(){function e(t){Qi(this,e),this.persistence=t,this.Qi=new Wy,this.ji=null}return Yi(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw If()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),Fv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),Fv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),Fv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fv.forEach(this.zi,(function(r){var i=dh.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Kf.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return Fv.or([function(){return Fv.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Zy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function eg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function tg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ng=function(){function e(t,n,r,i){Qi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Yi(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Cf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(wf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),rg=function(){function e(t,n,r){Qi(this,e),this.targetId=t,this.state=n,this.error=r}return Yi(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cf(i.error.code,i.error.message))),a?new e(t,i.state,r):(wf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ig=function(){function e(t,n){Qi(this,e),this.clientId=t,this.activeTargetIds=n}return Yi(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ip(),o=0;i&&o<r.activeTargetIds.length;++o)i=hh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(wf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ag=function(){function e(t,n){Qi(this,e),this.clientId=t,this.onlineState=n}return Yi(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(wf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),og=function(){function e(){Qi(this,e),this.activeTargetIds=Ip()}return Yi(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ug=function(){function e(t,n,r,i,a){Qi(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new cp(zf),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Zy(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new og),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Yi(e,[{key:"start",value:function(){var e=Ba(ua().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=Xi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Zy(this.persistenceKey,i)))&&(o=ig.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Xi(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tg(this.persistenceKey,e));if(n){var r=rg.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(tg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return bf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){bf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){bf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(bf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void wf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(Ba(ua().mark((function e(){var r,i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Uf.A;if(null!=e)try{var n=JSON.parse(e);Ef("number"==typeof n),t=n}catch(e){wf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Uf.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new ng(this.currentUser,e,t,n),i=eg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=eg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=tg(this.persistenceKey,e),i=new rg(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return ig.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ng.Ji(new mf(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return rg.Ji(r,t)}},{key:"wr",value:function(e){return ag.Ji(e)}},{key:"vr",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:bf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Ip();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sg=function(){function e(){Qi(this,e),this.Or=new og,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Yi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new og,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),cg=function(){function e(){Qi(this,e)}return Yi(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),lg=function(){function e(){var t=this;Qi(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return Yi(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){bf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Xi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){bf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Xi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),fg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hg=function(){function e(t){Qi(this,e),this.Qr=t.Qr,this.jr=t.jr}return Yi(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),dg=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Yi(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new pf;o.listenOnce(cf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case sf.NO_ERROR:var t=o.getResponseJson();bf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case sf.TIMEOUT:bf("Connection",'RPC "'+e+'" timed out'),a(new Cf(Tf.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:var n=o.getStatus();if(bf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Tf).indexOf(t)>=0?t:Tf.UNKNOWN}(r.status);a(new Cf(u,r.message))}else a(new Cf(Tf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Cf(Tf.UNAVAILABLE,"Connection failed."));break;default:If()}}finally{bf("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=of(),a=uf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new hf({})),this.oo(o.initMessageHeaders,t,n),ma()||ka()||va().indexOf("Electron/")>=0||ba()||va().indexOf("MSAppHost/")>=0||ga()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");bf("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new hg({Qr:function(e){l?bf("Connection","Not sending because WebChannel is closed:",e):(c||(bf("Connection","Opening WebChannel transport."),s.open(),c=!0),bf("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,df.EventType.OPEN,(function(){l||bf("Connection","WebChannel transport opened.")})),h(s,df.EventType.CLOSE,(function(){l||(l=!0,bf("Connection","WebChannel transport closed"),f.Zr())})),h(s,df.EventType.ERROR,(function(e){l||(l=!0,xf("Connection","WebChannel transport errored:",e),f.Zr(new Cf(Tf.UNAVAILABLE,"The operation could not be completed")))})),h(s,df.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ef(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){bf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=tp[e];if(void 0!==t)return up(t)}(a),u=i.message;void 0===o&&(o=Tf.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new Cf(o,u)),s.close()}else bf("Connection","WebChannel received:",n),f.eo(n)}})),h(a,lf.STAT_EVENT,(function(e){e.stat===ff.PROXY?bf("Connection","Detected buffering proxy"):e.stat===ff.NOPROXY&&bf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){Qi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Yi(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);bf("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return bf("RestConnection","Received: ",e),e}),(function(t){throw xf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=fg[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function pg(){return"undefined"!=typeof window?window:null}function vg(){return"undefined"!=typeof document?document:null}function mg(e){return new Mp(e,!0)}var yg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Qi(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return Yi(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&bf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),gg=function(){function e(t,n,r,i,a,o,u,s){Qi(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new yg(t,n)}return Yi(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===Tf.RESOURCE_EXHAUSTED?(wf(n.toString()),wf("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===Tf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new Cf(Tf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return bf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():(bf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),kg=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a,o,u){var s;return Qi(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Yi(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:If()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ef(void 0===t||"string"==typeof t),eh.fromBase64String(t||"")):(Ef(void 0===t||t instanceof Uint8Array),eh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Tf.UNKNOWN:up(e.code);return new Cf(t,e.message||"")}(o);n=new Ap(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Wp(e,s.document.name),l=jp(s.document.updateTime),f=new Ph({mapValue:{fields:s.document.fields}}),h=Lh.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Tp(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Wp(e,v.document),y=v.readTime?jp(v.readTime):Kf.min(),g=Lh.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Tp([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Wp(e,b.document),x=b.removedTargetIds||[];n=new Tp([],x,w,null)}else{if(!("filter"in t))return If();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new ap(I),S=_.targetId;n=new Cp(S,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Kf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kf.min():t.readTime?jp(t.readTime):Kf.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=Gp(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Hh(r)?{documents:ev(e,r)}:{query:tv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Up(e,t.resumeToken):t.snapshotVersion.compareTo(Kf.min())>0&&(n.readTime=Fp(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return If()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=Gp(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(gg),bg=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a,o,u){var s;return Qi(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.jo=!1,s}return Yi(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,eu(Zi(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(Ef(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(Ef(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?jp(e.updateTime):jp(t);return n.isEqual(Kf.min())&&(n=jp(t)),new zd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=jp(e.commitTime);return this.listener.Ho(n,t)}return Ef(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=Gp(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Jp(t.M,e)}))};this.Mo(n)}}]),n}(gg),wg=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a){var o;return Qi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return Yi(n,[{key:"Zo",value:function(){if(this.Xo)throw new Cf(Tf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Ro.io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Cf(Tf.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Ro.uo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Cf(Tf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return Yi((function e(){Qi(this,e)}))}()),xg=function(){function e(t,n){Qi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return Yi(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(wf(t),this.na=!1):bf("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),_g=Yi((function e(t,n,r,i,a){var o=this;Qi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Dg(o),!e.t0){e.next=5;break}return bf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sf(t)).ha.add(4),e.next=4,Sg(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,Ig(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new xg(r,i)}));function Ig(e){return Eg.apply(this,arguments)}function Eg(){return Eg=Ba(ua().mark((function e(t){var n,r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dg(t)){e.next=18;break}n=Xi(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Eg.apply(this,arguments)}function Sg(e){return Tg.apply(this,arguments)}function Tg(){return Tg=Ba(ua().mark((function e(t){var n,r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xi(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Tg.apply(this,arguments)}function Cg(e,t){var n=Sf(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),Pg(n)?Og(n):ck(n).Do()&&Ng(n,t))}function Ag(e,t){var n=Sf(e),r=ck(n);n.ca.delete(t),r.Do()&&Rg(n,t),0===n.ca.size&&(r.Do()?r.No():Dg(n)&&n.da.set("Unknown"))}function Ng(e,t){e._a.Z(t.targetId),ck(e).Go(t)}function Rg(e,t){e._a.Z(t),ck(e).Qo(t)}function Og(e){e._a=new Rp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),ck(e).start(),e.da.sa()}function Pg(e){return Dg(e)&&!ck(e).So()&&e.ca.size>0}function Dg(e){return 0===Sf(e).ha.size}function Lg(e){e._a=void 0}function Mg(e){return Fg.apply(this,arguments)}function Fg(){return Fg=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){Ng(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function Ug(e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lg(t),Pg(t)?(t.da.oa(n),Og(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Vg.apply(this,arguments)}function jg(e,t,n){return zg.apply(this,arguments)}function zg(){return zg=Ba(ua().mark((function e(t,n,r){var i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof Ap&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Xi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),bf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Bg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Tp?t._a.at(n):n instanceof Cp?t._a._t(n):t._a.ht(n),r.isEqual(Kf.min())){e.next=29;break}return e.prev=14,e.next=17,Sy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(eh.EMPTY_BYTE_STRING,n.snapshotVersion)),Rg(e,t);var r=new Jv(n.target,t,1,n.sequenceNumber);Ng(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),bf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Bg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zg.apply(this,arguments)}function Bg(e,t,n){return qg.apply(this,arguments)}function qg(){return qg=Ba(ua().mark((function e(t,n,r){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bv(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,Sg(t);case 5:t.da.set("Offline"),r||(r=function(){return Sy(t.localStore)}),t.asyncQueue.enqueueRetryable(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,Ig(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Wg(e,t){return t().catch((function(n){return Bg(e,n,t)}))}function Kg(e){return Hg.apply(this,arguments)}function Hg(){return Hg=Ba(ua().mark((function e(t){var n,r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sf(t),r=lk(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!Gg(n)){e.next=19;break}return e.prev=3,e.next=6,Ay(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,Qg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Bg(n,e.t0);case 17:e.next=2;break;case 19:$g(n)&&Yg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Hg.apply(this,arguments)}function Gg(e){return Dg(e)&&e.ua.length<10}function Qg(e,t){e.ua.push(t);var n=lk(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function $g(e){return Dg(e)&&!lk(e).So()&&e.ua.length>0}function Yg(e){lk(e).start()}function Xg(e){return Jg.apply(this,arguments)}function Jg(){return Jg=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lk(t).Yo();case 1:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Zg(e){return ek.apply(this,arguments)}function ek(){return ek=Ba(ua().mark((function e(t){var n,r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lk(t),r=Xi(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=Yv.from(i,n,r),e.next=3,Wg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Kg(t);case 5:case"end":return e.stop()}}),e)}))),nk.apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return ik=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&lk(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!op(i=n.code)||i===Tf.ABORTED){e.next=7;break}return r=t.ua.shift(),lk(t).xo(),e.next=5,Wg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Kg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$g(t)&&Yg(t);case 5:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ak(e,t){return ok.apply(this,arguments)}function ok(){return ok=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Sf(t)).asyncQueue.verifyOperationInProgress(),bf("RemoteStore","RemoteStore received new credentials"),i=Dg(r),r.ha.add(3),e.next=6,Sg(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,Ig(r);case 12:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function uk(e,t){return sk.apply(this,arguments)}function sk(){return sk=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,Ig(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,Sg(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),sk.apply(this,arguments)}function ck(e){return e.wa||(e.wa=function(e,t,n){var r=Sf(e);return r.Zo(),new kg(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:Mg.bind(null,e),Hr:Ug.bind(null,e),Ko:jg.bind(null,e)}),e.la.push(function(){var t=Ba(ua().mark((function t(n){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),Pg(e)?Og(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:Lg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function lk(e){return e.ma||(e.ma=function(e,t,n){var r=Sf(e);return r.Zo(),new bg(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:Xg.bind(null,e),Hr:rk.bind(null,e),Jo:Zg.bind(null,e),Ho:tk.bind(null,e)}),e.la.push(function(){var t=Ba(ua().mark((function t(n){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,Kg(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&(bf("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var fk=function(){function e(t,n,r,i,a){Qi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Af,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Yi(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cf(Tf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function hk(e,t){if(wf("AsyncQueue","".concat(t,": ").concat(e)),Bv(e))return new Cf(Tf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var dk=function(){function e(t){Qi(this,e),this.comparator=t?function(e,n){return t(e,n)||dh.comparator(e.key,n.key)}:function(e,t){return dh.comparator(e.key,t.key)},this.keyedMap=gp(),this.sortedSet=new cp(this.comparator)}return Yi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pk=function(){function e(){Qi(this,e),this.ga=new cp(dh.comparator)}return Yi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):If():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vk=function(){function e(t,n,r,i,a,o,u,s){Qi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Yi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,dk.emptySet(n),a,r,i,!0,!1)}}]),e}(),mk=Yi((function e(){Qi(this,e),this.pa=void 0,this.listeners=[]})),yk=Yi((function e(){Qi(this,e),this.queries=new sp((function(e){return bd(e)}),kd),this.onlineState="Unknown",this.Ia=new Set}));function gk(e,t){return kk.apply(this,arguments)}function kk(){return kk=Ba(ua().mark((function e(t,n){var r,i,a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=hk(e.t0,"Initialization of query '".concat(wd(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&Ik(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kk.apply(this,arguments)}function bk(e,t){return wk.apply(this,arguments)}function wk(){return wk=Ba(ua().mark((function e(t,n){var r,i,a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function xk(e,t){var n,r=Sf(e),i=!1,a=Xi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Xi(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ik(r)}function _k(e,t,n){var r=Sf(e),i=r.queries.get(t);if(i){var a,o=Xi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ik(e){e.Ia.forEach((function(e){e.next()}))}var Ek=function(){function e(t,n,r){Qi(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return Yi(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Xi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=vk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),Sk=function(){function e(t,n){Qi(this,e),this.payload=t,this.byteLength=n}return Yi(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),Tk=function(){function e(t){Qi(this,e),this.M=t}return Yi(e,[{key:"li",value:function(e){return Wp(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Yp(this.M,e.document,!1):Lh.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return jp(e)}}]),e}(),Ck=function(){function e(t,n,r){Qi(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=Ak(t)}return Yi(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new Tk(this.M),i=Xi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Xi(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||xp()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ba(ua().mark((function e(){var t,n,r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uy(this.localStore,new Tk(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=Xi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,jy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new yy(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ak(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Nk=Yi((function e(t){Qi(this,e),this.key=t})),Rk=Yi((function e(t){Qi(this,e),this.key=t})),Ok=function(){function e(t,n){Qi(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=xp(),this.mutatedKeys=xp(),this.$a=_d(t),this.Fa=new dk(this.$a)}return Yi(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new pk,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=fd(this.query)&&i.size===this.query.limit?i.last():null,c=hd(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),fd(this.query)||hd(this.query))for(;o.size>this.query.limit;){var l=fd(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return If()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new vk(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new pk,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=xp(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new Rk(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new Nk(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=xp();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return vk.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),Pk=Yi((function e(t,n,r){Qi(this,e),this.query=t,this.targetId=n,this.view=r})),Dk=Yi((function e(t){Qi(this,e),this.key=t,this.Ha=!1})),Lk=function(){function e(t,n,r,i,a,o){Qi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new sp((function(e){return bd(e)}),kd),this.Xa=new Map,this.Za=new Set,this.tu=new cp(dh.comparator),this.eu=new Map,this.nu=new Wy,this.su={},this.iu=new Map,this.ru=Km.gn(),this.onlineState="Unknown",this.ou=void 0}return Yi(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function Mk(e,t){return Fk.apply(this,arguments)}function Fk(){return Fk=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ab(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,Ny(r.localStore,yd(n));case 8:return u=e.sent,r.isPrimaryClient&&Cg(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Uk(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Fk.apply(this,arguments)}function Uk(e,t,n,r){return Vk.apply(this,arguments)}function Vk(){return Vk=Ba(ua().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=Ba(ua().mark((function e(t,n,r,i){var a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Py(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ab(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Py(t.localStore,n,!0);case 3:return a=e.sent,o=new Ok(n,a.hi),u=o.La(a.documents),s=Sp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),ab(t,r,c.Qa),l=new Pk(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function jk(e,t){return zk.apply(this,arguments)}function zk(){return zk=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sf(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!kd(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ry(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ag(r.remoteStore,i.targetId),rb(r,i.targetId)})).catch(Ym);case 9:e.next=14;break;case 11:return rb(r,i.targetId),e.next=14,Ry(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Bk(e,t,n){return qk.apply(this,arguments)}function qk(){return qk=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nb(t),e.prev=1,e.next=4,function(e,t){var n,r=Sf(e),i=Wf.now(),a=t.reduce((function(e,t){return e.add(t.key)}),xp());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=Xi(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Gd(c,n.get(c.key));null!=l&&u.push(new Xd(c.key,l,Dh(l.value.mapValue),Bd.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new cp(zf)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,sb(i,a.changes);case 9:return e.next=11,Kg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=hk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),qk.apply(this,arguments)}function Wk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.prev=1,e.next=4,Ty(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(Ef(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?Ef(n.Ha):e.removedDocuments.size>0&&(Ef(n.Ha),n.Ha=!1))})),e.next=8,sb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ym(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Kk.apply(this,arguments)}function Hk(e,t,n){var r=Sf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Xi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ik(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Gk(e,t,n){return Qk.apply(this,arguments)}function Qk(){return Qk=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s,c;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Sf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new cp(dh.comparator)).insert(o,Lh.newNoDocument(o,Kf.min())),s=xp().add(o),c=new Ep(Kf.min(),new Map,new hp(zf),u,s),e.next=9,Wk(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),ub(i),e.next=16;break;case 14:return e.next=16,Ry(i.localStore,n,!1).then((function(){return rb(i,n,r)})).catch(Ym);case 16:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function $k(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),i=n.batch.batchId,e.prev=1,e.next=4,Ey(r.localStore,n);case 4:return a=e.sent,nb(r,i,null),tb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,sb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ym(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yk.apply(this,arguments)}function Xk(e,t,n){return Jk.apply(this,arguments)}function Jk(){return Jk=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sf(t),e.prev=1,e.next=4,function(e,t){var n=Sf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return Ef(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,nb(i,n,r),tb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,sb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ym(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Jk.apply(this,arguments)}function Zk(e,t){return eb.apply(this,arguments)}function eb(){return eb=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dg((r=Sf(t)).remoteStore)||bf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Sf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=hk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),eb.apply(this,arguments)}function tb(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function nb(e,t,n){var r=Sf(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function rb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Xi(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||ib(e,t)}))}function ib(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(Ag(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),ub(e))}function ab(e,t,n){var r,i=Xi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Nk?(e.nu.addReference(a.key,t),ob(e,a)):a instanceof Rk?(bf("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||ib(e,a.key)):If()}}catch(o){i.e(o)}finally{i.f()}}function ob(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(bf("SyncEngine","New document in limbo: "+n),e.Za.add(r),ub(e))}function ub(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new dh(Yf.fromString(t)),r=e.ru.next();e.eu.set(r,new Dk(n)),e.tu=e.tu.insert(n,r),Cg(e.remoteStore,new Jv(yd(ld(n.path)),r,2,Uf.A))}}function sb(e,t,n){return cb.apply(this,arguments)}function cb(){return cb=Ba(ua().mark((function e(t,n,r){var i,a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sf(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ky.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fv.forEach(n,(function(t){return Fv.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Fv.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bv(e.t0)){e.next=10;break}throw e.t0;case 10:bf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Xi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Sf(t)).currentUser.isEqual(n)){e.next=11;break}return bf("SyncEngine","User change. New user:",n.toKey()),e.next=5,_y(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new Cf(Tf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,sb(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e,t){var n=Sf(e),r=n.eu.get(t);if(r&&r.Ha)return xp().add(r.key);var i=xp(),a=n.Xa.get(t);if(!a)return i;var o,u=Xi(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function db(e,t){return pb.apply(this,arguments)}function pb(){return pb=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),e.next=3,Py(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&ab(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e){return mb.apply(this,arguments)}function mb(){return mb=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sf(t),e.abrupt("return",Ly(n.localStore).then((function(e){return sb(n,e)})));case 2:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t,n,r){return gb.apply(this,arguments)}function gb(){return gb=Ba(ua().mark((function e(t,n,r,i){var a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sf(t),e.next=3,function(e,t){var n=Sf(e),r=Sf(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):Fv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Kg(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(nb(a,n,i||null),tb(a,n),function(e,t){Sf(Sf(e).Fs).dn(t)}(a.localStore,n)):If();case 11:return e.next=13,sb(a,o);case 13:e.next=16;break;case 15:bf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function kb(e,t){return bb.apply(this,arguments)}function bb(){return bb=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ab(r=Sf(t)),Nb(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,wb(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,uk(r.remoteStore,!0);case 9:o=Xi(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Cg(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return rb(r,t),Ry(r.localStore,t,!0)})),Ag(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,wb(r,c);case 21:return function(e){var t=Sf(e);t.eu.forEach((function(e,n){Ag(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new cp(dh.comparator)}(r),r.ou=!1,e.next=25,uk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}function wb(e,t,n){return xb.apply(this,arguments)}function xb(){return xb=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Sf(t),a=[],o=[],u=Xi(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,Ny(i.localStore,yd(f[0]));case 11:l=e.sent,h=Xi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ya.get(p),e.next=20,db(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Dy(i.localStore,c);case 36:return y=e.sent,e.next=39,Ny(i.localStore,y);case 39:return l=e.sent,e.next=42,Uk(i,_b(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),xb.apply(this,arguments)}function _b(e){return cd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ib(e){var t=Sf(e);return Sf(Sf(t.localStore).persistence).Ms()}function Eb(e,t,n,r){return Sb.apply(this,arguments)}function Sb(){return Sb=Ba(ua().mark((function e(t,n,r,i){var a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Sf(t)).ou){e.next=5;break}bf("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Ly(a.localStore);case 11:return o=e.sent,u=Ep.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,sb(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Ry(a.localStore,n,!0);case 18:return rb(a,n,i),e.abrupt("break",21);case 20:If();case 21:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Tb(e,t,n){return Cb.apply(this,arguments)}function Cb(){return Cb=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Ab(t)).ou){e.next=45;break}a=Xi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return bf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Dy(i.localStore,u);case 12:return s=e.sent,e.next=15,Ny(i.localStore,s);case 15:return c=e.sent,e.next=18,Uk(i,_b(s),c.targetId,!1);case 18:Cg(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Xi(r),e.prev=30,h=ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,Ry(i.localStore,t,!1).then((function(){Ag(i.remoteStore,t),rb(i,t)})).catch(Ym);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Cb.apply(this,arguments)}function Ab(e){var t=Sf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gk.bind(null,t),t.Ja.Ko=xk.bind(null,t.eventManager),t.Ja.uu=_k.bind(null,t.eventManager),t}function Nb(e){var t=Sf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$k.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xk.bind(null,t),t}function Rb(e,t,n){var r=Sf(e);(function(){var e=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Sf(e),r=jp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Ak(i)),a=new Ck(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,sb(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=Sf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),xf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Ob=function(){function e(){Qi(this,e),this.synchronizeTabs=!1}return Yi(e,[{key:"initialize",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=mg(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return xy(this.persistence,new by,e.initialUser,this.M)}},{key:"lu",value:function(e){return new Yy(Jy.Wi,this.M)}},{key:"hu",value:function(e){return new sg}},{key:"terminate",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Pb=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Yi(n,[{key:"initialize",value:function(){var e=Ba(ua().mark((function e(t){var r=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(Zi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,My(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,Nb(this._u.syncEngine);case 8:return e.next=10,Kg(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return xy(this.persistence,new by,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ey(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=my(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fm.withCacheSize(this.cacheSizeBytes):Fm.DEFAULT;return new dy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pg(),vg(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new sg}}]),n}(Ob),Db=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Yi(n,[{key:"initialize",value:function(){var e=Ba(ua().mark((function e(t){var r,i=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(Zi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof ug,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:yb.bind(null,r),kr:Eb.bind(null,r),Mr:Tb.bind(null,r),Ms:Ib.bind(null,r),Cr:vb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kb(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=pg();if(!ug.vt(t))throw new Cf(Tf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=my(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ug(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Pb),Lb=function(){function e(){Qi(this,e)}return Yi(e,[{key:"initialize",value:function(){var e=Ba(ua().mark((function e(t,n){var r=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Hk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lb.bind(null,this.syncEngine),e.next=12,uk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new yk}},{key:"createDatastore",value:function(e){var t,n=mg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dg(t));return function(e,t,n,r){return new wg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Hk(o.syncEngine,e,0)},a=lg.vt()?new lg:new cg,new _g(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Lk(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sf(t),bf("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,Sg(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Mb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ba(ua().mark((function r(){var i;return ua().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fb=function(){function e(t){Qi(this,e),this.observer=t,this.muted=!1}return Yi(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Ub=function(){function e(t,n){var r=this;Qi(this,e),this.gu=t,this.M=n,this.metadata=new Af,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Yi(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=Ba(ua().mark((function e(){var t,n,r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new Sk(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=Ba(ua().mark((function e(){var t,n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=Ba(ua().mark((function e(){var t,n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vb=function(){function e(t){Qi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Yi(e,[{key:"lookup",value:function(){var e=Ba(ua().mark((function e(t){var n,r=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Cf(Tf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),i=Gp(r.M)+"/documents",a={documents:n.map((function(e){return qp(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Xp(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ef(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new rp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ba(ua().mark((function e(){var t,n=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=dh.fromPath(t);n.mutations.push(new ip(r,n.precondition(r)))})),e.next=7,function(){var e=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sf(t),i=Gp(r.M)+"/documents",a={writes:n.map((function(e){return Jp(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw If();t=Kf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Cf(Tf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bd.updateTime(t):Bd.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kf.min()))throw new Cf(Tf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bd.updateTime(t)}return Bd.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jb=function(){function e(t,n,r,i){Qi(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new yg(this.asyncQueue,"transaction_retry")}return Yi(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(Ba(ua().mark((function t(){var n,r;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Vb(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!op(t)}return!1}}]),e}(),zb=function(){function e(t,n,r,i){var a=this;Qi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mf.UNAUTHENTICATED,this.clientId=jf.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return bf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Yi(e,[{key:"getConfiguration",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Cf(Tf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Af;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ba(ua().mark((function n(){var r;return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=hk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),bf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,_y(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Wb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Hb(t);case 3:return r=e.sent,bf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ak(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ak(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Hb(e){return Gb.apply(this,arguments)}function Gb(){return Gb=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return bf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Bb(t,new Ob);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}function Qb(e){return $b.apply(this,arguments)}function $b(){return $b=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return bf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Wb(t,new Lb);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function Yb(e){return Hb(e).then((function(e){return e.persistence}))}function Xb(e){return Hb(e).then((function(e){return e.localStore}))}function Jb(e){return Qb(e).then((function(e){return e.remoteStore}))}function Zb(e){return Qb(e).then((function(e){return e.syncEngine}))}function ew(e){return tw.apply(this,arguments)}function tw(){return tw=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Mk.bind(null,n.syncEngine),r.onUnlisten=jk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function i(){return ua().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fb({next:function(a){t.enqueueAndForget((function(){return bk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Cf(Tf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Cf(Tf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ek(ld(n.path),a,{includeMetadataChanges:!0,Sa:!0});return gk(e,o)},i.next=3,ew(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function rw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function i(){return ua().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fb({next:function(n){t.enqueueAndForget((function(){return bk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Cf(Tf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ek(n,a,{includeMetadataChanges:!0,Sa:!0});return gk(e,o)},i.next=3,ew(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var iw=new Map;function aw(e,t,n){if(!n)throw new Cf(Tf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ow(e,t,n,r){if(!0===t&&!0===r)throw new Cf(Tf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function uw(e){if(!dh.isDocumentKey(e))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sw(e){if(dh.isDocumentKey(e))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function cw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":If()}function lw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Cf(Tf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cw(e);throw new Cf(Tf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function fw(e,t){if(t<=0)throw new Cf(Tf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var hw=function(){function e(t){var n;if(Qi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Cf(Tf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cf(Tf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ow("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Yi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dw=function(){function e(t,n,r){Qi(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hw({}),this._settingsFrozen=!1,t instanceof ch?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Cf(Tf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(e.options.projectId)}(t))}return Yi(e,[{key:"app",get:function(){if(!this._app)throw new Cf(Tf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Cf(Tf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rf;switch(e.type){case"gapi":var t=e.client;return Ef(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Lf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Cf(Tf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=iw.get(e);t&&(bf("ComponentProvider","Removing Datastore"),iw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function pw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=lw(e,dw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=mf.MOCK_USER;else{o=pa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Cf(Tf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mf(s)}e._authCredentials=new Of(new Nf(o,u))}}var vw=function(){function e(t,n,r){Qi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Yi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mw=function(){function e(t,n,r){Qi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Yi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yw=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,e,r,ld(i)))._path=i,a.type="collection",a}return Yi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vw(this.firestore,null,new dh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mw);function gw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=La(e),aw("collection","path",t),e instanceof dw){var a=Yf.fromString.apply(Yf,[t].concat(r));return sw(a),new yw(e,null,a)}if(!(e instanceof vw||e instanceof yw))throw new Cf(Tf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Yf.fromString.apply(Yf,[t].concat(r)));return sw(o),new yw(e.firestore,null,o)}function kw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=La(e),1===arguments.length&&(t=jf.R()),aw("doc","path",t),e instanceof dw){var a=Yf.fromString.apply(Yf,[t].concat(r));return uw(a),new vw(e,null,new dh(a))}if(!(e instanceof vw||e instanceof yw))throw new Cf(Tf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Yf.fromString.apply(Yf,[t].concat(r)));return uw(o),new vw(e.firestore,e instanceof yw?e.converter:null,new dh(o))}function bw(e,t){return e=La(e),t=La(t),(e instanceof vw||e instanceof yw)&&(t instanceof vw||t instanceof yw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ww(e,t){return e=La(e),t=La(t),e instanceof mw&&t instanceof mw&&e.firestore===t.firestore&&kd(e._query,t._query)&&e.converter===t.converter}var xw=function(){function e(){var t=this;Qi(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new yg(this,"async_queue_retry"),this.Fu=function(){var e=vg();e&&bf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=vg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return Yi(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new Af;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=Ba(ua().mark((function e(){var t=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bv(e.t0)){e.next=12;break}throw e.t0;case 12:bf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=fk.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&If()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=Xi(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Xi(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function _w(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Xi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Iw=function(){function e(){Qi(this,e),this._progressObserver={},this._taskCompletionResolver=new Af,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Yi(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Ew=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new xw,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Yi(n,[{key:"_terminate",value:function(){return this._firestoreClient||Tw(this),this._firestoreClient.terminate()}}]),n}(dw);function Sw(e){return e._firestoreClient||Tw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tw(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new sh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zb(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Cw(e,t,n){var r=new Af;return e.asyncQueue.enqueue(Ba(ua().mark((function i(){return ua().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Bb(e,n);case 3:return i.next=5,Wb(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Tf.FAILED_PRECONDITION||e.code===Tf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Aw(e){return function(e){return e.asyncQueue.enqueue(Ba(ua().mark((function t(){var n,r;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yb(e);case 2:return n=t.sent,t.next=5,Jb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Sf(e);return t.ha.delete(0),Ig(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Sw(e=lw(e,Ew)))}function Nw(e){return function(e){return e.asyncQueue.enqueue(Ba(ua().mark((function t(){var n,r;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yb(e);case 2:return n=t.sent,t.next=5,Jb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sf(t)).ha.add(0),e.next=4,Sg(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Sw(e=lw(e,Ew)))}function Rw(e,t){var n=Sw(e=lw(e,Ew)),r=new Iw;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Ub(e,t)}(function(e,t){if(e instanceof Uint8Array)return Mb(e,t);if(e instanceof ArrayBuffer)return Mb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,mg(t));e.asyncQueue.enqueueAndForget(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rb,t.next=3,Zb(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Ow(e,t){return function(e,t){return e.asyncQueue.enqueue(Ba(ua().mark((function n(){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Sf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,Xb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Sw(e=lw(e,Ew)),t).then((function(t){return t?new mw(e,null,t.query):null}))}function Pw(e){if(e._initialized||e._terminated)throw new Cf(Tf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Dw=function(){function e(){Qi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jf(n)}return Yi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Lw=function(){function e(t){Qi(this,e),this._byteString=t}return Yi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(eh.fromBase64String(t))}catch(t){throw new Cf(Tf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(eh.fromUint8Array(t))}}]),e}(),Mw=Yi((function e(t){Qi(this,e),this._methodName=t})),Fw=function(){function e(t,n){if(Qi(this,e),!isFinite(t)||t<-90||t>90)throw new Cf(Tf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Cf(Tf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Yi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zf(this._lat,e._lat)||zf(this._long,e._long)}}]),e}(),Uw=/^__.*__$/,Vw=function(){function e(t,n,r){Qi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Yi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Xd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yd(e,this.data,t,this.fieldTransforms)}}]),e}(),jw=function(){function e(t,n,r){Qi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Yi(e,[{key:"toMutation",value:function(e,t){return new Xd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function zw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw If()}}var Bw=function(){function e(t,n,r,i,a,o){Qi(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Yi(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return sx(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(zw(this.zu)&&Uw.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),qw=function(){function e(t,n,r){Qi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||mg(t)}return Yi(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bw({zu:e,methodName:t,sc:n,path:Jf.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Ww(e){var t=e._freezeSettings(),n=mg(e._databaseId);return new qw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);ix("Data must be an object, but it was:",o,r);var u,s,c=nx(r,o);if(a.merge)u=new Zf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Xi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=ax(t,d,n);if(!o.contains(p))throw new Cf(Tf.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));cx(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Zf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Vw(new Ph(c),u,s)}var Hw=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Mw);function Gw(e,t,n){return new Bw({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Qw=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"_toFieldTransform",value:function(e){return new jd(e.path,new Od)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Mw),$w=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e)).rc=r,i}return Yi(n,[{key:"_toFieldTransform",value:function(e){var t=Gw(this,e,!0),n=this.rc.map((function(e){return tx(e,t)})),r=new Pd(n);return new jd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Mw),Yw=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e)).rc=r,i}return Yi(n,[{key:"_toFieldTransform",value:function(e){var t=Gw(this,e,!0),n=this.rc.map((function(e){return tx(e,t)})),r=new Ld(n);return new jd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Mw),Xw=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e)).oc=r,i}return Yi(n,[{key:"_toFieldTransform",value:function(e){var t=new Fd(e.M,Td(e.M,this.oc));return new jd(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Mw);function Jw(e,t,n,r){var i=e.ic(1,t,n);ix("Data must be an object, but it was:",i,r);var a=[],o=Ph.empty();Gf(r,(function(e,r){var u=ux(t,e,n);r=La(r);var s=i.Zu(u);if(r instanceof Hw)a.push(u);else{var c=tx(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Zf(a);return new jw(o,u,i.fieldTransforms)}function Zw(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[ax(t,r,n)],s=[i];if(a.length%2!=0)throw new Cf(Tf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ax(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ph.empty(),h=u.length-1;h>=0;--h)if(!cx(l,u[h])){var d=u[h],p=s[h];p=La(p);var v=o.Zu(d);if(p instanceof Hw)l.push(d);else{var m=tx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Zf(l);return new jw(f,y,o.fieldTransforms)}function ex(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tx(n,e.ic(r?4:3,t))}function tx(e,t){if(rx(e=La(e)))return ix("Unsupported field value:",t,e),nx(e,t);if(e instanceof Mw)return function(e,t){if(!zw(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Xi(e);try{for(a.s();!(n=a.n()).done;){var o=tx(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=La(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Td(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wf.fromDate(e);return{timestampValue:Fp(t.M,n)}}if(e instanceof Wf){var r=new Wf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fp(t.M,r)}}if(e instanceof Fw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lw)return{bytesValue:Up(t.M,e._byteString)};if(e instanceof vw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(cw(e)))}(e,t)}function nx(e,t){var n={};return Qf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gf(e,(function(e,r){var i=tx(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wf||e instanceof Fw||e instanceof Lw||e instanceof vw||e instanceof Mw)}function ix(e,t,n){if(!rx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=cw(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function ax(e,t,n){if((t=La(t))instanceof Dw)return t._internalPath;if("string"==typeof t)return ux(e,t);throw sx("Field path arguments must be of type string or ",e,!1,void 0,n)}var ox=new RegExp("[~\\*/\\[\\]]");function ux(e,t,n){if(t.search(ox)>=0)throw sx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ia(Dw,S(t.split(".")))._internalPath}catch(r){throw sx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Cf(Tf.INVALID_ARGUMENT,u+e+s)}function cx(e,t){return e.some((function(e){return e.isEqual(t)}))}var lx=function(){function e(t,n,r,i,a){Qi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Yi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fx=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"data",value:function(){return eu(Zi(n.prototype),"data",this).call(this)}}]),n}(lx);function hx(e,t){return"string"==typeof t?ux(e,t):t instanceof Dw?t._internalPath:t._delegate._internalPath}var dx=function(){function e(t,n){Qi(this,e),this.hasPendingWrites=t,this.fromCache=n}return Yi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),px=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a,o,u){var s;return Qi(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Yi(n,[{key:"exists",value:function(){return eu(Zi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lx),vx=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eu(Zi(n.prototype),"data",this).call(this,e)}}]),n}(px),mx=function(){function e(t,n,r,i){Qi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dx(i.hasPendingWrites,i.fromCache),this.query=r}return Yi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vx(n._firestore,n._userDataWriter,r.key,r,new dx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cf(Tf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new vx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yx(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return If()}}function gx(e,t){return e instanceof px&&t instanceof px?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mx&&t instanceof mx&&e._firestore===t._firestore&&ww(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function kx(e){if(hd(e)&&0===e.explicitOrderBy.length)throw new Cf(Tf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bx=Yi((function e(){Qi(this,e)}));function wx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var xx=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return Yi(n,[{key:"_apply",value:function(e){var t=Ww(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Px(o,a);var s,c=[],l=Xi(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Ox(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Ox(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Px(o,a),u=ex(n,"where",o,"in"===a||"not-in"===a);var h=Qh.create(i,a,u);return function(e,t){if(t.S()){var n=pd(e);if(null!==n&&!n.isEqual(t.field))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=dd(e);null!==r&&Dx(e,t.field,r)}var i=function(e,t){var n,r=Xi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Cf(Tf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Cf(Tf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new mw(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(bx);var _x=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return Yi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new id(t,n);return function(e,t){if(null===dd(e)){var n=pd(e);null!==n&&Dx(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new mw(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(bx);var Ix=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return Yi(n,[{key:"_apply",value:function(e){return new mw(e.firestore,e.converter,gd(e._query,this.lc,this.fc))}}]),n}(bx);var Ex=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return Yi(n,[{key:"_apply",value:function(e){var t=Rx(e,this.type,this.dc,this._c);return new mw(e.firestore,e.converter,function(e,t){return new sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(bx);function Sx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ex("startAt",t,!0)}function Tx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ex("startAfter",t,!1)}var Cx=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a;return Qi(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return Yi(n,[{key:"_apply",value:function(e){var t=Rx(e,this.type,this.dc,this._c);return new mw(e.firestore,e.converter,function(e,t){return new sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(bx);function Ax(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cx("endBefore",t,!1)}function Nx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cx("endAt",t,!0)}function Rx(e,t,n,r){if(n[0]=La(n[0]),n[0]instanceof lx)return function(e,t,n,r,i){if(!r)throw new Cf(Tf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Xi(md(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(_h(t,r.key));else{var c=r.data.field(s.field);if(ah(c))throw new Cf(Tf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new rd(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ww(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Cf(Tf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!vd(e)&&-1!==c.indexOf("/"))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Yf.fromString(c));if(!dh.isDocumentKey(l))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new dh(l);u.push(_h(t,f))}else{var h=ex(n,r,c);u.push(h)}}return new rd(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ox(e,t,n){if("string"==typeof(n=La(n))){if(""===n)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vd(t)&&-1!==n.indexOf("/"))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Yf.fromString(n));if(!dh.isDocumentKey(r))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return _h(e,new dh(r))}if(n instanceof vw)return _h(e,n._key);throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(cw(n),"."))}function Px(e,t){if(!Array.isArray(e)||0===e.length)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Dx(e,t,n){if(!n.isEqual(t))throw new Cf(Tf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Lx=function(){function e(){Qi(this,e)}return Yi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ih(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw If()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Gf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Fw(rh(e.latitude),rh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=oh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=nh(e);return new Wf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Yf.fromString(e);Ef(fv(n));var r=new ch(n.get(1),n.get(3)),i=new dh(n.popFirst(5));return r.isEqual(t)||wf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Mx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fx=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).firestore=e,r}return Yi(n,[{key:"convertBytes",value:function(e){return new Lw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vw(this.firestore,null,t)}}]),n}(Lx),Ux=function(){function e(t,n){Qi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ww(t)}return Yi(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Vx(e,this._firestore),i=Mx(r.converter,t,n),a=Kw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bd.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Vx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=La(t))||t instanceof Dw?Zw(this._dataReader,"WriteBatch.update",i._key,t,n,o):Jw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bd.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Vx(e,this._firestore);return this._mutations=this._mutations.concat(new rp(t._key,Bd.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Cf(Tf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Vx(e,t){if((e=La(e)).firestore!==t)throw new Cf(Tf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var jx=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).firestore=e,r}return Yi(n,[{key:"convertBytes",value:function(e){return new Lw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vw(this.firestore,null,t)}}]),n}(Lx);function zx(e){e=lw(e,vw);var t=lw(e.firestore,Ew),n=Sw(t),r=new jx(t);return function(e,t){var n=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function r(){return ua().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Sf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Cf(Tf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=hk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Xb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new px(t,r,e._key,n,new dx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Bx(e){e=lw(e,mw);var t=lw(e.firestore,Ew),n=Sw(t),r=new jx(t);return function(e,t){var n=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function r(){return ua().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Py(t,n,!0);case 3:i=e.sent,a=new Ok(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=hk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Xb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mx(t,r,e,n)}))}function qx(e,t,n){e=lw(e,vw);var r=lw(e.firestore,Ew),i=Mx(e.converter,t,n);return Gx(r,[Kw(Ww(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bd.none())])}function Wx(e,t,n){e=lw(e,vw);for(var r=lw(e.firestore,Ew),i=Ww(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Gx(r,[("string"==typeof(t=La(t))||t instanceof Dw?Zw(i,"updateDoc",e._key,t,n,o):Jw(i,"updateDoc",e._key,t)).toMutation(e._key,Bd.exists(!0))])}function Kx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=La(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||_w(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(_w(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof vw)l=lw(e.firestore,Ew),f=ld(e._key.path),c={next:function(t){n[s]&&n[s](Qx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=lw(e,mw);l=lw(p.firestore,Ew),f=p._query;var v=new jx(l);c={next:function(e){n[s]&&n[s](new mx(l,v,p,e))},error:n[s+1],complete:n[s+2]},kx(e._query)}return function(e,t,n,r){var i=new Fb(r),a=new Ek(t,i,n);return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gk,t.next=3,ew(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bk,t.next=3,ew(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Sw(l),f,h,c)}function Hx(e,t){return function(e,t){var n=new Fb(t);return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sf(e).Ia.add(t),t.next()},t.next=3,ew(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sf(e).Ia.delete(t)},t.next=3,ew(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Sw(e=lw(e,Ew)),_w(t)?t:{next:t})}function Gx(e,t){return function(e,t){var n=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function r(){return ua().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Bk,r.next=3,Zb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Sw(e),t)}function Qx(e,t,n){var r=n.docs.get(t._key),i=new jx(e);return new px(e,i,t._key,r,new dx(n.hasPendingWrites,n.fromCache),t.converter)}var $x=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r))._firestore=e,i}return Yi(n,[{key:"get",value:function(e){var t=this,r=Vx(e,this._firestore),i=new jx(this._firestore);return eu(Zi(n.prototype),"get",this).call(this,e).then((function(e){return new px(t._firestore,i,r._key,e._document,new dx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Qi(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ww(t)}return Yi(e,[{key:"get",value:function(e){var t=this,n=Vx(e,this._firestore),r=new Fx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return If();var i=e[0];if(i.isFoundDocument())return new lx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lx(t._firestore,r,n._key,null,n.converter);throw If()}))}},{key:"set",value:function(e,t,n){var r=Vx(e,this._firestore),i=Mx(r.converter,t,n),a=Kw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Vx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=La(t))||t instanceof Dw?Zw(this._dataReader,"Transaction.update",i._key,t,n,o):Jw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Vx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Yx(e,t){return function(e,t){var n=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function r(){var i;return ua().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Qb(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new jb(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Sw(e=lw(e,Ew)),(function(n){return t(new $x(e,n))}))}function Xx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $w("arrayUnion",t)}function Jx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yw("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yf=e}(xo),vo(new qa("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Ew(i,new Pf(e.getProvider("auth-internal")),new Ff(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Co(vf,"3.4.6",e),Co(vf,"3.4.6","esm2017")}();function Zx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Cf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function e_(){if("undefined"===typeof Uint8Array)throw new Cf("unimplemented","Uint8Arrays are not available in this environment.")}function t_(){if("undefined"==typeof atob)throw new Cf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var n_=function(){function e(t){Qi(this,e),this._delegate=t}return Yi(e,[{key:"toBase64",value:function(){return t_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return e_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return t_(),new e(Lw.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return e_(),new e(Lw.fromUint8Array(t))}}]),e}();function r_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Xi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var i_=function(){function e(){Qi(this,e)}return Yi(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Pw(e=lw(e,Ew));var n=Sw(e),r=e._freezeSettings(),i=new Lb;return Cw(n,i,new Pb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Pw(e=lw(e,Ew));var t=Sw(e),n=e._freezeSettings(),r=new Lb;return Cw(t,r,new Db(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Cf(Tf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Af;return e._queue.enqueueAndForgetEvenWhileRestricted(Ba(ua().mark((function n(){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vv.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(my(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),a_=function(){function e(t,n,r){var i=this;Qi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ch||(this._appCompat=t)}return Yi(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||xf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pw(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Aw(this._delegate)}},{key:"disableNetwork",value:function(){return Nw(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ow("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Af;return e.asyncQueue.enqueueAndForget(Ba(ua().mark((function n(){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Zk,n.next=3,Zb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Sw(e=lw(e,Ew)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Hx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Cf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new k_(this,gw(this._delegate,e))}catch(t){throw f_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new l_(this,kw(this._delegate,e))}catch(t){throw f_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new m_(this,function(e,t){if(e=lw(e,dw),aw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Cf(Tf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mw(e,null,function(e){return new sd(Yf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw f_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Yx(this._delegate,(function(n){return e(new u_(t,n))}))}},{key:"batch",value:function(){var e=this;return Sw(this._delegate),new s_(new Ux(this._delegate,(function(t){return Gx(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Rw(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Ow(this._delegate,e).then((function(e){return e?new m_(t,e):null}))}}]),e}(),o_=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this)).firestore=e,r}return Yi(n,[{key:"convertBytes",value:function(e){return new n_(new Lw(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return l_.forKey(t,this.firestore,null)}}]),n}(Lx);var u_=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new o_(t)}return Yi(e,[{key:"get",value:function(e){var t=this,n=b_(e);return this._delegate.get(n).then((function(e){return new p_(t._firestore,new px(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=b_(e);return n?(Zx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=b_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=b_(e);return this._delegate.delete(t),this}}]),e}(),s_=function(){function e(t){Qi(this,e),this._delegate=t}return Yi(e,[{key:"set",value:function(e,t,n){var r=b_(e);return n?(Zx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=b_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=b_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),c_=function(){function e(t,n,r){Qi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Yi(e,[{key:"fromFirestore",value:function(e,t){var n=new vx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new v_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new o_(t),n),i.set(n,a)),a}}]),e}();c_.INSTANCES=new WeakMap;var l_=function(){function e(t,n){Qi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new o_(t)}return Yi(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new k_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new k_(this.firestore,gw(this._delegate,e))}catch(t){throw f_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=La(e))instanceof vw&&bw(this._delegate,e)}},{key:"set",value:function(e,t){t=Zx("DocumentReference.set",t);try{return t?qx(this._delegate,e,t):qx(this._delegate,e)}catch(n){throw f_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Wx(this._delegate,e):Wx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw f_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Gx(lw(e.firestore,Ew),[new rp(e._key,Bd.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h_(n),a=d_(n,(function(t){return new p_(e.firestore,new px(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Kx(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lw(e,vw);var t=lw(e.firestore,Ew);return nw(Sw(t),e._key,{source:"server"}).then((function(n){return Qx(t,e,n)}))}(this._delegate):function(e){e=lw(e,vw);var t=lw(e.firestore,Ew);return nw(Sw(t),e._key).then((function(n){return Qx(t,e,n)}))}(this._delegate),t.then((function(e){return new p_(n.firestore,new px(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(c_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Cf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vw(n._delegate,r,new dh(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vw(n._delegate,r,t))}}]),e}();function f_(e,t,n){return e.message=e.message.replace(t,n),e}function h_(e){var t,n=Xi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!r_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function d_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=r_(e[0])?e[0]:r_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var p_=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n}return Yi(e,[{key:"ref",get:function(){return new l_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gx(this._delegate,e._delegate)}}]),e}(),v_=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||If()}(void 0!==t),t}}]),n}(p_),m_=function(){function e(t,n){Qi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new o_(t)}return Yi(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,wx(this._delegate,function(e,t,n){var r=t,i=hx("where",e);return new xx(i,r,n)}(t,n,r)))}catch(i){throw f_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,wx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hx("orderBy",e);return new _x(n,t)}(t,n)))}catch(r){throw f_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,wx(this._delegate,function(e){return fw("limit",e),new Ix("limit",e,"F")}(t)))}catch(n){throw f_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,wx(this._delegate,function(e){return fw("limitToLast",e),new Ix("limitToLast",e,"L")}(t)))}catch(n){throw f_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,wx(this._delegate,Sx.apply(void 0,arguments)))}catch(t){throw f_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,wx(this._delegate,Tx.apply(void 0,arguments)))}catch(t){throw f_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,wx(this._delegate,Ax.apply(void 0,arguments)))}catch(t){throw f_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,wx(this._delegate,Nx.apply(void 0,arguments)))}catch(t){throw f_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return ww(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Bx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lw(e,mw);var t=lw(e.firestore,Ew),n=Sw(t),r=new jx(t);return rw(n,e._query,{source:"server"}).then((function(n){return new mx(t,r,e,n)}))}(this._delegate):function(e){e=lw(e,mw);var t=lw(e.firestore,Ew),n=Sw(t),r=new jx(t);return kx(e._query),rw(n,e._query).then((function(n){return new mx(t,r,e,n)}))}(this._delegate),t.then((function(e){return new g_(n.firestore,new mx(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h_(n),a=d_(n,(function(t){return new g_(e.firestore,new mx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Kx(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(c_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),y_=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n}return Yi(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new v_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),g_=function(){function e(t,n){Qi(this,e),this._firestore=t,this._delegate=n}return Yi(e,[{key:"query",get:function(){return new m_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new v_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new y_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new v_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gx(this._delegate,e._delegate)}}]),e}(),k_=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Yi(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new l_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new l_(this.firestore,void 0===e?kw(this._delegate):kw(this._delegate,e))}catch(t){throw f_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=lw(e.firestore,Ew),r=kw(e),i=Mx(e.converter,t);return Gx(n,[Kw(Ww(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bd.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new l_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return bw(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(c_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(m_);function b_(e){return lw(e,vw)}var w_,x_=function(){function e(){Qi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ia(Dw,n)}return Yi(e,[{key:"isEqual",value:function(e){return(e=La(e))instanceof Dw&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Jf.keyField().canonicalString())}}]),e}(),__=function(){function e(t){Qi(this,e),this._delegate=t}return Yi(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Qw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Hw("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Xx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Jx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Xw("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),I_={Firestore:a_,GeoPoint:Fw,Timestamp:Wf,Blob:n_,Transaction:u_,WriteBatch:s_,DocumentReference:l_,DocumentSnapshot:p_,Query:m_,QueryDocumentSnapshot:v_,QuerySnapshot:g_,CollectionReference:k_,FieldPath:x_,FieldValue:__,setLogLevel:function(e){!function(e){gf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new qa("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},I_)))})(w_=Jo,(function(e,t){return new a_(e,t,new i_)})),w_.registerVersion("@firebase/firestore-compat","0.1.15");function E_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var S_;Object.create;var T_="facebook.com",C_="github.com",A_="google.com",N_="password",R_="twitter.com",O_="EMAIL_SIGNIN",P_="PASSWORD_RESET",D_="RECOVER_EMAIL",L_="REVERT_SECOND_FACTOR_ADDITION",M_="VERIFY_AND_CHANGE_EMAIL",F_="VERIFY_EMAIL";function U_(){return l({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var V_=function(){var e;return l(e={},"admin-restricted-operation","This operation is restricted to administrators only."),l(e,"argument-error",""),l(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),l(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),l(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),l(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),l(e,"cordova-not-ready","Cordova framework is not ready."),l(e,"cors-unsupported","This browser is not supported."),l(e,"credential-already-in-use","This credential is already associated with a different user account."),l(e,"custom-token-mismatch","The custom token corresponds to a different audience."),l(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),l(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),l(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),l(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),l(e,"email-already-in-use","The email address is already in use by another account."),l(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),l(e,"expired-action-code","The action code has expired."),l(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),l(e,"internal-error","An internal AuthError has occurred."),l(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),l(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),l(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),l(e,"invalid-auth-event","An internal AuthError has occurred."),l(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),l(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),l(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),l(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),l(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),l(e,"invalid-email","The email address is badly formatted."),l(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),l(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),l(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),l(e,"invalid-credential","The supplied auth credential is malformed or has expired."),l(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),l(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),l(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),l(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),l(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),l(e,"wrong-password","The password is invalid or the user does not have a password."),l(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),l(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),l(e,"invalid-provider-id","The specified provider ID is invalid."),l(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),l(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),l(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),l(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),l(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),l(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),l(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),l(e,"missing-continue-uri","A continue URL must be provided in the request."),l(e,"missing-iframe-start","An internal AuthError has occurred."),l(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),l(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),l(e,"missing-multi-factor-info","No second factor identifier is provided."),l(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),l(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),l(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),l(e,"app-deleted","This instance of FirebaseApp has been deleted."),l(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),l(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),l(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),l(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),l(e,"no-auth-event","An internal AuthError has occurred."),l(e,"no-such-provider","User was not linked to an account with the given provider."),l(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),l(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),l(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),l(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),l(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),l(e,"provider-already-linked","User can only be linked to one identity for the given provider."),l(e,"quota-exceeded","The project's quota for this operation has been exceeded."),l(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),l(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),l(e,"rejected-credential","The request contains malformed or mismatching credentials."),l(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),l(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),l(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),l(e,"timeout","The operation has timed out."),l(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),l(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),l(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),l(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),l(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),l(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),l(e,"unverified-email","The operation requires a verified email."),l(e,"user-cancelled","The user did not grant your application the permissions it requested."),l(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),l(e,"user-disabled","The user account has been disabled by an administrator."),l(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),l(e,"user-signed-out",""),l(e,"weak-password","The password must be 6 characters long or more."),l(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),l(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},j_=U_,z_=new _a("auth","Firebase",U_()),B_=new ro("@firebase/auth");function q_(e){if(B_.logLevel<=Qa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];B_.error.apply(B_,["Auth (".concat(xo,"): ").concat(e)].concat(n))}}function W_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Q_.apply(void 0,[e].concat(n))}function K_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q_.apply(void 0,[e].concat(n))}function H_(e,t,n){var r=Object.assign(Object.assign({},j_()),l({},t,n));return new _a("auth","Firebase",r).create(t,{appName:e.name})}function G_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&W_(e,"argument-error"),H_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Q_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=S(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(S(o)))}return z_.create.apply(z_,[e].concat(n))}function $_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Q_.apply(void 0,[t].concat(r))}}function Y_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw q_(t),new Error(t)}function X_(e,t){e||Y_(t)}var J_=new Map;function Z_(e){X_(e instanceof Function,"Expected a class definition");var t=J_.get(e);return t?(X_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,J_.set(e,t),t)}function eI(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tI(){return"http:"===nI()||"https:"===nI()}function nI(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var rI=function(){function e(t,n){Qi(this,e),this.shortDelay=t,this.longDelay=n,X_(n>t,"Short delay should be less than long delay!"),this.isMobile=ma()||ka()}return Yi(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tI()||ga()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function iI(e,t){X_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var aI=function(){function e(){Qi(this,e)}return Yi(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Y_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Y_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Y_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),oI=(l(S_={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),l(S_,"MISSING_CUSTOM_TOKEN","internal-error"),l(S_,"INVALID_IDENTIFIER","invalid-email"),l(S_,"MISSING_CONTINUE_URI","internal-error"),l(S_,"INVALID_PASSWORD","wrong-password"),l(S_,"MISSING_PASSWORD","internal-error"),l(S_,"EMAIL_EXISTS","email-already-in-use"),l(S_,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),l(S_,"INVALID_IDP_RESPONSE","invalid-credential"),l(S_,"INVALID_PENDING_TOKEN","invalid-credential"),l(S_,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),l(S_,"MISSING_REQ_TYPE","internal-error"),l(S_,"EMAIL_NOT_FOUND","user-not-found"),l(S_,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),l(S_,"EXPIRED_OOB_CODE","expired-action-code"),l(S_,"INVALID_OOB_CODE","invalid-action-code"),l(S_,"MISSING_OOB_CODE","internal-error"),l(S_,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),l(S_,"INVALID_ID_TOKEN","invalid-user-token"),l(S_,"TOKEN_EXPIRED","user-token-expired"),l(S_,"USER_NOT_FOUND","user-token-expired"),l(S_,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),l(S_,"INVALID_CODE","invalid-verification-code"),l(S_,"INVALID_SESSION_INFO","invalid-verification-id"),l(S_,"INVALID_TEMPORARY_PROOF","invalid-credential"),l(S_,"MISSING_SESSION_INFO","missing-verification-id"),l(S_,"SESSION_EXPIRED","code-expired"),l(S_,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),l(S_,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),l(S_,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),l(S_,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),l(S_,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),l(S_,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),l(S_,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),l(S_,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),l(S_,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),l(S_,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),l(S_,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),S_),uI=new rI(3e4,6e4);function sI(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function cI(e,t,n,r){return lI.apply(this,arguments)}function lI(){return lI=Ba(ua().mark((function e(t,n,r,i){var a,o=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",fI(t,a,Ba(ua().mark((function e(){var a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Aa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",aI.fetch()(vI(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},oI),n),e.prev=2,a=new mI(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw yI(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw yI(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw yI(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw H_(t,p,d);case 30:W_(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof xa)){e.next=37;break}throw e.t0;case 37:W_(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),hI.apply(this,arguments)}function dI(e,t,n,r){return pI.apply(this,arguments)}function pI(){return pI=Ba(ua().mark((function e(t,n,r,i){var a,o,u=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,cI(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&W_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?iI(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var mI=function(){function e(t){var n=this;Qi(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(K_(n.auth,"network-request-failed"))}),uI.get())}))}return Yi(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function yI(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=K_(e,t,r);return i.customData._tokenResponse=n,i}function gI(e,t){return kI.apply(this,arguments)}function kI(){return kI=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){return wI.apply(this,arguments)}function wI(){return wI=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t){return _I.apply(this,arguments)}function _I(){return _I=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function II(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function EI(){return EI=Ba(ua().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=La(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,$_((a=TI(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:II(SI(a.auth_time)),issuedAtTime:II(SI(a.iat)),expirationTime:II(SI(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function SI(e){return 1e3*Number(e)}function TI(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return q_("JWT malformed, contained fewer than 3 sections"),null;try{var a=fa(r);return a?JSON.parse(a):(q_("Failed to decode base64 JWT payload"),null)}catch(o){return q_("Caught error parsing JWT payload as JSON",o),null}}function CI(e,t){return AI.apply(this,arguments)}function AI(){return AI=Ba(ua().mark((function e(t,n){var r=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xa&&NI(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),AI.apply(this,arguments)}function NI(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var RI=function(){function e(t){Qi(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Yi(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),OI=function(){function e(t,n){Qi(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Yi(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=II(this.lastLoginAt),this.creationTime=II(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function PI(e){return DI.apply(this,arguments)}function DI(){return DI=Ba(ua().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,CI(t,xI(r,{idToken:i}));case 6:$_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?FI(o.providerUserInfo):[],s=MI(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new OI(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(){return(LI=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=La(t),e.next=3,PI(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MI(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(S(n),S(t))}function FI(e){return e.map((function(e){var t=e.providerId,n=E_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function UI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fI(t,{},Ba(ua().mark((function e(){var r,i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Aa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=vI(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",aI.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}var jI=function(){function e(){Qi(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Yi(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){$_(e.idToken,"internal-error"),$_("undefined"!==typeof e.idToken,"internal-error"),$_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=TI(e);return $_(t,"internal-error"),$_("undefined"!==typeof t.exp,"internal-error"),$_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ba(ua().mark((function e(t){var n,r=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],$_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UI(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Y_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&($_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&($_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&($_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function zI(e,t){$_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var BI=function(){function e(t){Qi(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=E_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?S(a.providerData):[],this.metadata=new OI(a.createdAt||void 0,a.lastLoginAt||void 0)}return Yi(e,[{key:"getIdToken",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CI(this,this.stsTokenManager.getToken(this.auth,t));case 2:if($_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return EI.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return LI.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&($_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){$_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ba(ua().mark((function e(t){var n,r,i=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,PI(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,CI(this,gI(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;$_(k&&_,t,"internal-error");var I=jI.fromJSON(this.name,_);$_("string"===typeof k,t,"internal-error"),zI(f,t.name),zI(h,t.name),$_("boolean"===typeof b,t,"internal-error"),$_("boolean"===typeof w,t,"internal-error"),zI(d,t.name),zI(p,t.name),zI(v,t.name),zI(m,t.name),zI(y,t.name),zI(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ba(ua().mark((function t(n,r){var i,a,o,u=arguments;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new jI).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,PI(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qI=function(){function e(){Qi(this,e),this.type="NONE",this.storage={}}return Yi(e,[{key:"_isAvailable",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qI.type="NONE";var WI=qI;function KI(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var HI=function(){function e(t,n,r){Qi(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=KI(this.userKey,a.apiKey,o),this.fullPersistenceKey=KI("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Yi(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?BI._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ba(ua().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Z_(WI),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Z_(WI),u=KI(i,n.config.apiKey,n.name),s=null,c=Xi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=BI._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function GI(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ZI(t))return"Blackberry";if(eE(t))return"Webos";if($I(t))return"Safari";if((t.includes("chrome/")||YI(t))&&!t.includes("edge/"))return"Chrome";if(JI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function QI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/firefox\//i.test(e)}function $I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function YI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/crios\//i.test(e)}function XI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/iemobile/i.test(e)}function JI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/android/i.test(e)}function ZI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/blackberry/i.test(e)}function eE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/webos/i.test(e)}function tE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/iphone|ipad|ipod/i.test(e)}function nE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return tE(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function rE(){return ba()&&10===document.documentMode}function iE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return tE(e)||JI(e)||eE(e)||ZI(e)||/windows phone/i.test(e)||XI(e)}function aE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=GI(va());break;case"Worker":t="".concat(GI(va()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xo,"/").concat(r)}var oE=function(){function e(t,n,r){Qi(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Yi(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Z_(t)),this._initializationPromise=this.queue(Ba(ua().mark((function r(){var i,a;return ua().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,HI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ba(ua().mark((function e(t){var n,r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return $_(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,PI(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?La(t):null)&&$_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ba(ua().mark((function e(t){var n=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&$_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ba(ua().mark((function n(){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Z_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _a("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return $_(n=t&&Z_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,HI.create(this,[Z_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ba(ua().mark((function e(t){var n=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return $_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ba(ua().mark((function e(){var t,n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function uE(e){return La(e)}var sE=function(){function e(t){var n=this;Qi(this,e),this.auth=t,this.observer=null,this.addObserver=Oa((function(e){return n.observer=e}))}return Yi(e,[{key:"next",get:function(){return $_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function cE(e,t,n){var r=uE(e);$_(r._canInitEmulator,r,"emulator-config-failed"),$_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=lE(t),o=function(e){var t=lE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:fE(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:fE(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var hE=function(){function e(t,n){Qi(this,e),this.providerId=t,this.signInMethod=n}return Yi(e,[{key:"toJSON",value:function(){return Y_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Y_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Y_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Y_("not implemented")}}]),e}();function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:resetPassword",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:update",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithPassword",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return xE.apply(this,arguments)}function xE(){return xE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:sendOobCode",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function _E(e,t){return IE.apply(this,arguments)}function IE(){return IE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wE(t,n));case 1:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function EE(e,t){return SE.apply(this,arguments)}function SE(){return SE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wE(t,n));case 1:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function TE(e,t){return CE.apply(this,arguments)}function CE(){return CE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wE(t,n));case 1:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function AE(e,t){return NE.apply(this,arguments)}function NE(){return NE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wE(t,n));case 1:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function RE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithEmailLink",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(e,t){return DE.apply(this,arguments)}function DE(){return DE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithEmailLink",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}var LE=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Qi(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Yi(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",kE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",RE(t,{email:this._email,oobCode:this._password}));case 5:W_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",PE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:W_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(hE);function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithIdp",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}var UE=function(e){Ji(n,e);var t=ra(n);function n(){var e;return Qi(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Yi(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ME(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ME(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ME(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Aa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):W_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=E_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(hE);function VE(e,t){return jE.apply(this,arguments)}function jE(){return jE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:sendVerificationCode",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function zE(){return zE=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithPhoneNumber",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(){return BE=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dI(t,"POST","/v1/accounts:signInWithPhoneNumber",sI(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw yI(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}var qE=l({},"USER_NOT_FOUND","user-not-found");function WE(){return WE=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithPhoneNumber",sI(t,r),qE));case 2:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}var KE=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Yi(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return zE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return BE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return WE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(hE);var HE=function(){function e(t){var n,r,i,a,o,u;Qi(this,e);var s=Na(Ra(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);$_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Yi(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Na(Ra(e)).link,n=t?Na(Ra(t)).deep_link_id:null,r=Na(Ra(e)).deep_link_id;return(r?Na(Ra(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ak){return null}}}]),e}();var GE=function(){function e(){Qi(this,e),this.providerId=e.PROVIDER_ID}return Yi(e,null,[{key:"credential",value:function(e,t){return LE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=HE.parseLink(t);return $_(n,"argument-error"),LE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();GE.PROVIDER_ID="password",GE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",GE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var QE=function(){function e(t){Qi(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Yi(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),$E=function(e){Ji(n,e);var t=ra(n);function n(){var e;return Qi(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Yi(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return S(this.scopes)}}]),n}(QE),YE=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.apply(this,arguments)}return Yi(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return $_(e.idToken||e.accessToken,"argument-error"),UE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return $_("providerId"in t&&"signInMethod"in t,"argument-error"),UE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}($E),XE=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.call(this,"facebook.com")}return Yi(n,null,[{key:"credential",value:function(e){return UE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ak){return null}}}]),n}($E);XE.FACEBOOK_SIGN_IN_METHOD="facebook.com",XE.PROVIDER_ID="facebook.com";var JE=function(e){Ji(n,e);var t=ra(n);function n(){var e;return Qi(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Yi(n,null,[{key:"credential",value:function(e,t){return UE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ak){return null}}}]),n}($E);JE.GOOGLE_SIGN_IN_METHOD="google.com",JE.PROVIDER_ID="google.com";var ZE=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.call(this,"github.com")}return Yi(n,null,[{key:"credential",value:function(e){return UE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ak){return null}}}]),n}($E);ZE.GITHUB_SIGN_IN_METHOD="github.com",ZE.PROVIDER_ID="github.com";var eS=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i;return Qi(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Yi(n,[{key:"_getIdTokenResponse",value:function(e){return ME(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ME(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ME(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hE),tS=function(e){Ji(n,e);var t=ra(n);function n(e){return Qi(this,n),$_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Yi(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=eS.fromJSON(e);return $_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return eS._create(r,n)}catch(i){return null}}}]),n}(QE),nS=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.call(this,"twitter.com")}return Yi(n,null,[{key:"credential",value:function(e,t){return UE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ak){return null}}}]),n}($E);function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signUp",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}nS.TWITTER_SIGN_IN_METHOD="twitter.com",nS.PROVIDER_ID="twitter.com";var aS=function(){function e(t){Qi(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Yi(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ba(ua().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,BI._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=oS(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ba(ua().mark((function t(n,r,i){var a;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=oS(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function oS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function uS(){return uS=Ba(ua().mark((function e(t){var n,r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new aS({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,rS(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,aS._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}var sS=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a){var o,u;return Qi(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Gr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Yi(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xa);function cS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw sS._fromErrorAndOperation(e,n,t,r);throw n}))}function lS(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,vS(!0,r,n);case 3:return e.t0=bI,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=lS(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=Ba(ua().mark((function e(t,n){var r,i,a=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=CI,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",aS._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t,n){return mS.apply(this,arguments)}function mS(){return(mS=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PI(n);case 2:i=lS(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",$_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,CI(t,cS(i,a,n,t),r);case 6:return $_((o=e.sent).idToken,i,"internal-error"),$_(u=TI(o.idToken),i,"internal-error"),s=u.sub,$_(t.uid===s,i,"user-mismatch"),e.abrupt("return",aS._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&W_(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),gS.apply(this,arguments)}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=Ba(ua().mark((function e(t,n){var r,i,a,o,u=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,cS(t,i,n);case 4:return a=e.sent,e.next=7,aS._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t){return xS.apply(this,arguments)}function xS(){return xS=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kS(uE(t),n));case 1:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(e,t){return IS.apply(this,arguments)}function IS(){return(IS=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,vS(!1,r,n.providerId);case 3:return e.abrupt("return",dS(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t){return SS.apply(this,arguments)}function SS(){return(SS=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yS(La(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TS(e,t){return CS.apply(this,arguments)}function CS(){return CS=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dI(t,"POST","/v1/accounts:signInWithCustomToken",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(){return AS=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uE(t),e.next=3,TS(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,aS._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}var NS=function(){function e(t,n){Qi(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Yi(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?RS._fromServerResponse(e,t):W_(e,"internal-error")}}]),e}(),RS=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Yi(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(NS);function OS(e,t,n){var r;$_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),$_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&($_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function PS(){return PS=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),a={requestType:"PASSWORD_RESET",email:n},r&&OS(i,a,r),e.next=5,EE(i,a);case 5:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}function DS(){return DS=Ba(ua().mark((function e(t,n,r){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dE(La(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function LS(){return LS=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yE(La(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t){return FS.apply(this,arguments)}function FS(){return FS=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,dE(r,{oobCode:n});case 3:i=e.sent,$_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return $_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:$_(i.mfaInfo,r,"internal-error");case 13:$_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=NS._fromServerResponse(uE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(){return US=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MS(La(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uE(t),e.next=3,rS(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,aS._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function zS(){return zS=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),a={requestType:"EMAIL_SIGNIN",email:n},$_(r.handleCodeInApp,i,"argument-error"),r&&OS(i,a,r),e.next=6,TE(i,a);case 6:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function BS(){return BS=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),$_((a=GE.credentialWithLink(n,r||eI()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",wS(i,a));case 4:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(e,t){return WS.apply(this,arguments)}function WS(){return WS=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:createAuthUri",sI(t,n)));case 1:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(){return KS=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tI()?eI():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qS(La(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function HS(){return(HS=Ba(ua().mark((function e(t,n){var r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&OS(r.auth,a,n),e.next=8,_E(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GS(){return(GS=Ba(ua().mark((function e(t,n,r){var i,a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&OS(i.auth,o,r),e.next=8,AE(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QS(e,t){return $S.apply(this,arguments)}function $S(){return $S=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cI(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function YS(){return(YS=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s,c;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=La(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,CI(a,QS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XS(e,t,n){return JS.apply(this,arguments)}function JS(){return JS=Ba(ua().mark((function e(t,n,r){var i,a,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,CI(t,vE(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}var ZS=Yi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qi(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),eT=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a){var o;return Qi(this,n),(o=t.call(this,e,r,i)).username=a,o}return Yi(n)}(ZS),tT=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"facebook.com",r)}return Yi(n)}(ZS),nT=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Yi(n)}(eT),rT=function(e){Ji(n,e);var t=ra(n);function n(e,r){return Qi(this,n),t.call(this,e,"google.com",r)}return Yi(n)}(ZS),iT=function(e){Ji(n,e);var t=ra(n);function n(e,r,i){return Qi(this,n),t.call(this,e,"twitter.com",r,i)}return Yi(n)}(eT);function aT(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=TI(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ZS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new tT(a,i);case"github.com":return new nT(a,i);case"google.com":return new rT(a,i);case"twitter.com":return new iT(a,i,e.screenName||null);case"custom":case"anonymous":return new ZS(a,null);default:return new ZS(a,r,i)}}(n)}var oT=function(){function e(t,n){Qi(this,e),this.type=t,this.credential=n}return Yi(e,[{key:"toJSON",value:function(){return{multiFactorSession:l({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),uT=function(){function e(t,n,r){Qi(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Yi(e,[{key:"resolveSignIn",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=uE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return NS._fromServerResponse(r,e)}));$_(i.mfaPendingCredential,r,"internal-error");var o=oT._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ba(ua().mark((function e(t){var a,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,aS._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return $_(n.user,r,"internal-error"),e.abrupt("return",aS._forOperation(n.user,n.operationType,u));case 17:W_(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function sT(e,t){return cI(e,"POST","/v2/accounts/mfaEnrollment:start",sI(e,t))}function cT(e,t){return cI(e,"POST","/v2/accounts/mfaEnrollment:withdraw",sI(e,t))}var lT=function(){function e(t){var n=this;Qi(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return NS._fromServerResponse(t.auth,e)})))}))}return Yi(e,[{key:"getSession",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=oT,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,CI(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ba(ua().mark((function e(t){var n,r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,CI(this.user,cT(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),fT=new WeakMap;var hT="__sak",dT=function(){function e(t,n){Qi(this,e),this.storageRetriever=t,this.type=n}return Yi(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(hT,"1"),this.storage.removeItem(hT),Promise.resolve(!0)):Promise.resolve(!1)}catch(ak){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var pT=function(e){Ji(n,e);var t=ra(n);function n(){var e;return Qi(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=va();return $I(e)||tE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=iE(),e._shouldAllowMigration=!0,e}return Yi(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);rE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ba(ua().mark((function e(t,r){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(Zi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ba(ua().mark((function e(t){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(Zi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(Zi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(dT);pT.type="LOCAL";var vT=pT,mT=function(e){Ji(n,e);var t=ra(n);function n(){return Qi(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Yi(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(dT);mT.type="SESSION";var yT=mT;function gT(e){return Promise.all(e.map(function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var kT=function(){function e(t){Qi(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Yi(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ba(ua().mark((function e(t){var n,r,i,a,o,u,s,c;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,gT(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function bT(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}kT.receivers=[];var wT=function(){function e(t){Qi(this,e),this.target=t,this.handlers=new Set}return Yi(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ba(ua().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=bT("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function xT(){return window}function _T(){return"undefined"!==typeof xT().WorkerGlobalScope&&"function"===typeof xT().importScripts}function IT(){return ET.apply(this,arguments)}function ET(){return(ET=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ST(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var TT="firebaseLocalStorageDb",CT="firebaseLocalStorage",AT="fbase_key",NT=function(){function e(t){Qi(this,e),this.request=t}return Yi(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function RT(e,t){return e.transaction([CT],t?"readwrite":"readonly").objectStore(CT)}function OT(){var e=indexedDB.deleteDatabase(TT);return new NT(e).toPromise()}function PT(){var e=indexedDB.open(TT,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(CT,{keyPath:AT})}catch(r){n(r)}})),e.addEventListener("success",Ba(ua().mark((function n(){var r;return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(CT)){n.next=12;break}return r.close(),n.next=5,OT();case 5:return n.t0=t,n.next=8,PT();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function DT(e,t,n){return LT.apply(this,arguments)}function LT(){return LT=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=RT(t,!0).put((l(i={},AT,n),l(i,"value",r),i)),e.abrupt("return",new NT(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t){return FT.apply(this,arguments)}function FT(){return FT=Ba(ua().mark((function e(t,n){var r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RT(t,!1).get(n),e.next=3,new NT(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),FT.apply(this,arguments)}function UT(e,t){var n=RT(e,!0).delete(t);return new NT(n).toPromise()}var VT=function(){function e(){Qi(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Yi(e,[{key:"_openDb",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,PT();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_T()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ba(ua().mark((function e(){var t=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=kT._getInstance(_T()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ba(ua().mark((function e(n,r){var i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ba(ua().mark((function e(){var t,n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IT();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new wT(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ST()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,PT();case 5:return t=e.sent,e.next=8,DT(t,hT,"1");case 8:return e.next=10,UT(t,hT);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ba(ua().mark((function e(t,n){var r=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return DT(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return MT(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ba(ua().mark((function e(t){var n=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return UT(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ba(ua().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=RT(e,!1).getAll();return new NT(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Xi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ba(ua().mark((function t(){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();VT.type="LOCAL";var jT=VT;function zT(e,t){return cI(e,"POST","/v2/accounts/mfaSignIn:start",sI(e,t))}function BT(e){return qT.apply(this,arguments)}function qT(){return qT=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cI(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function WT(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=K_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function KT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var HT=1e12,GT=function(){function e(t){Qi(this,e),this.auth=t,this.counter=HT,this._widgets=new Map}return Yi(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new QT(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||HT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||HT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||HT,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),QT=function(){function e(t,n,r){var i=this;Qi(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;$_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Yi(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var $T=KT("rcb"),YT=new rI(3e4,6e4),XT="https://www.google.com/recaptcha/api.js?",JT=function(){function e(){Qi(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xT().grecaptcha}return Yi(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $_(ZT(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(xT().grecaptcha):new Promise((function(r,i){var a=xT().setTimeout((function(){i(K_(e,"network-request-failed"))}),YT.get());xT()[$T]=function(){xT().clearTimeout(a),delete xT()[$T];var o=xT().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(K_(e,"internal-error"))},WT("".concat(XT,"?").concat(Aa({onload:$T,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(K_(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!xT().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ZT(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var eC=function(){function e(){Qi(this,e)}return Yi(e,[{key:"load",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new GT(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),tC="recaptcha",nC={theme:"light",type:"image"},rC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},nC),r=arguments.length>2?arguments[2]:void 0;Qi(this,e),this.parameters=n,this.type=tC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=uE(r),this.isInvisible="invisible"===this.parameters.size,$_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;$_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eC:new JT,this.validateStartingState()}return Yi(e,[{key:"verify",value:function(){var e=Ba(ua().mark((function e(){var t,n,r,i=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){$_(!this.parameters.sitekey,this.auth,"argument-error"),$_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=xT()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){$_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ba(ua().mark((function e(){var t,n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $_(tI()&&!_T(),this.auth,"internal-error"),e.next=3,iC();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,BT(this.auth);case 8:$_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return $_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function iC(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var aC=function(){function e(t,n){Qi(this,e),this.verificationId=t,this.onConfirmation=n}return Yi(e,[{key:"confirm",value:function(e){var t=KE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function oC(){return oC=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uE(t),e.next=3,lC(i,n,La(r));case 3:return a=e.sent,e.abrupt("return",new aC(a,(function(e){return wS(i,e)})));case 5:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return(sC=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),e.next=3,vS(!1,i,"phone");case 3:return e.next=5,lC(i.auth,n,La(r));case 5:return a=e.sent,e.abrupt("return",new aC(a,(function(e){return _S(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cC(){return(cC=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),e.next=3,lC(i.auth,n,La(r));case 3:return a=e.sent,e.abrupt("return",new aC(a,(function(e){return ES(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lC(e,t,n){return fC.apply(this,arguments)}function fC(){return fC=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,$_("string"===typeof a,t,"argument-error"),$_(r.type===tC,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return $_("enroll"===u.type,t,"internal-error"),e.next=13,sT(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return $_("signin"===u.type,t,"internal-error"),$_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,zT(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,VE(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),fC.apply(this,arguments)}function hC(){return(hC=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dS(La(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dC=function(){function e(t){Qi(this,e),this.providerId=e.PROVIDER_ID,this.auth=uE(t)}return Yi(e,[{key:"verifyPhoneNumber",value:function(e,t){return lC(this.auth,e,La(t))}}],[{key:"credential",value:function(e,t){return KE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?KE._fromTokenResponse(n,r):null}}]),e}();function pC(e,t){return t?Z_(t):($_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}dC.PROVIDER_ID="phone",dC.PHONE_SIGN_IN_METHOD="phone";var vC=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Yi(n,[{key:"_getIdTokenResponse",value:function(e){return ME(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ME(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ME(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(hE);function mC(e){return kS(e.auth,new vC(e),e.bypassAuthState)}function yC(e){var t=e.auth,n=e.user;return $_(n,t,"internal-error"),yS(n,new vC(e),e.bypassAuthState)}function gC(e){return kC.apply(this,arguments)}function kC(){return kC=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,$_(r=t.user,n,"internal-error"),e.abrupt("return",dS(r,new vC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}var bC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Qi(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Yi(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ba(ua().mark((function t(n,r){return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ba(ua().mark((function e(t){var n,r,i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:W_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){X_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){X_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),wC=new rI(2e3,1e4);function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uE(t),G_(t,n,QE),a=pC(i,r),o=new TC(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function IC(){return(IC=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G_((i=La(t)).auth,n,QE),a=pC(i.auth,r),o=new TC(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EC(e,t,n){return SC.apply(this,arguments)}function SC(){return(SC=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G_((i=La(t)).auth,n,QE),a=pC(i.auth,r),o=new TC(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TC=function(e){Ji(n,e);var t=ra(n);function n(e,r,i,a,o){var u;return Qi(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Gr(u),u}return Yi(n,[{key:"executeNotNull",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return $_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ba(ua().mark((function e(){var t,n=this;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X_(1===this.filter.length,"Popup operations only handle one event"),t=bT(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(K_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(K_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(K_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,wC.get())}()}}]),n}(bC);TC.currentPopupAction=null;var CC=new Map,AC=function(e){Ji(n,e);var t=ra(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Qi(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Yi(n,[{key:"execute",value:function(){var e=Ba(ua().mark((function e(){var t,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=CC.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,NC(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,eu(Zi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:CC.set(this.auth._key(),t);case 21:return this.bypassAuthState||CC.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ba(ua().mark((function e(t){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",eu(Zi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",eu(Zi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(bC);function NC(e,t){return RC.apply(this,arguments)}function RC(){return RC=Ba(ua().mark((function e(t,n){var r,i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(n),i=DC(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function OC(e,t){return PC.apply(this,arguments)}function PC(){return PC=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DC(t)._set(LC(n),"true"));case 1:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function DC(e){return Z_(e._redirectPersistence)}function LC(e){return KI("pendingRedirect",e.config.apiKey,e.name)}function MC(e,t,n){return function(e,t,n){return FC.apply(this,arguments)}(e,t,n)}function FC(){return FC=Ba(ua().mark((function e(t,n,r){var i,a;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uE(t),G_(t,n,QE),a=pC(i,r),e.next=5,OC(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function UC(e,t,n){return function(e,t,n){return VC.apply(this,arguments)}(e,t,n)}function VC(){return(VC=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G_((i=La(t)).auth,n,QE),a=pC(i.auth,r),e.next=5,OC(a,i.auth);case 5:return e.next=7,HC(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jC(e,t,n){return function(e,t,n){return zC.apply(this,arguments)}(e,t,n)}function zC(){return(zC=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G_((i=La(t)).auth,n,QE),a=pC(i.auth,r),e.next=5,vS(!1,i,n.providerId);case 5:return e.next=7,OC(a,i.auth);case 7:return e.next=9,HC(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BC(e,t){return qC.apply(this,arguments)}function qC(){return qC=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uE(t)._initializationPromise;case 2:return e.abrupt("return",WC(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function WC(e,t){return KC.apply(this,arguments)}function KC(){return KC=Ba(ua().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=uE(t),a=pC(i,n),o=new AC(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function HC(e){return GC.apply(this,arguments)}function GC(){return(GC=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bT("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QC=function(){function e(t){Qi(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Yi(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!YC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(K_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($C(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add($C(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function $C(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function YC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function XC(e){return JC.apply(this,arguments)}function JC(){return JC=Ba(ua().mark((function e(t){var n,r=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",cI(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}var ZC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eA=/^https?/;function tA(){return tA=Ba(ua().mark((function e(t){var n,r,i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,XC(t);case 4:n=e.sent,r=n.authorizedDomains,i=Xi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!nA(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:W_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),tA.apply(this,arguments)}function nA(e){var t=eI(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!eA.test(r))return!1;if(ZC.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var rA=new rI(3e4,6e4);function iA(){var e=xT().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=S(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var aA=null;function oA(e){return aA=aA||function(e){return new Promise((function(t,n){var r,i,a;function o(){iA(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){iA(),n(K_(e,"network-request-failed"))},timeout:rA.get()})}if(null===(i=null===(r=xT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=xT().gapi)||void 0===a?void 0:a.load)){var u=KT("iframefcb");return xT()[u]=function(){gapi.load?o():n(K_(e,"network-request-failed"))},WT("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw aA=null,e}))}(e),aA}var uA=new rI(5e3,15e3),sA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lA(e){var t=e.config;$_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?iI(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xo},i=cA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Aa(r).slice(1))}function fA(e){return hA.apply(this,arguments)}function hA(){return hA=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oA(t);case 2:return n=e.sent,$_(r=xT().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:lA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sA,dontclear:!0},(function(e){return new Promise(function(){var n=Ba(ua().mark((function n(r,i){var a,o,u;return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){xT().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=K_(t,"network-request-failed"),o=xT().setTimeout((function(){i(a)}),uA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}var dA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pA="_blank",vA="http://localhost",mA=function(){function e(t){Qi(this,e),this.window=t,this.associatedEvent=null}return Yi(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function yA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},dA),{width:r.toString(),height:i.toString(),top:a,left:o}),l=va().toLowerCase();n&&(u=YI(l)?pA:n),QI(l)&&(t=t||vA,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(nE(l)&&"_self"!==u)return gA(t||"",u),new mA(null);var h=window.open(t||"",u,f);$_(h,e,"popup-blocked");try{h.focus()}catch(d){}return new mA(h)}function gA(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var kA="__/auth/handler",bA="emulator/auth/handler";function wA(e,t,n,r,i,a){$_(e.config.authDomain,e,"auth-domain-config-required"),$_(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xo,eventId:i};if(t instanceof QE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof $E){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kA);return iI(t,bA)}(e),"?").concat(Aa(p).slice(1))}var xA="webStorageSupport",_A=function(){function e(){Qi(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=WC}return Yi(e,[{key:"_openPopup",value:function(){var e=Ba(ua().mark((function e(t,n,r,i){var a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=wA(t,n,r,eI(),i),e.abrupt("return",yA(t,o,bT()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ba(ua().mark((function e(t,n,r,i){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=wA(t,n,r,eI(),i),xT().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(X_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA(t);case 2:return n=e.sent,r=new QC(t),n.register("authEvent",(function(e){return $_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(xA,{type:xA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),W_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return tA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return iE()||$I()||tE()}}]),e}(),IA=_A,EA=function(){function e(t){Qi(this,e),this.factorId=t}return Yi(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Y_("unexpected MultiFactorSessionType")}}}]),e}(),SA=function(e){Ji(n,e);var t=ra(n);function n(e){var r;return Qi(this,n),(r=t.call(this,"phone")).credential=e,r}return Yi(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return cI(e,"POST","/v2/accounts/mfaEnrollment:finalize",sI(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return cI(e,"POST","/v2/accounts/mfaSignIn:finalize",sI(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(EA),TA=function(){function e(){Qi(this,e)}return Yi(e,null,[{key:"assertion",value:function(e){return SA._fromCredential(e)}}]),e}();TA.FACTOR_ID="phone";var CA,AA="@firebase/auth",NA="0.19.10",RA=function(){function e(t){Qi(this,e),this.auth=t,this.internalListeners=new Map}return Yi(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){$_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function OA(){return window}CA="Browser",vo(new qa("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){$_(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),$_(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:CA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(CA)},i=new oE(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Z_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),vo(new qa("auth-internal",(function(e){return function(e){return new RA(e)}(uE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Co(AA,NA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(CA)),Co(AA,NA,"esm2017");function PA(e,t,n){return DA.apply(this,arguments)}function DA(){return DA=Ba(ua().mark((function e(t,n,r){var i,a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=OA(),o=a.BuildInfo,X_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,jA(n.sessionId);case 4:return u=e.sent,s={},tE()?s.ibi=o.packageName:JI()?s.apn=o.packageName:W_(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",wA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function LA(){return LA=Ba(ua().mark((function e(t){var n,r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=OA(),r=n.BuildInfo,i={},tE()?i.iosBundleId=r.packageName:JI()?i.androidPackageName=r.packageName:W_(t,"operation-not-supported-in-this-environment"),e.next=5,XC(t,i);case 5:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e){var t=OA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function FA(e,t,n){return UA.apply(this,arguments)}function UA(){return UA=Ba(ua().mark((function e(t,n,r){var i,a,o;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(K_(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),JI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),UA.apply(this,arguments)}function VA(e){var t,n,r,i,a,o,u,s,c,l,f=OA();$_("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$_("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$_("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$_("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$_("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function jA(e){return zA.apply(this,arguments)}function zA(){return(zA=Ba(ua().mark((function e(t){var n,r,i;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=BA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BA(e){if(X_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var qA=function(e){Ji(n,e);var t=ra(n);function n(){var e;return Qi(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Yi(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),eu(Zi(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(QC);function WA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:$A(),postBody:null,tenantId:e.tenantId,error:K_(e,"no-auth-event")}}function KA(e,t){return YA()._set(XA(e),t)}function HA(e){return GA.apply(this,arguments)}function GA(){return GA=Ba(ua().mark((function e(t){var n;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YA()._get(XA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,YA()._remove(XA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function QA(e,t){var n,r,i=function(e){var t=JA(e),n=t.link?decodeURIComponent(t.link):void 0,r=JA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return JA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=JA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?K_(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function $A(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function YA(){return Z_(vT)}function XA(e){return KI("authEvent",e.config.apiKey,e.name)}function JA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||E(t)||u(t)||s();r[0];return Na(r.slice(1).join("?"))}var ZA=function(){function e(){Qi(this,e),this._redirectPersistence=yT,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=WC}return Yi(e,[{key:"_initialize",value:function(){var e=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){W_(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ba(ua().mark((function e(t,n,r,i){var a,o,u,s;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),CC.clear(),e.next=10,this._originValidation(t);case 10:return o=WA(t,r,i),e.next=13,KA(t,o);case 13:return e.next=15,PA(t,o,n);case 15:return u=e.sent,e.next=18,MA(u);case 18:return s=e.sent,e.abrupt("return",FA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return LA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=OA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ba(ua().mark((function n(){return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,HA(e);case 2:t.onEvent(tN());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ba(ua().mark((function n(r){var i,a;return ua().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,HA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=QA(i,r.url)),t.onEvent(a||tN());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");OA().handleOpenURL=function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),eN=ZA;function tN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:K_("no-auth-event")}}function nN(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function rN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return!("file:"!==nN()&&"ionic:"!==nN()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function iN(){return ba()&&11===(null===document||void 0===document?void 0:document.documentMode)}function aN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/Edge\/\d+/.test(e)}function oN(){try{var e=self.localStorage,t=bT();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return iN()||aN(e)}()||wa()}catch(n){return uN()&&wa()}return!1}function uN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sN(){return("http:"===nN()||"https:"===nN()||ga()||rN())&&!(ka()||ya())&&oN()&&!uN()}function cN(){return rN()&&"undefined"!==typeof document}function lN(){return fN.apply(this,arguments)}function fN(){return(fN=Ba(ua().mark((function e(){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hN={LOCAL:"local",NONE:"none",SESSION:"session"},dN=$_,pN="persistence";function vN(e,t){dN(Object.values(hN).includes(t),e,"invalid-persistence-type"),ka()?dN(t!==hN.SESSION,e,"unsupported-persistence-type"):ya()?dN(t===hN.NONE,e,"unsupported-persistence-type"):uN()?dN(t===hN.NONE||t===hN.LOCAL&&wa(),e,"unsupported-persistence-type"):dN(t===hN.NONE||oN(),e,"unsupported-persistence-type")}function mN(e){return yN.apply(this,arguments)}function yN(){return yN=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gN(),r=KI(pN,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function gN(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kN=$_,bN=function(){function e(){Qi(this,e),this.browserResolver=Z_(IA),this.cordovaResolver=Z_(eN),this.underlyingResolver=null,this._redirectPersistence=yT,this._completeRedirectFn=WC}return Yi(e,[{key:"_initialize",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ba(ua().mark((function e(t,n,r,i){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ba(ua().mark((function e(t,n,r,i){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kN(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wN(e){return e.unwrap()}function xN(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new TN(e,function(e,t){var n,r=La(e),i=t;return $_(t.customData.operationType,r,"argument-error"),$_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),uT._fromError(r,i)}(e,t));else if(r){var i=_N(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function _N(e){var t=(e instanceof xa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xa)&&"temporaryProof"in t&&"phoneNumber"in t)return dC.credentialFromResult(e);var n,r=t.providerId;if(!r||r===N_)return null;switch(r){case A_:n=JE;break;case T_:n=XE;break;case C_:n=ZE;break;case R_:n=nS;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?eS._create(r,u):UE._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new YE(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof xa?n.credentialFromError(e):n.credentialFromResult(e)}function IN(e,t){return t.catch((function(t){throw t instanceof xa&&xN(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_N(t)),additionalUserInfo:aT(e),user:CN.getOrCreate(r)}}))}function EN(e,t){return SN.apply(this,arguments)}function SN(){return SN=Ba(ua().mark((function e(t,n){var r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return IN(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}var TN=function(){function e(t,n){Qi(this,e),this.resolver=n,this.auth=t.wrapped()}return Yi(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return IN(wN(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),CN=function(){function e(t){Qi(this,e),this._delegate=t,this.multiFactor=function(e){var t=La(e);return fT.has(t)||fT.set(t,lT._fromUser(t)),fT.get(t)}(t)}return Yi(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IN(this.auth,_S(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EN(this.auth,uC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IN(this.auth,EC(this._delegate,t,bN)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mN(uE(this.auth));case 2:return e.abrupt("return",jC(this._delegate,t,bN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IN(this.auth,ES(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return EN(this.auth,function(e,t,n){return cC.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return IN(this.auth,function(e,t,n){return IC.apply(this,arguments)}(this._delegate,e,bN))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mN(uE(this.auth));case 2:return e.abrupt("return",UC(this._delegate,t,bN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return HS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fS(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return XS(La(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return XS(La(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return hC.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return YS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return GS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();CN.USER_MAP=new WeakMap;var AN=$_,NN=function(){function e(t,n){if(Qi(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;AN(r,"invalid-api-key",{appName:t.name}),AN(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bN:void 0;this._delegate=n.initialize({options:{persistence:ON(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(V_),this.linkUnderlyingAuth()}return Yi(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?CN.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){cE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return LS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return MS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return DS.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ba(ua().mark((function e(t,n){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IN(this._delegate,VS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return KS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=HE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ba(ua().mark((function e(){var t;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AN(sN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,BC(this._delegate,bN);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",IN(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){uE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=RN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=RN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return zS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return PS.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ba(ua().mark((function e(t){var n,r;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vN(this._delegate,t),e.t0=t,e.next=e.t0===hN.SESSION?4:e.t0===hN.LOCAL?6:e.t0===hN.NONE?11:13;break;case 4:return n=yT,e.abrupt("break",14);case 6:return e.next=8,Z_(jT)._isAvailable();case 8:return r=e.sent,n=r?jT:vT,e.abrupt("break",14);case 11:return n=WI,e.abrupt("break",14);case 13:return e.abrupt("return",W_("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return IN(this._delegate,function(e){return uS.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return IN(this._delegate,wS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return IN(this._delegate,function(e,t){return AS.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return IN(this._delegate,function(e,t,n){return wS(La(e),GE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return IN(this._delegate,function(e,t,n){return BS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return EN(this._delegate,function(e,t,n){return oC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AN(sN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",IN(this._delegate,xC(this._delegate,t,bN)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ba(ua().mark((function e(t){return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return AN(sN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,mN(this._delegate);case 3:return e.abrupt("return",MC(this._delegate,t,bN));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return US.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function RN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&CN.getOrCreate(e))},error:t,complete:n}}function ON(e,t){var n=function(e,t){var n=gN();if(!n)return[];var r=KI(pN,e,t);switch(n.getItem(r)){case hN.NONE:return[WI];case hN.LOCAL:return[jT,yT];case hN.SESSION:return[yT];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(jT)||n.push(jT),"undefined"!==typeof window)for(var r=0,i=[vT,yT];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(WI)||n.push(WI),n}NN.Persistence=hN;var PN=function(){function e(){Qi(this,e),this.providerId="phone",this._delegate=new dC(wN(Jo.auth()))}return Yi(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return dC.credential(e,t)}}]),e}();PN.PHONE_SIGN_IN_METHOD=dC.PHONE_SIGN_IN_METHOD,PN.PROVIDER_ID=dC.PROVIDER_ID;var DN=$_,LN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jo.app();Qi(this,e),DN(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new rC(t,n,i.auth()),this.type=this._delegate.type}return Yi(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new qa("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new NN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O_,PASSWORD_RESET:P_,RECOVER_EMAIL:D_,REVERT_SECOND_FACTOR_ADDITION:L_,VERIFY_AND_CHANGE_EMAIL:M_,VERIFY_EMAIL:F_}},EmailAuthProvider:GE,FacebookAuthProvider:XE,GithubAuthProvider:ZE,GoogleAuthProvider:JE,OAuthProvider:YE,SAMLAuthProvider:tS,PhoneAuthProvider:PN,PhoneMultiFactorGenerator:TA,RecaptchaVerifier:LN,TwitterAuthProvider:nS,Auth:NN,AuthCredential:hE,Error:xa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.10")}(Jo);var MN=Jo.initializeApp({apiKey:"AIzaSyDFKvDZ_bePgsor3SOZBUvOVI3Z8wqsgYQ",authDomain:"chatbox-firebase-d0c5d.firebaseapp.com",databaseURL:"https://chatbox-firebase-d0c5d-default-rtdb.firebaseio.com",projectId:"chatbox-firebase-d0c5d",storageBucket:"chatbox-firebase-d0c5d.appspot.com",messagingSenderId:"575706021600",appId:"1:575706021600:web:e0e7fa9100b3db4d7b9a85",measurementId:"G-GXX1W2NWN3"}).firestore(),FN=Jo.auth(),UN=Jo;var VN=function(){return(0,oi.jsx)("div",{style:{margin:"auto"},children:(0,oi.jsx)(Gi,{variant:"outlined",onClick:function(){var e=new UN.auth.GoogleAuthProvider;FN.signInWithPopup(e)},children:"Login with Google"})})};function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jN(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var BN=function(){return(0,oi.jsx)("div",{style:{position:"fixed",right:"10px",top:"10px"},children:(0,oi.jsx)(Gi,{variant:"contained",onClick:function(){return FN.signOut()},children:"Log Out"})})},qN="ChatRoom_messBox__vro7u",WN="ChatRoom_messMe__WzRFo",KN="ChatRoom_wrapMess__iE+wT";function HN(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t.defaultView||window}var GN=["onChange","maxRows","minRows","style","value"];function QN(e,t){return parseInt(e[t],10)||0}var $N={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},YN=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,l=f(e,GN),d=t.useRef(null!=s).current,p=t.useRef(null),v=Pr(n,p),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=p.current,n=HN(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=QN(n,"padding-bottom")+QN(n,"padding-top"),s=QN(n,"border-bottom-width")+QN(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var h=(f=Math.max(f,l))+("border-box"===a?u+s:0),d=Math.abs(f-c)<=1;b((function(e){return y.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==d)?(y.current+=1,{overflow:d,outerHeightStyle:h}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current=0,w()})),n=HN(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),Lr((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,oi.jsxs)(t.Fragment,{children:[(0,oi.jsx)("textarea",h({value:s,onChange:function(e){y.current=0,d||w(),r&&r(e)},ref:v,rows:o,style:h({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},u)},l)),(0,oi.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:h({},$N,u,{padding:0})})]})})),XN=YN;var JN=function(e){return"string"===typeof e};var ZN=t.createContext();var eR=Lr;function tR(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,oi.jsx)(ri,{styles:i})}var nR=function(e){return(0,oi.jsx)(tR,h({},e,{defaultTheme:br}))};function rR(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function iR(e){return fi("MuiInputBase",e)}var aR=hi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),oR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],uR=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Fi(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},sR=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},cR=_r("div",{name:"MuiInputBase",slot:"Root",overridesResolver:uR})((function(e){var t=e.theme,n=e.ownerState;return h({},t.typography.body1,l({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(aR.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&h({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),lR=_r("input",{name:"MuiInputBase",slot:"Input",overridesResolver:sR})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return h((l(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(aR.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),l(t,"&.".concat(aR.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),l(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),fR=(0,oi.jsx)(nR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),hR=t.forwardRef((function(e,n){var r=Rr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,l=void 0===s?{}:s,d=r.componentsProps,v=void 0===d?{}:d,g=r.defaultValue,k=r.disabled,b=r.disableInjectingGlobalStyles,w=r.endAdornment,x=r.fullWidth,_=void 0!==x&&x,I=r.id,E=r.inputComponent,S=void 0===E?"input":E,T=r.inputProps,C=void 0===T?{}:T,A=r.inputRef,N=r.maxRows,R=r.minRows,O=r.multiline,P=void 0!==O&&O,D=r.name,L=r.onBlur,M=r.onChange,F=r.onClick,U=r.onFocus,V=r.onKeyDown,j=r.onKeyUp,z=r.placeholder,B=r.readOnly,q=r.renderSuffix,W=r.rows,K=r.startAdornment,H=r.type,G=void 0===H?"text":H,Q=r.value,$=f(r,oR),Y=null!=C.value?C.value:Q,X=t.useRef(null!=Y).current,J=t.useRef(),Z=t.useCallback((function(e){0}),[]),ee=Dr(C.ref,Z),te=Dr(A,ee),ne=Dr(J,te),re=c(t.useState(!1),2),ie=re[0],ae=re[1],oe=t.useContext(ZN);var ue=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:r,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ue.focused=oe?oe.focused:ie,t.useEffect((function(){!oe&&k&&ie&&(ae(!1),L&&L())}),[oe,k,ie,L]);var se=oe&&oe.onFilled,ce=oe&&oe.onEmpty,le=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(rR(e.value)&&""!==e.value||t&&rR(e.defaultValue)&&""!==e.defaultValue)}(e)?ce&&ce():se&&se()}),[se,ce]);eR((function(){X&&le({value:Y})}),[Y,le,X]);t.useEffect((function(){le(J.current)}),[]);var fe=S,he=C;P&&"input"===fe&&(he=h(W?{type:void 0,minRows:W,maxRows:W}:{type:void 0,maxRows:N,minRows:R},he),fe=XN);t.useEffect((function(){oe&&oe.setAdornedStart(Boolean(K))}),[oe,K]);var de=h({},r,{color:ue.color||"primary",disabled:ue.disabled,endAdornment:w,error:ue.error,focused:ue.focused,formControl:oe,fullWidth:_,hiddenLabel:ue.hiddenLabel,multiline:P,size:ue.size,startAdornment:K,type:G}),pe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return m({root:["root","color".concat(Fi(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},iR,t)}(de),ve=l.Root||cR,me=v.root||{},ye=l.Input||lR;return he=h({},he,v.input),(0,oi.jsxs)(t.Fragment,{children:[!b&&fR,(0,oi.jsxs)(ve,h({},me,!JN(ve)&&{ownerState:h({},de,me.ownerState)},{ref:n,onClick:function(e){J.current&&e.currentTarget===e.target&&J.current.focus(),F&&F(e)}},$,{className:p(pe.root,me.className,u),children:[K,(0,oi.jsx)(ZN.Provider,{value:null,children:(0,oi.jsx)(ye,h({ownerState:de,"aria-invalid":ue.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:g,disabled:ue.disabled,id:I,onAnimationStart:function(e){le("mui-auto-fill-cancel"===e.animationName?J.current:{value:"x"})},name:D,placeholder:z,readOnly:B,required:ue.required,rows:W,value:Y,onKeyDown:V,onKeyUp:j,type:G},he,!JN(ye)&&{as:fe,ownerState:h({},de,he.ownerState)},{ref:ne,className:p(pe.input,he.className),onBlur:function(e){L&&L(e),C.onBlur&&C.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ae(!1)},onChange:function(e){if(!X){var t=e.target||J.current;if(null==t)throw new Error(y(1));le({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.onChange&&C.onChange.apply(C,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){ue.disabled?e.stopPropagation():(U&&U(e),C.onFocus&&C.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ae(!0))}}))}),w,q?q(h({},ue,{startAdornment:K})):null]}))]})})),dR=hR;function pR(e){return fi("MuiInput",e)}var vR=h({},aR,hi("MuiInput",["root","underline","input"])),mR=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],yR=_r(cR,{shouldForwardProp:function(e){return wr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(S(uR(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return h({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(l(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(vR.focused,":after"),{transform:"scaleX(1)"}),l(t,"&.".concat(vR.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),l(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),l(t,"&:hover:not(.".concat(vR.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),l(t,"&.".concat(vR.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),gR=_r(lR,{name:"MuiInput",slot:"Input",overridesResolver:sR})({}),kR=t.forwardRef((function(e,t){var n=Rr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,d=n.multiline,p=void 0!==d&&d,v=n.type,y=void 0===v?"text":v,g=f(n,mR),k=function(e){var t=e.classes;return h({},t,m({root:["root",!e.disableUnderline&&"underline"],input:["input"]},pR,t))}(n),b={root:{ownerState:{disableUnderline:r}}},w=o?ut(o,b):b;return(0,oi.jsx)(dR,h({components:h({Root:yR,Input:gR},a),componentsProps:w,fullWidth:s,inputComponent:l,multiline:p,ref:t,type:y},g,{classes:k}))}));kR.muiName="Input";var bR=kR;var wR=function(e){var n=e.scroll,r=c((0,t.useState)(""),2),i=r[0],a=r[1],o=function(){var e=Ba(ua().mark((function e(){var t,r,o,u;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=FN.currentUser,r=t.uid,o=t.photoURL,u=t.displayName,""===i){e.next=5;break}return a(""),e.next=5,MN.collection("chatbox").add({text:i,displayName:u,uid:r,photoURL:o,createdAt:UN.firestore.FieldValue.serverTimestamp()});case 5:n.current.scrollIntoView({behavior:"smooth",block:"center"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,oi.jsxs)("div",{style:{margin:"auto"},children:[(0,oi.jsx)(bR,{placeholder:"Nh\u1eadp tin nh\u1eafn",value:i,onChange:function(e){return a(e.target.value)}}),(0,oi.jsx)(Gi,{variant:"contained",onClick:o,children:"G\u1eedi"})]})};var xR=function(){var e=(0,t.useRef)(),n=c((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){MN.collection("chatbox").orderBy("createdAt").limit(50).onSnapshot((function(e){var t=e.docs.map((function(e){return zN(zN({},e.data()),{},{id:e.id})}));i(t)}))}),[]),(0,oi.jsxs)("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,oi.jsx)(BN,{}),(0,oi.jsx)("ul",{className:KN,children:r.map((function(t){var n=t.text,r=t.id,i=(t.displayName,t.photoURL),a=t.uid;return(0,oi.jsxs)("li",{ref:e,className:"".concat(a===FN.currentUser.uid?p(WN):p(qN)),children:[(0,oi.jsx)("img",{style:{width:"45px",borderRadius:"50%",margin:"0 10px"},src:i}),(0,oi.jsx)("h3",{style:{margin:"16px 10px"},children:n})]},r)}))}),(0,oi.jsx)(wR,{scroll:e})]})};function _R(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function IR(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var ER=function(){return ER=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ER.apply(this,arguments)},SR=function(e){return{loading:void 0===e||null===e,value:e}},TR=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return ER(ER({},e),{error:t.error,loading:!1,value:void 0});case"reset":return SR(t.defaultValue);case"value":return ER(ER({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),SR(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},CR=function(e,n){var r=TR((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,u=r.setValue,s=r.value;(0,t.useEffect)((function(){var t=function(e,t,n,r){return La(e).onAuthStateChanged(t,n,r)}(e,(function(e){return _R(void 0,void 0,void 0,(function(){var t;return IR(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){t()}}),[e]);var c=[s,a,i];return(0,t.useMemo)((function(){return c}),c)};var AR=function(){var e=c(CR(FN),1)[0];return(0,oi.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex"},children:e?(0,oi.jsx)(xR,{}):(0,oi.jsx)(VN,{})})},NR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,oi.jsx)(t.StrictMode,{children:(0,oi.jsx)(AR,{})}),document.getElementById("root")),NR()}()}();
//# sourceMappingURL=main.dce5b55e.js.map